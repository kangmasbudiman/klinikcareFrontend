{"version":3,"sources":["../../../../src/app/%28dashboard%29/settings/roles/page.tsx","../../../../src/components/roles/role-table.tsx","../../../../src/services/role.service.ts","../../../../src/components/roles/role-modal.tsx","../../../../src/lib/validations/role.ts","../../../../src/services/permission.service.ts","../../../../src/components/roles/role-detail-modal.tsx","../../../../src/components/roles/delete-confirm-modal.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect, useCallback } from \"react\";\nimport { motion } from \"framer-motion\";\nimport { toast } from \"sonner\";\nimport {\n  Shield,\n  CheckCircle,\n  XCircle,\n  Lock,\n  Search,\n  Plus,\n  RefreshCw,\n  Filter,\n} from \"lucide-react\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\";\nimport {\n  RoleTable,\n  RoleModal,\n  RoleDetailModal,\n  DeleteConfirmModal,\n} from \"@/components/roles\";\nimport roleService from \"@/services/role.service\";\nimport type { Role, RoleStats, RoleFilters } from \"@/types/role\";\n\nconst statsCardConfig = [\n  {\n    key: \"total\",\n    title: \"Total Role\",\n    icon: Shield,\n    gradient: \"from-blue-500 to-blue-600\",\n    bgLight: \"bg-blue-50 dark:bg-blue-950/50\",\n    iconColor: \"text-blue-600 dark:text-blue-400\",\n  },\n  {\n    key: \"active\",\n    title: \"Role Aktif\",\n    icon: CheckCircle,\n    gradient: \"from-emerald-500 to-emerald-600\",\n    bgLight: \"bg-emerald-50 dark:bg-emerald-950/50\",\n    iconColor: \"text-emerald-600 dark:text-emerald-400\",\n  },\n  {\n    key: \"inactive\",\n    title: \"Role Nonaktif\",\n    icon: XCircle,\n    gradient: \"from-red-500 to-red-600\",\n    bgLight: \"bg-red-50 dark:bg-red-950/50\",\n    iconColor: \"text-red-600 dark:text-red-400\",\n  },\n  {\n    key: \"system\",\n    title: \"System Role\",\n    icon: Lock,\n    gradient: \"from-purple-500 to-purple-600\",\n    bgLight: \"bg-purple-50 dark:bg-purple-950/50\",\n    iconColor: \"text-purple-600 dark:text-purple-400\",\n  },\n];\n\nexport default function RolesPage() {\n  const [roles, setRoles] = useState<Role[]>([]);\n  const [stats, setStats] = useState<RoleStats | null>(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const [isRefreshing, setIsRefreshing] = useState(false);\n\n  const [currentPage, setCurrentPage] = useState(1);\n  const [totalPages, setTotalPages] = useState(1);\n\n  const [filters, setFilters] = useState<RoleFilters>({\n    search: \"\",\n    status: \"all\",\n    page: 1,\n    per_page: 10,\n  });\n\n  const [isRoleModalOpen, setIsRoleModalOpen] = useState(false);\n  const [isDetailModalOpen, setIsDetailModalOpen] = useState(false);\n  const [isDeleteModalOpen, setIsDeleteModalOpen] = useState(false);\n  const [selectedRole, setSelectedRole] = useState<Role | null>(null);\n\n  const fetchRoles = useCallback(async () => {\n    try {\n      const response = await roleService.getRoles(filters);\n      setRoles(response.data);\n      setCurrentPage(response.meta.current_page);\n      setTotalPages(response.meta.last_page);\n    } catch (error) {\n      console.error(\"Error fetching roles:\", error);\n      toast.error(\"Gagal memuat data role\");\n    }\n  }, [filters]);\n\n  const fetchStats = useCallback(async () => {\n    try {\n      const response = await roleService.getRoleStats();\n      setStats(response.data);\n    } catch (error) {\n      console.error(\"Error fetching stats:\", error);\n    }\n  }, []);\n\n  useEffect(() => {\n    const loadData = async () => {\n      setIsLoading(true);\n      await Promise.all([fetchRoles(), fetchStats()]);\n      setIsLoading(false);\n    };\n    loadData();\n  }, [fetchRoles, fetchStats]);\n\n  const handleRefresh = async () => {\n    setIsRefreshing(true);\n    await Promise.all([fetchRoles(), fetchStats()]);\n    setIsRefreshing(false);\n    toast.success(\"Data berhasil diperbarui\");\n  };\n\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      setFilters((prev) => ({ ...prev, page: 1 }));\n    }, 300);\n    return () => clearTimeout(timer);\n  }, [filters.search]);\n\n  const handleFilterChange = (key: keyof RoleFilters, value: string | number) => {\n    setFilters((prev) => ({ ...prev, [key]: value, page: 1 }));\n  };\n\n  const handlePageChange = (page: number) => {\n    setFilters((prev) => ({ ...prev, page }));\n  };\n\n  const handleView = async (role: Role) => {\n    try {\n      // Fetch full role details with permissions\n      const response = await roleService.getRoleById(role.id);\n      setSelectedRole(response.data);\n      setIsDetailModalOpen(true);\n    } catch (error) {\n      console.error(\"Error fetching role details:\", error);\n      toast.error(\"Gagal memuat detail role\");\n    }\n  };\n\n  const handleEdit = async (role: Role) => {\n    try {\n      // Fetch full role details with permissions\n      const response = await roleService.getRoleById(role.id);\n      setSelectedRole(response.data);\n      setIsRoleModalOpen(true);\n    } catch (error) {\n      console.error(\"Error fetching role details:\", error);\n      toast.error(\"Gagal memuat detail role\");\n    }\n  };\n\n  const handleDelete = (role: Role) => {\n    setSelectedRole(role);\n    setIsDeleteModalOpen(true);\n  };\n\n  const handleToggleStatus = async (role: Role) => {\n    try {\n      await roleService.toggleRoleStatus(role.id);\n      toast.success(\n        role.is_active\n          ? \"Role berhasil dinonaktifkan\"\n          : \"Role berhasil diaktifkan\"\n      );\n      await Promise.all([fetchRoles(), fetchStats()]);\n    } catch (error) {\n      console.error(\"Error toggling status:\", error);\n      toast.error(\"Gagal mengubah status role\");\n    }\n  };\n\n  const handleAddRole = () => {\n    setSelectedRole(null);\n    setIsRoleModalOpen(true);\n  };\n\n  const handleRoleModalSuccess = async () => {\n    toast.success(\n      selectedRole\n        ? \"Role berhasil diperbarui\"\n        : \"Role berhasil dibuat\"\n    );\n    await Promise.all([fetchRoles(), fetchStats()]);\n  };\n\n  const handleDeleteConfirm = async () => {\n    if (!selectedRole) return;\n    try {\n      await roleService.deleteRole(selectedRole.id);\n      toast.success(\"Role berhasil dihapus\");\n      await Promise.all([fetchRoles(), fetchStats()]);\n    } catch (error) {\n      console.error(\"Error deleting role:\", error);\n      toast.error(\"Gagal menghapus role\");\n      throw error;\n    }\n  };\n\n  const containerVariants = {\n    hidden: { opacity: 0 },\n    show: {\n      opacity: 1,\n      transition: {\n        staggerChildren: 0.1,\n      },\n    },\n  };\n\n  const itemVariants = {\n    hidden: { opacity: 0, y: 20 },\n    show: { opacity: 1, y: 0 },\n  };\n\n  const getStatsValue = (key: string): number => {\n    if (!stats) return 0;\n    return (stats[key as keyof RoleStats] as number) || 0;\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Page Header */}\n      <motion.div\n        initial={{ opacity: 0, y: -20 }}\n        animate={{ opacity: 1, y: 0 }}\n        className=\"flex flex-col gap-4 md:flex-row md:items-center md:justify-between\"\n      >\n        <div>\n          <h1 className=\"text-2xl md:text-3xl font-bold\">Hak Akses</h1>\n          <p className=\"text-muted-foreground mt-1\">\n            Kelola role dan permission pengguna\n          </p>\n        </div>\n        <div className=\"flex items-center gap-2\">\n          <Button\n            variant=\"outline\"\n            size=\"sm\"\n            onClick={handleRefresh}\n            disabled={isRefreshing}\n          >\n            <RefreshCw\n              className={`h-4 w-4 mr-2 ${isRefreshing ? \"animate-spin\" : \"\"}`}\n            />\n            Refresh\n          </Button>\n          <Button size=\"sm\" onClick={handleAddRole}>\n            <Plus className=\"h-4 w-4 mr-2\" />\n            Tambah Role\n          </Button>\n        </div>\n      </motion.div>\n\n      {/* Stats Cards */}\n      <motion.div\n        variants={containerVariants}\n        initial=\"hidden\"\n        animate=\"show\"\n        className=\"grid gap-4 md:grid-cols-2 lg:grid-cols-4\"\n      >\n        {statsCardConfig.map((stat) => (\n          <motion.div key={stat.key} variants={itemVariants}>\n            <Card className=\"relative overflow-hidden hover:shadow-lg transition-shadow\">\n              <CardHeader className=\"flex flex-row items-center justify-between pb-2\">\n                <CardTitle className=\"text-sm font-medium text-muted-foreground\">\n                  {stat.title}\n                </CardTitle>\n                <div className={`p-2.5 rounded-xl ${stat.bgLight}`}>\n                  <stat.icon className={`h-5 w-5 ${stat.iconColor}`} />\n                </div>\n              </CardHeader>\n              <CardContent>\n                <div className=\"text-2xl md:text-3xl font-bold\">\n                  {isLoading ? (\n                    <div className=\"h-8 w-16 bg-muted animate-pulse rounded\" />\n                  ) : (\n                    getStatsValue(stat.key)\n                  )}\n                </div>\n              </CardContent>\n              <div\n                className={`absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r ${stat.gradient}`}\n              />\n            </Card>\n          </motion.div>\n        ))}\n      </motion.div>\n\n      {/* Filters */}\n      <motion.div\n        initial={{ opacity: 0, y: 10 }}\n        animate={{ opacity: 1, y: 0 }}\n        transition={{ delay: 0.2 }}\n      >\n        <Card>\n          <CardContent className=\"pt-6\">\n            <div className=\"flex flex-col gap-4 md:flex-row md:items-center\">\n              {/* Search */}\n              <div className=\"relative flex-1\">\n                <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground\" />\n                <Input\n                  placeholder=\"Cari nama role...\"\n                  className=\"pl-10\"\n                  value={filters.search}\n                  onChange={(e) => handleFilterChange(\"search\", e.target.value)}\n                />\n              </div>\n\n              {/* Status Filter */}\n              <div className=\"flex items-center gap-2\">\n                <Filter className=\"h-4 w-4 text-muted-foreground\" />\n                <Select\n                  value={filters.status}\n                  onValueChange={(value) => handleFilterChange(\"status\", value)}\n                >\n                  <SelectTrigger className=\"w-[160px]\">\n                    <SelectValue placeholder=\"Status\" />\n                  </SelectTrigger>\n                  <SelectContent>\n                    <SelectItem value=\"all\">Semua Status</SelectItem>\n                    <SelectItem value=\"active\">Aktif</SelectItem>\n                    <SelectItem value=\"inactive\">Nonaktif</SelectItem>\n                  </SelectContent>\n                </Select>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n      </motion.div>\n\n      {/* Role Table */}\n      <motion.div\n        initial={{ opacity: 0, y: 10 }}\n        animate={{ opacity: 1, y: 0 }}\n        transition={{ delay: 0.3 }}\n      >\n        <RoleTable\n          roles={roles}\n          isLoading={isLoading}\n          currentPage={currentPage}\n          totalPages={totalPages}\n          onPageChange={handlePageChange}\n          onView={handleView}\n          onEdit={handleEdit}\n          onDelete={handleDelete}\n          onToggleStatus={handleToggleStatus}\n        />\n      </motion.div>\n\n      {/* Modals */}\n      <RoleModal\n        open={isRoleModalOpen}\n        onOpenChange={setIsRoleModalOpen}\n        role={selectedRole}\n        onSuccess={handleRoleModalSuccess}\n      />\n\n      <RoleDetailModal\n        open={isDetailModalOpen}\n        onOpenChange={setIsDetailModalOpen}\n        role={selectedRole}\n        onEdit={() => {\n          setIsDetailModalOpen(false);\n          setIsRoleModalOpen(true);\n        }}\n        onToggleStatus={() => {\n          if (selectedRole) {\n            handleToggleStatus(selectedRole);\n          }\n        }}\n      />\n\n      <DeleteConfirmModal\n        open={isDeleteModalOpen}\n        onOpenChange={setIsDeleteModalOpen}\n        role={selectedRole}\n        onConfirm={handleDeleteConfirm}\n      />\n    </div>\n  );\n}\n","\"use client\";\n\nimport { motion } from \"framer-motion\";\nimport {\n  Eye,\n  Edit,\n  Trash2,\n  Power,\n  MoreHorizontal,\n  ChevronLeft,\n  ChevronRight,\n  Shield,\n  Users,\n  Lock,\n} from \"lucide-react\";\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow,\n} from \"@/components/ui/table\";\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuSeparator,\n  DropdownMenuTrigger,\n} from \"@/components/ui/dropdown-menu\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport type { Role } from \"@/types/role\";\nimport roleService from \"@/services/role.service\";\n\ninterface RoleTableProps {\n  roles: Role[];\n  isLoading?: boolean;\n  currentPage: number;\n  totalPages: number;\n  onPageChange: (page: number) => void;\n  onView: (role: Role) => void;\n  onEdit: (role: Role) => void;\n  onDelete: (role: Role) => void;\n  onToggleStatus: (role: Role) => void;\n}\n\nfunction SkeletonRow() {\n  return (\n    <TableRow>\n      <TableCell>\n        <div className=\"flex items-center gap-3\">\n          <div className=\"h-10 w-10 rounded-xl bg-muted animate-pulse\" />\n          <div className=\"space-y-2\">\n            <div className=\"h-4 w-32 bg-muted animate-pulse rounded\" />\n            <div className=\"h-3 w-20 bg-muted animate-pulse rounded\" />\n          </div>\n        </div>\n      </TableCell>\n      <TableCell>\n        <div className=\"h-4 w-48 bg-muted animate-pulse rounded\" />\n      </TableCell>\n      <TableCell>\n        <div className=\"h-4 w-16 bg-muted animate-pulse rounded\" />\n      </TableCell>\n      <TableCell>\n        <div className=\"h-4 w-16 bg-muted animate-pulse rounded\" />\n      </TableCell>\n      <TableCell>\n        <div className=\"h-6 w-16 bg-muted animate-pulse rounded-full\" />\n      </TableCell>\n      <TableCell>\n        <div className=\"h-8 w-8 bg-muted animate-pulse rounded\" />\n      </TableCell>\n    </TableRow>\n  );\n}\n\nfunction EmptyState() {\n  return (\n    <TableRow>\n      <TableCell colSpan={6} className=\"h-48\">\n        <div className=\"flex flex-col items-center justify-center text-center\">\n          <div className=\"p-4 rounded-full bg-muted/50 mb-4\">\n            <Shield className=\"h-8 w-8 text-muted-foreground\" />\n          </div>\n          <h3 className=\"font-semibold text-lg\">Tidak ada role</h3>\n          <p className=\"text-sm text-muted-foreground mt-1\">\n            Belum ada role yang sesuai dengan filter\n          </p>\n        </div>\n      </TableCell>\n    </TableRow>\n  );\n}\n\nexport function RoleTable({\n  roles,\n  isLoading = false,\n  currentPage,\n  totalPages,\n  onPageChange,\n  onView,\n  onEdit,\n  onDelete,\n  onToggleStatus,\n}: RoleTableProps) {\n  return (\n    <div className=\"space-y-4\">\n      <div className=\"rounded-xl border bg-card overflow-hidden\">\n        <Table>\n          <TableHeader>\n            <TableRow className=\"bg-muted/50 hover:bg-muted/50\">\n              <TableHead className=\"font-semibold\">Role</TableHead>\n              <TableHead className=\"font-semibold\">Deskripsi</TableHead>\n              <TableHead className=\"font-semibold w-[120px]\">\n                Permissions\n              </TableHead>\n              <TableHead className=\"font-semibold w-[100px]\">Users</TableHead>\n              <TableHead className=\"font-semibold w-[100px]\">Status</TableHead>\n              <TableHead className=\"font-semibold w-[80px]\">Aksi</TableHead>\n            </TableRow>\n          </TableHeader>\n          <TableBody>\n            {isLoading ? (\n              <>\n                <SkeletonRow />\n                <SkeletonRow />\n                <SkeletonRow />\n                <SkeletonRow />\n                <SkeletonRow />\n              </>\n            ) : roles.length === 0 ? (\n              <EmptyState />\n            ) : (\n              roles.map((role, index) => (\n                <motion.tr\n                  key={role.id}\n                  initial={{ opacity: 0, x: -10 }}\n                  animate={{ opacity: 1, x: 0 }}\n                  transition={{ delay: index * 0.05 }}\n                  className=\"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted\"\n                >\n                  <TableCell>\n                    <div className=\"flex items-center gap-3\">\n                      <div\n                        className={`p-2.5 rounded-xl ${roleService.getSolidColorClass(role.color)} text-white`}\n                      >\n                        <Shield className=\"h-5 w-5\" />\n                      </div>\n                      <div className=\"min-w-0\">\n                        <div className=\"flex items-center gap-2\">\n                          <p className=\"font-medium truncate\">\n                            {role.display_name}\n                          </p>\n                          {role.is_system && (\n                            <Lock className=\"h-3.5 w-3.5 text-muted-foreground\" />\n                          )}\n                        </div>\n                        <p className=\"text-sm text-muted-foreground\">\n                          {role.name}\n                        </p>\n                      </div>\n                    </div>\n                  </TableCell>\n                  <TableCell>\n                    <p className=\"text-sm text-muted-foreground truncate max-w-xs\">\n                      {role.description || \"-\"}\n                    </p>\n                  </TableCell>\n                  <TableCell>\n                    <div className=\"flex items-center gap-1.5\">\n                      <Shield className=\"h-4 w-4 text-muted-foreground\" />\n                      <span className=\"font-medium\">\n                        {role.permissions_count || 0}\n                      </span>\n                    </div>\n                  </TableCell>\n                  <TableCell>\n                    <div className=\"flex items-center gap-1.5\">\n                      <Users className=\"h-4 w-4 text-muted-foreground\" />\n                      <span className=\"font-medium\">\n                        {role.users_count || 0}\n                      </span>\n                    </div>\n                  </TableCell>\n                  <TableCell>\n                    <Badge variant={role.is_active ? \"success\" : \"error\"}>\n                      {role.is_active ? \"Aktif\" : \"Nonaktif\"}\n                    </Badge>\n                  </TableCell>\n                  <TableCell>\n                    <DropdownMenu>\n                      <DropdownMenuTrigger asChild>\n                        <Button variant=\"ghost\" size=\"icon\" className=\"h-8 w-8\">\n                          <MoreHorizontal className=\"h-4 w-4\" />\n                          <span className=\"sr-only\">Buka menu</span>\n                        </Button>\n                      </DropdownMenuTrigger>\n                      <DropdownMenuContent align=\"end\" className=\"w-48\">\n                        <DropdownMenuItem onClick={() => onView(role)}>\n                          <Eye className=\"mr-2 h-4 w-4\" />\n                          Lihat Detail\n                        </DropdownMenuItem>\n                        <DropdownMenuItem onClick={() => onEdit(role)}>\n                          <Edit className=\"mr-2 h-4 w-4\" />\n                          Edit\n                        </DropdownMenuItem>\n                        {!role.is_system && (\n                          <>\n                            <DropdownMenuItem\n                              onClick={() => onToggleStatus(role)}\n                            >\n                              <Power className=\"mr-2 h-4 w-4\" />\n                              {role.is_active ? \"Nonaktifkan\" : \"Aktifkan\"}\n                            </DropdownMenuItem>\n                            <DropdownMenuSeparator />\n                            <DropdownMenuItem\n                              onClick={() => onDelete(role)}\n                              className=\"text-destructive focus:text-destructive\"\n                              disabled={(role.users_count || 0) > 0}\n                            >\n                              <Trash2 className=\"mr-2 h-4 w-4\" />\n                              Hapus\n                            </DropdownMenuItem>\n                          </>\n                        )}\n                      </DropdownMenuContent>\n                    </DropdownMenu>\n                  </TableCell>\n                </motion.tr>\n              ))\n            )}\n          </TableBody>\n        </Table>\n      </div>\n\n      {totalPages > 1 && (\n        <div className=\"flex items-center justify-between px-2\">\n          <p className=\"text-sm text-muted-foreground\">\n            Halaman {currentPage} dari {totalPages}\n          </p>\n          <div className=\"flex items-center gap-2\">\n            <Button\n              variant=\"outline\"\n              size=\"sm\"\n              onClick={() => onPageChange(currentPage - 1)}\n              disabled={currentPage <= 1}\n            >\n              <ChevronLeft className=\"h-4 w-4 mr-1\" />\n              Sebelumnya\n            </Button>\n            <Button\n              variant=\"outline\"\n              size=\"sm\"\n              onClick={() => onPageChange(currentPage + 1)}\n              disabled={currentPage >= totalPages}\n            >\n              Selanjutnya\n              <ChevronRight className=\"h-4 w-4 ml-1\" />\n            </Button>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n","import api from \"@/lib/axios\";\nimport type {\n  Role,\n  RoleFilters,\n  RoleListResponse,\n  RoleResponse,\n  RoleStats,\n  RoleStatsResponse,\n  RolePayload,\n} from \"@/types/role\";\nimport type { PermissionGroup } from \"@/types/permission\";\n\nconst roleService = {\n  /**\n   * Get all roles with pagination and filters\n   */\n  async getRoles(filters: RoleFilters = {}): Promise<RoleListResponse> {\n    const response = await api.get<RoleListResponse>(\"/api/roles\", {\n      params: {\n        search: filters.search || undefined,\n        status: filters.status === \"all\" ? undefined : filters.status,\n        page: filters.page || 1,\n        per_page: filters.per_page || 10,\n      },\n    });\n    return response.data;\n  },\n\n  /**\n   * Get active roles for dropdown\n   */\n  async getActiveRoles(): Promise<{ success: boolean; data: Role[] }> {\n    const response = await api.get<{ success: boolean; data: Role[] }>(\n      \"/api/roles/active\"\n    );\n    return response.data;\n  },\n\n  /**\n   * Get single role by ID\n   */\n  async getRoleById(id: number | string): Promise<RoleResponse> {\n    const response = await api.get<RoleResponse>(`/api/roles/${id}`);\n    return response.data;\n  },\n\n  /**\n   * Create new role\n   */\n  async createRole(payload: RolePayload): Promise<RoleResponse> {\n    const response = await api.post<RoleResponse>(\"/api/roles\", payload);\n    return response.data;\n  },\n\n  /**\n   * Update existing role\n   */\n  async updateRole(\n    id: number | string,\n    payload: RolePayload\n  ): Promise<RoleResponse> {\n    const response = await api.put<RoleResponse>(`/api/roles/${id}`, payload);\n    return response.data;\n  },\n\n  /**\n   * Delete role\n   */\n  async deleteRole(\n    id: number | string\n  ): Promise<{ success: boolean; message: string }> {\n    const response = await api.delete<{ success: boolean; message: string }>(\n      `/api/roles/${id}`\n    );\n    return response.data;\n  },\n\n  /**\n   * Toggle role active status\n   */\n  async toggleRoleStatus(id: number | string): Promise<RoleResponse> {\n    const response = await api.patch<RoleResponse>(\n      `/api/roles/${id}/toggle-status`\n    );\n    return response.data;\n  },\n\n  /**\n   * Get role statistics\n   */\n  async getRoleStats(): Promise<RoleStatsResponse> {\n    const response = await api.get<RoleStatsResponse>(\"/api/roles/stats\");\n    return response.data;\n  },\n\n  /**\n   * Update permissions for a role\n   */\n  async updateRolePermissions(\n    id: number | string,\n    permissions: number[]\n  ): Promise<RoleResponse> {\n    const response = await api.put<RoleResponse>(`/api/roles/${id}/permissions`, {\n      permissions,\n    });\n    return response.data;\n  },\n\n  /**\n   * Get permissions matrix for role management\n   */\n  async getPermissionsMatrix(): Promise<{\n    success: boolean;\n    data: PermissionGroup[];\n  }> {\n    const response = await api.get<{ success: boolean; data: PermissionGroup[] }>(\n      \"/api/roles/permissions-matrix\"\n    );\n    return response.data;\n  },\n\n  /**\n   * Get color options\n   */\n  getColorOptions(): { value: string; label: string; class: string }[] {\n    return [\n      { value: \"red\", label: \"Merah\", class: \"bg-red-500\" },\n      { value: \"blue\", label: \"Biru\", class: \"bg-blue-500\" },\n      { value: \"green\", label: \"Hijau\", class: \"bg-green-500\" },\n      { value: \"yellow\", label: \"Kuning\", class: \"bg-yellow-500\" },\n      { value: \"purple\", label: \"Ungu\", class: \"bg-purple-500\" },\n      { value: \"pink\", label: \"Pink\", class: \"bg-pink-500\" },\n      { value: \"indigo\", label: \"Indigo\", class: \"bg-indigo-500\" },\n      { value: \"cyan\", label: \"Cyan\", class: \"bg-cyan-500\" },\n      { value: \"orange\", label: \"Oranye\", class: \"bg-orange-500\" },\n      { value: \"teal\", label: \"Teal\", class: \"bg-teal-500\" },\n    ];\n  },\n\n  /**\n   * Get color class for badge\n   */\n  getColorClass(color: string | null): string {\n    const colorMap: Record<string, string> = {\n      red: \"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300\",\n      blue: \"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300\",\n      green: \"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300\",\n      yellow: \"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300\",\n      purple: \"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-300\",\n      pink: \"bg-pink-100 text-pink-800 dark:bg-pink-900 dark:text-pink-300\",\n      indigo: \"bg-indigo-100 text-indigo-800 dark:bg-indigo-900 dark:text-indigo-300\",\n      cyan: \"bg-cyan-100 text-cyan-800 dark:bg-cyan-900 dark:text-cyan-300\",\n      orange: \"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-300\",\n      teal: \"bg-teal-100 text-teal-800 dark:bg-teal-900 dark:text-teal-300\",\n    };\n    return colorMap[color || \"blue\"] || colorMap.blue;\n  },\n\n  /**\n   * Get solid color class for avatar/icon\n   */\n  getSolidColorClass(color: string | null): string {\n    const colorMap: Record<string, string> = {\n      red: \"bg-red-500\",\n      blue: \"bg-blue-500\",\n      green: \"bg-green-500\",\n      yellow: \"bg-yellow-500\",\n      purple: \"bg-purple-500\",\n      pink: \"bg-pink-500\",\n      indigo: \"bg-indigo-500\",\n      cyan: \"bg-cyan-500\",\n      orange: \"bg-orange-500\",\n      teal: \"bg-teal-500\",\n    };\n    return colorMap[color || \"blue\"] || colorMap.blue;\n  },\n};\n\nexport default roleService;\n","\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { useForm, Controller } from \"react-hook-form\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport { motion, AnimatePresence } from \"framer-motion\";\nimport {\n  Hash,\n  FileText,\n  Palette,\n  Loader2,\n  AlertCircle,\n  Shield,\n  Check,\n} from \"lucide-react\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogHeader,\n  DialogTitle,\n  DialogDescription,\n  DialogFooter,\n} from \"@/components/ui/dialog\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Switch } from \"@/components/ui/switch\";\nimport { Checkbox } from \"@/components/ui/checkbox\";\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\";\nimport {\n  Accordion,\n  AccordionContent,\n  AccordionItem,\n  AccordionTrigger,\n} from \"@/components/ui/accordion\";\nimport { roleSchema, type RoleFormData } from \"@/lib/validations/role\";\nimport type { Role } from \"@/types/role\";\nimport type { PermissionGroup } from \"@/types/permission\";\nimport roleService from \"@/services/role.service\";\nimport permissionService from \"@/services/permission.service\";\n\ninterface RoleModalProps {\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n  role?: Role | null;\n  onSuccess: () => void;\n}\n\nexport function RoleModal({\n  open,\n  onOpenChange,\n  role,\n  onSuccess,\n}: RoleModalProps) {\n  const isEdit = !!role;\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [permissionGroups, setPermissionGroups] = useState<PermissionGroup[]>(\n    [],\n  );\n  const [selectedPermissions, setSelectedPermissions] = useState<number[]>([]);\n\n  const {\n    register,\n    handleSubmit,\n    setValue,\n    watch,\n    reset,\n    control,\n    formState: { errors },\n  } = useForm<RoleFormData>({\n    resolver: zodResolver(roleSchema),\n    defaultValues: {\n      name: \"\",\n      display_name: \"\",\n      description: \"\",\n      color: \"blue\",\n      is_active: true,\n      permissions: [],\n    },\n  });\n\n  const watchedColor = watch(\"color\");\n  const watchedIsActive = watch(\"is_active\");\n\n  // Fetch permission groups\n  useEffect(() => {\n    const fetchPermissions = async () => {\n      try {\n        const response = await roleService.getPermissionsMatrix();\n        setPermissionGroups(response.data);\n      } catch (error) {\n        console.error(\"Error fetching permissions:\", error);\n      }\n    };\n    if (open) {\n      fetchPermissions();\n    }\n  }, [open]);\n\n  useEffect(() => {\n    if (open) {\n      if (role) {\n        reset({\n          name: role.name,\n          display_name: role.display_name,\n          description: role.description || \"\",\n          color: role.color || \"blue\",\n          is_active: role.is_active,\n          permissions: role.permissions?.map((p) => p.id) || [],\n        });\n        setSelectedPermissions(role.permissions?.map((p) => p.id) || []);\n      } else {\n        reset({\n          name: \"\",\n          display_name: \"\",\n          description: \"\",\n          color: \"blue\",\n          is_active: true,\n          permissions: [],\n        });\n        setSelectedPermissions([]);\n      }\n    }\n  }, [open, role, reset]);\n\n  const handlePermissionToggle = (permissionId: number) => {\n    setSelectedPermissions((prev) => {\n      if (prev.includes(permissionId)) {\n        return prev.filter((id) => id !== permissionId);\n      }\n      return [...prev, permissionId];\n    });\n  };\n\n  const handleModuleToggle = (\n    modulePermissions: PermissionGroup[\"permissions\"],\n  ) => {\n    const modulePermIds = modulePermissions.map((p) => p.id);\n    const allSelected = modulePermIds.every((id) =>\n      selectedPermissions.includes(id),\n    );\n\n    if (allSelected) {\n      setSelectedPermissions((prev) =>\n        prev.filter((id) => !modulePermIds.includes(id)),\n      );\n    } else {\n      setSelectedPermissions((prev) => [\n        ...new Set([...prev, ...modulePermIds]),\n      ]);\n    }\n  };\n\n  const isModuleFullySelected = (\n    modulePermissions: PermissionGroup[\"permissions\"],\n  ) => {\n    return modulePermissions.every((p) => selectedPermissions.includes(p.id));\n  };\n\n  const isModulePartiallySelected = (\n    modulePermissions: PermissionGroup[\"permissions\"],\n  ) => {\n    const selected = modulePermissions.filter((p) =>\n      selectedPermissions.includes(p.id),\n    );\n    return selected.length > 0 && selected.length < modulePermissions.length;\n  };\n\n  const onSubmit = async (data: RoleFormData) => {\n    setIsSubmitting(true);\n    try {\n      const payload = {\n        ...data,\n        permissions: selectedPermissions,\n      };\n\n      if (isEdit && role) {\n        await roleService.updateRole(role.id, payload);\n      } else {\n        await roleService.createRole(payload);\n      }\n\n      onSuccess();\n      onOpenChange(false);\n    } catch (error) {\n      console.error(\"Error saving role:\", error);\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const colorOptions = roleService.getColorOptions();\n  const actionLabels = permissionService.getActionLabels();\n\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent className=\"sm:max-w-[700px] max-h-[90vh] overflow-y-auto\">\n        <DialogHeader>\n          <DialogTitle className=\"text-xl\">\n            {isEdit ? \"Edit Role\" : \"Tambah Role Baru\"}\n          </DialogTitle>\n          <DialogDescription>\n            {isEdit\n              ? \"Perbarui informasi role dan hak akses.\"\n              : \"Isi informasi role baru dan pilih hak akses.\"}\n          </DialogDescription>\n        </DialogHeader>\n\n        <form onSubmit={handleSubmit(onSubmit)} className=\"space-y-5 py-4\">\n          {/* Preview */}\n          <motion.div\n            initial={{ opacity: 0, scale: 0.9 }}\n            animate={{ opacity: 1, scale: 1 }}\n            className=\"flex items-center justify-center gap-4\"\n          >\n            <div\n              className={`p-4 rounded-2xl ${roleService.getSolidColorClass(watchedColor || \"blue\")} text-white`}\n            >\n              <Shield className=\"h-10 w-10\" />\n            </div>\n            <div className=\"text-center\">\n              <p className=\"text-xs text-muted-foreground\">\n                Preview warna role\n              </p>\n              <p className=\"font-medium mt-1\">\n                {selectedPermissions.length} permission dipilih\n              </p>\n            </div>\n          </motion.div>\n\n          {/* Name Row */}\n          <div className=\"grid grid-cols-2 gap-4\">\n            <motion.div\n              initial={{ opacity: 0, y: 10 }}\n              animate={{ opacity: 1, y: 0 }}\n              transition={{ delay: 0.1 }}\n              className=\"space-y-2\"\n            >\n              <Label htmlFor=\"name\" className=\"text-sm font-medium\">\n                Nama Role <span className=\"text-destructive\">*</span>\n              </Label>\n              <div className=\"relative\">\n                <Hash className=\"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground\" />\n                <Input\n                  id=\"name\"\n                  placeholder=\"admin_klinik\"\n                  className=\"pl-10 lowercase\"\n                  {...register(\"name\")}\n                  onChange={(e) =>\n                    setValue(\n                      \"name\",\n                      e.target.value.toLowerCase().replace(/\\s/g, \"_\"),\n                    )\n                  }\n                  disabled={isEdit && role?.is_system}\n                />\n              </div>\n              <AnimatePresence>\n                {errors.name && (\n                  <motion.p\n                    initial={{ opacity: 0, height: 0 }}\n                    animate={{ opacity: 1, height: \"auto\" }}\n                    exit={{ opacity: 0, height: 0 }}\n                    className=\"text-sm text-destructive flex items-center gap-1\"\n                  >\n                    <AlertCircle className=\"h-3 w-3\" />\n                    {errors.name.message}\n                  </motion.p>\n                )}\n              </AnimatePresence>\n            </motion.div>\n\n            <motion.div\n              initial={{ opacity: 0, y: 10 }}\n              animate={{ opacity: 1, y: 0 }}\n              transition={{ delay: 0.15 }}\n              className=\"space-y-2\"\n            >\n              <Label htmlFor=\"display_name\" className=\"text-sm font-medium\">\n                Nama Tampilan <span className=\"text-destructive\">*</span>\n              </Label>\n              <div className=\"relative\">\n                <Shield className=\"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground\" />\n                <Input\n                  id=\"display_name\"\n                  placeholder=\"Admin Klinik\"\n                  className=\"pl-10\"\n                  {...register(\"display_name\")}\n                />\n              </div>\n              <AnimatePresence>\n                {errors.display_name && (\n                  <motion.p\n                    initial={{ opacity: 0, height: 0 }}\n                    animate={{ opacity: 1, height: \"auto\" }}\n                    exit={{ opacity: 0, height: 0 }}\n                    className=\"text-sm text-destructive flex items-center gap-1\"\n                  >\n                    <AlertCircle className=\"h-3 w-3\" />\n                    {errors.display_name.message}\n                  </motion.p>\n                )}\n              </AnimatePresence>\n            </motion.div>\n          </div>\n\n          {/* Description & Color Row */}\n          <div className=\"grid grid-cols-3 gap-4\">\n            <motion.div\n              initial={{ opacity: 0, y: 10 }}\n              animate={{ opacity: 1, y: 0 }}\n              transition={{ delay: 0.2 }}\n              className=\"col-span-2 space-y-2\"\n            >\n              <Label htmlFor=\"description\" className=\"text-sm font-medium\">\n                Deskripsi\n              </Label>\n              <div className=\"relative\">\n                <FileText className=\"absolute left-3 top-3 h-4 w-4 text-muted-foreground\" />\n                <textarea\n                  id=\"description\"\n                  placeholder=\"Deskripsi singkat role...\"\n                  className=\"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 pl-10 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 resize-none\"\n                  {...register(\"description\")}\n                />\n              </div>\n            </motion.div>\n\n            <motion.div\n              initial={{ opacity: 0, y: 10 }}\n              animate={{ opacity: 1, y: 0 }}\n              transition={{ delay: 0.25 }}\n              className=\"space-y-2\"\n            >\n              <Label className=\"text-sm font-medium\">Warna</Label>\n              <div className=\"relative\">\n                <Palette className=\"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground z-10\" />\n                <Controller\n                  name=\"color\"\n                  control={control}\n                  render={({ field }) => (\n                    <Select\n                      value={field.value || \"\"}\n                      onValueChange={field.onChange}\n                    >\n                      <SelectTrigger className=\"pl-10\">\n                        <SelectValue placeholder=\"Pilih warna\">\n                          {field.value && (\n                            <div className=\"flex items-center gap-2\">\n                              <div\n                                className={`w-4 h-4 rounded-full ${\n                                  colorOptions.find(\n                                    (o) => o.value === field.value,\n                                  )?.class\n                                }`}\n                              />\n                              <span className=\"text-xs\">\n                                {\n                                  colorOptions.find(\n                                    (o) => o.value === field.value,\n                                  )?.label\n                                }\n                              </span>\n                            </div>\n                          )}\n                        </SelectValue>\n                      </SelectTrigger>\n                      <SelectContent>\n                        {colorOptions.map((option) => (\n                          <SelectItem key={option.value} value={option.value}>\n                            <div className=\"flex items-center gap-2\">\n                              <div\n                                className={`w-4 h-4 rounded-full ${option.class}`}\n                              />\n                              <span>{option.label}</span>\n                            </div>\n                          </SelectItem>\n                        ))}\n                      </SelectContent>\n                    </Select>\n                  )}\n                />\n              </div>\n\n              {/* Status Switch */}\n              <div className=\"flex items-center justify-between rounded-lg border p-3 mt-4\">\n                <div className=\"space-y-0.5\">\n                  <Label htmlFor=\"is_active\" className=\"text-sm font-medium\">\n                    Status Aktif\n                  </Label>\n                </div>\n                <Switch\n                  id=\"is_active\"\n                  checked={watchedIsActive}\n                  onCheckedChange={(checked) => setValue(\"is_active\", checked)}\n                  disabled={isEdit && role?.is_system}\n                />\n              </div>\n            </motion.div>\n          </div>\n\n          {/* Permissions Section */}\n          <motion.div\n            initial={{ opacity: 0, y: 10 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ delay: 0.3 }}\n            className=\"space-y-3\"\n          >\n            <Label className=\"text-sm font-medium\">\n              Hak Akses / Permissions\n            </Label>\n            <div className=\"border rounded-lg\">\n              <Accordion type=\"multiple\" className=\"w-full\">\n                {permissionGroups.map((group) => (\n                  <AccordionItem key={group.module} value={group.module}>\n                    <div className=\"flex items-center\">\n                      {/* Checkbox di luar AccordionTrigger untuk menghindari button-in-button */}\n                      <div\n                        className=\"pl-4 pr-2 py-4 cursor-pointer\"\n                        onClick={(e) => {\n                          e.stopPropagation();\n                          handleModuleToggle(group.permissions);\n                        }}\n                      >\n                        <Checkbox\n                          checked={isModuleFullySelected(group.permissions)}\n                          onCheckedChange={() =>\n                            handleModuleToggle(group.permissions)\n                          }\n                          className={\n                            isModulePartiallySelected(group.permissions)\n                              ? \"opacity-50\"\n                              : \"\"\n                          }\n                        />\n                      </div>\n                      <AccordionTrigger className=\"flex-1 pr-4 hover:no-underline\">\n                        <div className=\"flex items-center gap-3\">\n                          <span className=\"font-medium\">{group.label}</span>\n                          <span className=\"text-xs text-muted-foreground\">\n                            (\n                            {\n                              group.permissions.filter((p) =>\n                                selectedPermissions.includes(p.id),\n                              ).length\n                            }\n                            /{group.permissions.length})\n                          </span>\n                        </div>\n                      </AccordionTrigger>\n                    </div>\n                    <AccordionContent className=\"px-4 pb-4\">\n                      <div className=\"grid grid-cols-2 md:grid-cols-3 gap-2\">\n                        {group.permissions.map((permission) => (\n                          <label\n                            key={permission.id}\n                            className=\"flex items-center gap-2 p-2 rounded-lg hover:bg-muted cursor-pointer\"\n                          >\n                            <Checkbox\n                              checked={selectedPermissions.includes(\n                                permission.id,\n                              )}\n                              onCheckedChange={() =>\n                                handlePermissionToggle(permission.id)\n                              }\n                            />\n                            <span className=\"text-sm\">\n                              {actionLabels[permission.action] ||\n                                permission.action}\n                            </span>\n                          </label>\n                        ))}\n                      </div>\n                    </AccordionContent>\n                  </AccordionItem>\n                ))}\n              </Accordion>\n            </div>\n          </motion.div>\n        </form>\n\n        <DialogFooter className=\"gap-2 sm:gap-0\">\n          <Button\n            type=\"button\"\n            variant=\"outline\"\n            onClick={() => onOpenChange(false)}\n            disabled={isSubmitting}\n          >\n            Batal\n          </Button>\n          <Button\n            type=\"submit\"\n            onClick={handleSubmit(onSubmit)}\n            disabled={isSubmitting}\n            className=\"min-w-[100px]\"\n          >\n            {isSubmitting ? (\n              <>\n                <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\n                Menyimpan...\n              </>\n            ) : isEdit ? (\n              \"Simpan Perubahan\"\n            ) : (\n              \"Tambah Role\"\n            )}\n          </Button>\n        </DialogFooter>\n      </DialogContent>\n    </Dialog>\n  );\n}\n","import { z } from \"zod\";\n\nexport const roleSchema = z.object({\n  name: z\n    .string()\n    .min(1, \"Nama role wajib diisi\")\n    .max(50, \"Nama maksimal 50 karakter\")\n    .regex(\n      /^[a-z_]+$/,\n      \"Nama hanya boleh huruf kecil dan underscore (contoh: admin_klinik)\"\n    ),\n  display_name: z\n    .string()\n    .min(1, \"Nama tampilan wajib diisi\")\n    .max(100, \"Nama tampilan maksimal 100 karakter\"),\n  description: z\n    .string()\n    .max(1000, \"Deskripsi maksimal 1000 karakter\")\n    .optional()\n    .nullable()\n    .or(z.literal(\"\")),\n  color: z.string().max(20, \"Warna maksimal 20 karakter\").optional(),\n  is_active: z.boolean().optional().default(true),\n  permissions: z.array(z.number()).optional(),\n});\n\nexport type RoleFormData = z.infer<typeof roleSchema>;\n","import api from \"@/lib/axios\";\nimport type {\n  Permission,\n  PermissionGroup,\n  PermissionFilters,\n  PermissionListResponse,\n  PermissionResponse,\n  PermissionGroupedResponse,\n  PermissionStats,\n  PermissionStatsResponse,\n  ModuleOption,\n} from \"@/types/permission\";\n\nconst permissionService = {\n  /**\n   * Get all permissions with pagination and filters\n   */\n  async getPermissions(\n    filters: PermissionFilters = {}\n  ): Promise<PermissionListResponse> {\n    const response = await api.get<PermissionListResponse>(\"/api/permissions\", {\n      params: {\n        search: filters.search || undefined,\n        module: filters.module === \"all\" ? undefined : filters.module,\n        action: filters.action === \"all\" ? undefined : filters.action,\n        page: filters.page || 1,\n        per_page: filters.per_page || 50,\n      },\n    });\n    return response.data;\n  },\n\n  /**\n   * Get all permissions grouped by module\n   */\n  async getGroupedPermissions(): Promise<PermissionGroupedResponse> {\n    const response = await api.get<PermissionGroupedResponse>(\n      \"/api/permissions/grouped\"\n    );\n    return response.data;\n  },\n\n  /**\n   * Get single permission by ID\n   */\n  async getPermissionById(id: number | string): Promise<PermissionResponse> {\n    const response = await api.get<PermissionResponse>(`/api/permissions/${id}`);\n    return response.data;\n  },\n\n  /**\n   * Get permission statistics\n   */\n  async getPermissionStats(): Promise<PermissionStatsResponse> {\n    const response = await api.get<PermissionStatsResponse>(\n      \"/api/permissions/stats\"\n    );\n    return response.data;\n  },\n\n  /**\n   * Get available modules\n   */\n  async getModules(): Promise<{ success: boolean; data: ModuleOption[] }> {\n    const response = await api.get<{ success: boolean; data: ModuleOption[] }>(\n      \"/api/permissions/modules\"\n    );\n    return response.data;\n  },\n\n  /**\n   * Get module labels\n   */\n  getModuleLabels(): Record<string, string> {\n    return {\n      dashboard: \"Dashboard\",\n      users: \"Pengguna\",\n      roles: \"Hak Akses\",\n      departments: \"Departemen\",\n      services: \"Layanan\",\n      icd_codes: \"Kode ICD\",\n      clinic_settings: \"Pengaturan Klinik\",\n      patients: \"Pasien\",\n      appointments: \"Janji Temu\",\n      medical_records: \"Rekam Medis\",\n      prescriptions: \"Resep\",\n      billing: \"Tagihan\",\n      payments: \"Pembayaran\",\n      pharmacy: \"Farmasi\",\n      inventory: \"Inventaris\",\n      reports: \"Laporan\",\n    };\n  },\n\n  /**\n   * Get action labels\n   */\n  getActionLabels(): Record<string, string> {\n    return {\n      view: \"Lihat\",\n      create: \"Tambah\",\n      edit: \"Edit\",\n      delete: \"Hapus\",\n      manage: \"Kelola\",\n      export: \"Export\",\n    };\n  },\n\n  /**\n   * Get action color class\n   */\n  getActionColorClass(action: string): string {\n    const colorMap: Record<string, string> = {\n      view: \"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300\",\n      create: \"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300\",\n      edit: \"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300\",\n      delete: \"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300\",\n      manage: \"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-300\",\n      export: \"bg-cyan-100 text-cyan-800 dark:bg-cyan-900 dark:text-cyan-300\",\n    };\n    return colorMap[action] || colorMap.view;\n  },\n};\n\nexport default permissionService;\n","\"use client\";\n\nimport { motion } from \"framer-motion\";\nimport {\n  Calendar,\n  CheckCircle,\n  XCircle,\n  Edit,\n  Power,\n  Shield,\n  Users,\n  Lock,\n  Check,\n} from \"lucide-react\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogHeader,\n  DialogTitle,\n} from \"@/components/ui/dialog\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Separator } from \"@/components/ui/separator\";\nimport type { Role } from \"@/types/role\";\nimport { formatDate } from \"@/lib/utils\";\nimport roleService from \"@/services/role.service\";\nimport permissionService from \"@/services/permission.service\";\n\ninterface RoleDetailModalProps {\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n  role: Role | null;\n  onEdit: () => void;\n  onToggleStatus: () => void;\n}\n\nexport function RoleDetailModal({\n  open,\n  onOpenChange,\n  role,\n  onEdit,\n  onToggleStatus,\n}: RoleDetailModalProps) {\n  if (!role) return null;\n\n  const moduleLabels = permissionService.getModuleLabels();\n  const actionLabels = permissionService.getActionLabels();\n\n  // Group permissions by module\n  const permissionsByModule =\n    role.permissions?.reduce(\n      (acc, perm) => {\n        if (!acc[perm.module]) {\n          acc[perm.module] = [];\n        }\n        acc[perm.module].push(perm);\n        return acc;\n      },\n      {} as Record<string, typeof role.permissions>,\n    ) || {};\n\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent className=\"sm:max-w-[550px] max-h-[90vh] overflow-y-auto\">\n        <DialogHeader>\n          <DialogTitle className=\"text-xl\">Detail Role</DialogTitle>\n        </DialogHeader>\n\n        <div className=\"py-4 space-y-6\">\n          {/* Profile Header */}\n          <motion.div\n            initial={{ opacity: 0, y: 10 }}\n            animate={{ opacity: 1, y: 0 }}\n            className=\"flex flex-col items-center text-center\"\n          >\n            <div className=\"relative\">\n              <div\n                className={`p-5 rounded-2xl ${roleService.getSolidColorClass(role.color)} text-white`}\n              >\n                <Shield className=\"h-12 w-12\" />\n              </div>\n              <div\n                className={`absolute -bottom-1 -right-1 w-6 h-6 rounded-full border-2 border-background flex items-center justify-center ${\n                  role.is_active ? \"bg-emerald-500\" : \"bg-gray-400\"\n                }`}\n              >\n                {role.is_active ? (\n                  <CheckCircle className=\"h-4 w-4 text-white\" />\n                ) : (\n                  <XCircle className=\"h-4 w-4 text-white\" />\n                )}\n              </div>\n            </div>\n\n            <div className=\"mt-4 flex items-center gap-2\">\n              <h3 className=\"text-lg font-semibold\">{role.display_name}</h3>\n              {role.is_system && (\n                <Lock className=\"h-4 w-4 text-muted-foreground\" />\n              )}\n            </div>\n            <p className=\"text-sm text-muted-foreground\">{role.name}</p>\n\n            <div className=\"flex items-center gap-2 mt-2\">\n              <Badge variant={role.is_active ? \"success\" : \"error\"}>\n                {role.is_active ? \"Aktif\" : \"Nonaktif\"}\n              </Badge>\n              {role.is_system && <Badge variant=\"secondary\">System Role</Badge>}\n            </div>\n          </motion.div>\n\n          <Separator />\n\n          {/* Role Details */}\n          <motion.div\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            transition={{ delay: 0.1 }}\n            className=\"space-y-3\"\n          >\n            {/* Description */}\n            {role.description && (\n              <div className=\"p-3 rounded-lg bg-muted/50\">\n                <p className=\"text-xs text-muted-foreground mb-1\">Deskripsi</p>\n                <p className=\"text-sm\">{role.description}</p>\n              </div>\n            )}\n\n            {/* Stats */}\n            <div className=\"grid grid-cols-2 gap-3\">\n              <div className=\"flex items-center gap-3 p-3 rounded-lg bg-muted/50\">\n                <div className=\"p-2 rounded-lg bg-blue-100 dark:bg-blue-950\">\n                  <Shield className=\"h-4 w-4 text-blue-600 dark:text-blue-400\" />\n                </div>\n                <div>\n                  <p className=\"text-xs text-muted-foreground\">Permissions</p>\n                  <p className=\"text-lg font-semibold\">\n                    {role.permissions_count || 0}\n                  </p>\n                </div>\n              </div>\n              <div className=\"flex items-center gap-3 p-3 rounded-lg bg-muted/50\">\n                <div className=\"p-2 rounded-lg bg-green-100 dark:bg-green-950\">\n                  <Users className=\"h-4 w-4 text-green-600 dark:text-green-400\" />\n                </div>\n                <div>\n                  <p className=\"text-xs text-muted-foreground\">Pengguna</p>\n                  <p className=\"text-lg font-semibold\">\n                    {role.users_count || 0}\n                  </p>\n                </div>\n              </div>\n            </div>\n\n            {/* Permissions List */}\n            {Object.keys(permissionsByModule).length > 0 && (\n              <div className=\"p-3 rounded-lg bg-muted/50 space-y-3\">\n                <p className=\"text-xs text-muted-foreground font-medium\">\n                  Hak Akses\n                </p>\n                <div className=\"space-y-2 max-h-48 overflow-y-auto\">\n                  {Object.entries(permissionsByModule).map(\n                    ([module, perms]) => (\n                      <div key={module} className=\"flex items-start gap-2\">\n                        <div className=\"min-w-[120px] text-sm font-medium\">\n                          {moduleLabels[module] || module}\n                        </div>\n                        <div className=\"flex flex-wrap gap-1\">\n                          {perms?.map((perm) => (\n                            <Badge\n                              key={perm.id}\n                              variant=\"outline\"\n                              className=\"text-xs\"\n                            >\n                              <Check className=\"h-2.5 w-2.5 mr-1\" />\n                              {actionLabels[perm.action] || perm.action}\n                            </Badge>\n                          ))}\n                        </div>\n                      </div>\n                    ),\n                  )}\n                </div>\n              </div>\n            )}\n\n            {/* Created At */}\n            <div className=\"flex items-center gap-3 p-3 rounded-lg bg-muted/50\">\n              <div className=\"p-2 rounded-lg bg-orange-100 dark:bg-orange-950\">\n                <Calendar className=\"h-4 w-4 text-orange-600 dark:text-orange-400\" />\n              </div>\n              <div className=\"flex-1 min-w-0\">\n                <p className=\"text-xs text-muted-foreground\">Dibuat Pada</p>\n                <p className=\"text-sm font-medium\">\n                  {formatDate(role.created_at)}\n                </p>\n              </div>\n            </div>\n          </motion.div>\n\n          <Separator />\n\n          {/* Action Buttons */}\n          <motion.div\n            initial={{ opacity: 0, y: 10 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ delay: 0.2 }}\n            className=\"flex gap-2\"\n          >\n            <Button\n              variant=\"outline\"\n              className=\"flex-1\"\n              onClick={() => {\n                onOpenChange(false);\n                onEdit();\n              }}\n            >\n              <Edit className=\"mr-2 h-4 w-4\" />\n              Edit\n            </Button>\n            {!role.is_system && (\n              <Button\n                variant={role.is_active ? \"destructive\" : \"default\"}\n                className=\"flex-1\"\n                onClick={() => {\n                  onOpenChange(false);\n                  onToggleStatus();\n                }}\n              >\n                <Power className=\"mr-2 h-4 w-4\" />\n                {role.is_active ? \"Nonaktifkan\" : \"Aktifkan\"}\n              </Button>\n            )}\n          </motion.div>\n        </div>\n      </DialogContent>\n    </Dialog>\n  );\n}\n","\"use client\";\n\nimport { useState } from \"react\";\nimport { motion } from \"framer-motion\";\nimport { AlertTriangle, Loader2, Shield, Users } from \"lucide-react\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogHeader,\n  DialogTitle,\n  DialogDescription,\n  DialogFooter,\n} from \"@/components/ui/dialog\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport type { Role } from \"@/types/role\";\nimport roleService from \"@/services/role.service\";\n\ninterface DeleteConfirmModalProps {\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n  role: Role | null;\n  onConfirm: () => Promise<void>;\n}\n\nexport function DeleteConfirmModal({\n  open,\n  onOpenChange,\n  role,\n  onConfirm,\n}: DeleteConfirmModalProps) {\n  const [isDeleting, setIsDeleting] = useState(false);\n\n  if (!role) return null;\n\n  const handleConfirm = async () => {\n    setIsDeleting(true);\n    try {\n      await onConfirm();\n      onOpenChange(false);\n    } catch (error) {\n      console.error(\"Error deleting role:\", error);\n    } finally {\n      setIsDeleting(false);\n    }\n  };\n\n  const hasUsers = (role.users_count || 0) > 0;\n\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent className=\"sm:max-w-[400px]\">\n        <DialogHeader>\n          <DialogTitle className=\"text-xl text-destructive flex items-center gap-2\">\n            <AlertTriangle className=\"h-5 w-5\" />\n            Hapus Role\n          </DialogTitle>\n          <DialogDescription>\n            {hasUsers\n              ? \"Role ini tidak dapat dihapus karena masih memiliki pengguna.\"\n              : \"Tindakan ini tidak dapat dibatalkan. Data role akan dihapus secara permanen.\"}\n          </DialogDescription>\n        </DialogHeader>\n\n        <motion.div\n          initial={{ opacity: 0, scale: 0.95 }}\n          animate={{ opacity: 1, scale: 1 }}\n          className=\"py-4\"\n        >\n          {/* Role Preview */}\n          <div className={`flex items-center gap-4 p-4 rounded-xl ${hasUsers ? \"bg-yellow-50 dark:bg-yellow-950/20 border border-yellow-200 dark:border-yellow-800\" : \"bg-destructive/10 border border-destructive/20\"}`}>\n            <div\n              className={`p-3 rounded-xl ${roleService.getSolidColorClass(role.color)} text-white`}\n            >\n              <Shield className=\"h-8 w-8\" />\n            </div>\n            <div className=\"flex-1 min-w-0\">\n              <h4 className=\"font-semibold truncate\">{role.display_name}</h4>\n              <p className=\"text-sm text-muted-foreground truncate\">\n                {role.name}\n              </p>\n              <div className=\"flex items-center gap-2 mt-1\">\n                <Badge variant={role.is_active ? \"success\" : \"error\"}>\n                  {role.is_active ? \"Aktif\" : \"Nonaktif\"}\n                </Badge>\n                {hasUsers && (\n                  <Badge variant=\"outline\" className=\"gap-1\">\n                    <Users className=\"h-3 w-3\" />\n                    {role.users_count} pengguna\n                  </Badge>\n                )}\n              </div>\n            </div>\n          </div>\n\n          {hasUsers ? (\n            <p className=\"mt-4 text-sm text-yellow-600 dark:text-yellow-400 text-center\">\n              Hapus atau pindahkan pengguna dari role ini terlebih dahulu.\n            </p>\n          ) : (\n            <p className=\"mt-4 text-sm text-muted-foreground text-center\">\n              Apakah Anda yakin ingin menghapus role ini?\n            </p>\n          )}\n        </motion.div>\n\n        <DialogFooter className=\"gap-2 sm:gap-0\">\n          <Button\n            type=\"button\"\n            variant=\"outline\"\n            onClick={() => onOpenChange(false)}\n            disabled={isDeleting}\n          >\n            Batal\n          </Button>\n          <Button\n            type=\"button\"\n            variant=\"destructive\"\n            onClick={handleConfirm}\n            disabled={isDeleting || hasUsers}\n            className=\"min-w-[100px]\"\n          >\n            {isDeleting ? (\n              <>\n                <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\n                Menghapus...\n              </>\n            ) : (\n              \"Ya, Hapus\"\n            )}\n          </Button>\n        </DialogFooter>\n      </DialogContent>\n    </Dialog>\n  );\n}\n"],"names":[],"mappings":"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"}
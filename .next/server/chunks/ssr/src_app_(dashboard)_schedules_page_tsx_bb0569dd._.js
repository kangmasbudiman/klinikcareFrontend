module.exports=[24164,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(46271),e=a.i(41675),f=a.i(15618),g=a.i(69520),h=a.i(41710),i=a.i(60246),j=a.i(35126),k=a.i(99570),l=a.i(91119),m=a.i(80701),n=a.i(86304),o=a.i(75083),p=a.i(99464),q=a.i(81560),r=a.i(17755),s=a.i(30206),t=a.i(6015),u=a.i(35732),v=a.i(86192),w=a.i(82524),x=a.i(23292),y=a.i(28337);let z={async getSchedules(a={}){let b=new URLSearchParams;return a.doctor_id&&b.append("doctor_id",a.doctor_id.toString()),a.department_id&&b.append("department_id",a.department_id.toString()),void 0!==a.day_of_week&&""!==a.day_of_week&&b.append("day_of_week",a.day_of_week.toString()),void 0!==a.is_active&&b.append("is_active",a.is_active?"1":"0"),a.page&&b.append("page",a.page.toString()),a.per_page&&b.append("per_page",a.per_page.toString()),a.all&&b.append("all","1"),(await y.default.get(`/api/schedules?${b.toString()}`)).data},getScheduleById:async a=>(await y.default.get(`/api/schedules/${a}`)).data,createSchedule:async a=>(await y.default.post("/api/schedules",a)).data,updateSchedule:async(a,b)=>(await y.default.put(`/api/schedules/${a}`,b)).data,deleteSchedule:async a=>(await y.default.delete(`/api/schedules/${a}`)).data,toggleScheduleStatus:async a=>(await y.default.patch(`/api/schedules/${a}/toggle-status`)).data,async getAvailableDoctors(a,b){let c=new URLSearchParams;return void 0!==a&&c.append("day",a.toString()),b&&c.append("department_id",b.toString()),(await y.default.get(`/api/schedules/available-doctors?${c.toString()}`)).data},getDoctorSchedule:async a=>(await y.default.get(`/api/doctors/${a}/schedules`)).data,getDayOptions:async()=>(await y.default.get("/api/schedules/day-options")).data,getDayLabel:a=>({0:"Minggu",1:"Senin",2:"Selasa",3:"Rabu",4:"Kamis",5:"Jumat",6:"Sabtu"})[a]||"",getCurrentDay:()=>new Date().getDay(),formatTime(a){if(!a)return"";let b=a.split(":");return`${b[0]}:${b[1]}`},getDayOptionsStatic:()=>[{value:1,label:"Senin"},{value:2,label:"Selasa"},{value:3,label:"Rabu"},{value:4,label:"Kamis"},{value:5,label:"Jumat"},{value:6,label:"Sabtu"},{value:0,label:"Minggu"}],getStatusColorClass:a=>a?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300":"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300",getTimeOptions(a=7,b=21,c=30){let d=[];for(let e=a;e<=b;e++)for(let a=0;a<60&&(e!==b||!(a>0));a+=c){let b=e.toString().padStart(2,"0"),c=a.toString().padStart(2,"0"),f=`${b}:${c}`;d.push({value:f,label:f})}return d}};function A({schedules:a,isLoading:f,currentPage:g,totalPages:j,onPageChange:l,onEdit:m,onRefresh:o}){let[y,A]=(0,c.useState)(!1),[B,C]=(0,c.useState)(null),[D,E]=(0,c.useState)(!1),F=async()=>{if(B){E(!0);try{await z.deleteSchedule(B.id),x.toast.success("Jadwal berhasil dihapus"),o()}catch(a){x.toast.error("Gagal menghapus jadwal")}finally{E(!1),A(!1),C(null)}}},G=async a=>{try{await z.toggleScheduleStatus(a.id),x.toast.success(a.is_active?"Jadwal dinonaktifkan":"Jadwal diaktifkan"),o()}catch(a){x.toast.error("Gagal mengubah status jadwal")}};return f?(0,b.jsx)("div",{className:"rounded-lg border bg-card",children:(0,b.jsxs)(t.Table,{children:[(0,b.jsx)(t.TableHeader,{children:(0,b.jsxs)(t.TableRow,{children:[(0,b.jsx)(t.TableHead,{children:"Dokter"}),(0,b.jsx)(t.TableHead,{children:"Poli"}),(0,b.jsx)(t.TableHead,{children:"Hari"}),(0,b.jsx)(t.TableHead,{children:"Jam"}),(0,b.jsx)(t.TableHead,{children:"Kuota"}),(0,b.jsx)(t.TableHead,{children:"Status"}),(0,b.jsx)(t.TableHead,{className:"w-[80px]",children:"Aksi"})]})}),(0,b.jsx)(t.TableBody,{children:[void 0,void 0,void 0,void 0,void 0].map((a,c)=>(0,b.jsxs)(t.TableRow,{children:[(0,b.jsx)(t.TableCell,{children:(0,b.jsx)("div",{className:"h-4 w-32 bg-muted animate-pulse rounded"})}),(0,b.jsx)(t.TableCell,{children:(0,b.jsx)("div",{className:"h-4 w-24 bg-muted animate-pulse rounded"})}),(0,b.jsx)(t.TableCell,{children:(0,b.jsx)("div",{className:"h-4 w-16 bg-muted animate-pulse rounded"})}),(0,b.jsx)(t.TableCell,{children:(0,b.jsx)("div",{className:"h-4 w-24 bg-muted animate-pulse rounded"})}),(0,b.jsx)(t.TableCell,{children:(0,b.jsx)("div",{className:"h-4 w-12 bg-muted animate-pulse rounded"})}),(0,b.jsx)(t.TableCell,{children:(0,b.jsx)("div",{className:"h-6 w-16 bg-muted animate-pulse rounded"})}),(0,b.jsx)(t.TableCell,{children:(0,b.jsx)("div",{className:"h-8 w-8 bg-muted animate-pulse rounded"})})]},c))})]})}):0===a.length?(0,b.jsxs)("div",{className:"rounded-lg border bg-card p-8 text-center",children:[(0,b.jsx)(e.Calendar,{className:"h-12 w-12 mx-auto text-muted-foreground/50"}),(0,b.jsx)("h3",{className:"mt-4 text-lg font-semibold",children:"Belum ada jadwal"}),(0,b.jsx)("p",{className:"mt-2 text-sm text-muted-foreground",children:'Klik tombol "Tambah Jadwal" untuk membuat jadwal praktek dokter.'})]}):(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("div",{className:"rounded-lg border bg-card",children:(0,b.jsxs)(t.Table,{children:[(0,b.jsx)(t.TableHeader,{children:(0,b.jsxs)(t.TableRow,{children:[(0,b.jsx)(t.TableHead,{children:"Dokter"}),(0,b.jsx)(t.TableHead,{children:"Poli"}),(0,b.jsx)(t.TableHead,{children:"Hari"}),(0,b.jsx)(t.TableHead,{children:"Jam"}),(0,b.jsx)(t.TableHead,{children:"Kuota"}),(0,b.jsx)(t.TableHead,{children:"Status"}),(0,b.jsx)(t.TableHead,{className:"w-[80px]",children:"Aksi"})]})}),(0,b.jsx)(t.TableBody,{children:a.map((a,c)=>(0,b.jsxs)(d.motion.tr,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.05*c},className:"group hover:bg-muted/50",children:[(0,b.jsx)(t.TableCell,{children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"h-9 w-9 rounded-full bg-blue-100 dark:bg-blue-900 flex items-center justify-center",children:(0,b.jsx)("span",{className:"text-sm font-medium text-blue-600 dark:text-blue-400",children:a.doctor?.name?.charAt(0).toUpperCase()||"D"})}),(0,b.jsx)("div",{children:(0,b.jsx)("p",{className:"font-medium",children:a.doctor?.name||"-"})})]})}),(0,b.jsx)(t.TableCell,{children:(0,b.jsx)(n.Badge,{variant:"outline",className:`bg-${a.department?.color||"gray"}-100 text-${a.department?.color||"gray"}-800 dark:bg-${a.department?.color||"gray"}-900 dark:text-${a.department?.color||"gray"}-300 border-0`,children:a.department?.name||"-"})}),(0,b.jsx)(t.TableCell,{children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(e.Calendar,{className:"h-4 w-4 text-muted-foreground"}),(0,b.jsx)("span",{className:"font-medium",children:a.day_label})]})}),(0,b.jsx)(t.TableCell,{children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(h.Clock,{className:"h-4 w-4 text-muted-foreground"}),(0,b.jsx)("span",{children:a.time_range})]})}),(0,b.jsx)(t.TableCell,{children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(i.Users,{className:"h-4 w-4 text-muted-foreground"}),(0,b.jsxs)("span",{children:[a.quota," pasien"]})]})}),(0,b.jsx)(t.TableCell,{children:(0,b.jsx)(n.Badge,{variant:a.is_active?"success":"secondary",children:a.is_active?"Aktif":"Nonaktif"})}),(0,b.jsx)(t.TableCell,{children:(0,b.jsxs)(u.DropdownMenu,{children:[(0,b.jsx)(u.DropdownMenuTrigger,{asChild:!0,children:(0,b.jsx)(k.Button,{variant:"ghost",size:"icon",className:"h-8 w-8",children:(0,b.jsx)(r.MoreHorizontal,{className:"h-4 w-4"})})}),(0,b.jsxs)(u.DropdownMenuContent,{align:"end",children:[(0,b.jsxs)(u.DropdownMenuItem,{onClick:()=>m(a),children:[(0,b.jsx)(p.Pencil,{className:"mr-2 h-4 w-4"}),"Edit"]}),(0,b.jsxs)(u.DropdownMenuItem,{onClick:()=>G(a),children:[(0,b.jsx)(s.Power,{className:"mr-2 h-4 w-4"}),a.is_active?"Nonaktifkan":"Aktifkan"]}),(0,b.jsx)(u.DropdownMenuSeparator,{}),(0,b.jsxs)(u.DropdownMenuItem,{onClick:()=>{C(a),A(!0)},className:"text-destructive focus:text-destructive",children:[(0,b.jsx)(q.Trash2,{className:"mr-2 h-4 w-4"}),"Hapus"]})]})]})})]},a.id))})]})}),j>1&&(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Halaman ",g," dari ",j]}),(0,b.jsx)(w.Pagination,{currentPage:g,totalPages:j,onPageChange:l})]}),(0,b.jsx)(v.AlertDialog,{open:y,onOpenChange:A,children:(0,b.jsxs)(v.AlertDialogContent,{children:[(0,b.jsxs)(v.AlertDialogHeader,{children:[(0,b.jsx)(v.AlertDialogTitle,{children:"Hapus Jadwal?"}),(0,b.jsxs)(v.AlertDialogDescription,{children:["Anda yakin ingin menghapus jadwal"," ",(0,b.jsx)("strong",{children:B?.doctor?.name})," pada hari"," ",(0,b.jsx)("strong",{children:B?.day_label}),"? Tindakan ini tidak dapat dibatalkan."]})]}),(0,b.jsxs)(v.AlertDialogFooter,{children:[(0,b.jsx)(v.AlertDialogCancel,{disabled:D,children:"Batal"}),(0,b.jsx)(v.AlertDialogAction,{onClick:F,disabled:D,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:D?"Menghapus...":"Hapus"})]})]})})]})}var B=a.i(95245),C=a.i(59501),D=a.i(88780),E=a.i(62036),F=a.i(96221),G=a.i(92e3),H=a.i(46842),I=a.i(67900),J=a.i(4720),K=a.i(14574),L=a.i(66718),M=a.i(70430),N=a.i(63658),O=a.i(30664),P=a.i(71565);let Q=D.z.object({doctor_id:D.z.string().min(1,"Pilih dokter"),department_id:D.z.string().min(1,"Pilih poli"),day_of_week:D.z.string().min(1,"Pilih hari"),start_time:D.z.string().min(1,"Pilih jam mulai"),end_time:D.z.string().min(1,"Pilih jam selesai"),quota:D.z.coerce.number().min(1,"Minimal 1").max(100,"Maksimal 100"),is_active:D.z.boolean(),notes:D.z.string().optional()});function R({open:a,onOpenChange:f,schedule:g,onSuccess:j}){let[l,n]=(0,c.useState)(!1),[o,p]=(0,c.useState)([]),[q,r]=(0,c.useState)([]),[s,t]=(0,c.useState)(!0),u=!!g,{register:v,handleSubmit:w,setValue:y,watch:A,reset:D,control:R,formState:{errors:S}}=(0,B.useForm)({resolver:(0,C.zodResolver)(Q),defaultValues:{doctor_id:"",department_id:"",day_of_week:"",start_time:"",end_time:"",quota:20,is_active:!0,notes:""}}),T=A("is_active");(0,c.useEffect)(()=>{let b=async()=>{t(!0);try{let[a,b]=await Promise.all([O.default.getDoctorsByDepartment(),P.default.getActiveDepartments()]);p(a.data),r(b.data)}catch(a){console.error("Error fetching data:",a),x.toast.error("Gagal memuat data")}finally{t(!1)}};a&&b()},[a]),(0,c.useEffect)(()=>{a&&(g?D({doctor_id:g.doctor_id.toString(),department_id:g.department_id.toString(),day_of_week:g.day_of_week.toString(),start_time:z.formatTime(g.start_time),end_time:z.formatTime(g.end_time),quota:g.quota,is_active:g.is_active,notes:g.notes||""}):D({doctor_id:"",department_id:"",day_of_week:"",start_time:"",end_time:"",quota:20,is_active:!0,notes:""}))},[g,a,D]);let U=async a=>{n(!0);try{let b={doctor_id:parseInt(a.doctor_id),department_id:parseInt(a.department_id),day_of_week:parseInt(a.day_of_week),start_time:a.start_time,end_time:a.end_time,quota:a.quota,is_active:a.is_active,notes:a.notes||null};u&&g?(await z.updateSchedule(g.id,b),x.toast.success("Jadwal berhasil diperbarui")):(await z.createSchedule(b),x.toast.success("Jadwal berhasil dibuat")),j(),f(!1)}catch(b){let a=b.response?.data?.message||"Gagal menyimpan jadwal";x.toast.error(a)}finally{n(!1)}},V=z.getTimeOptions(),W=z.getDayOptionsStatic();return(0,b.jsx)(K.Dialog,{open:a,onOpenChange:f,children:(0,b.jsxs)(K.DialogContent,{className:"sm:max-w-[500px]",children:[(0,b.jsxs)(K.DialogHeader,{children:[(0,b.jsx)(K.DialogTitle,{className:"text-xl",children:u?"Edit Jadwal Dokter":"Tambah Jadwal Dokter"}),(0,b.jsx)(K.DialogDescription,{children:u?"Perbarui jadwal praktek dokter":"Buat jadwal praktek baru untuk dokter"})]}),s?(0,b.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,b.jsx)(F.Loader2,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):(0,b.jsxs)("form",{onSubmit:w(U),className:"space-y-4 py-4",children:[(0,b.jsxs)(d.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},className:"space-y-2",children:[(0,b.jsxs)(M.Label,{className:"text-sm font-medium",children:["Dokter ",(0,b.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(H.User,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground z-10"}),(0,b.jsx)(B.Controller,{name:"doctor_id",control:R,render:({field:a})=>(0,b.jsxs)(m.Select,{value:a.value,onValueChange:a.onChange,children:[(0,b.jsx)(m.SelectTrigger,{className:"pl-10",children:(0,b.jsx)(m.SelectValue,{placeholder:"Pilih dokter"})}),(0,b.jsx)(m.SelectContent,{children:o.map(a=>(0,b.jsx)(m.SelectItem,{value:a.id.toString(),children:a.name},a.id))})]})})]}),(0,b.jsx)(E.AnimatePresence,{children:S.doctor_id&&(0,b.jsxs)(d.motion.p,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"text-sm text-destructive flex items-center gap-1",children:[(0,b.jsx)(G.AlertCircle,{className:"h-3 w-3"}),S.doctor_id.message]})})]}),(0,b.jsxs)(d.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.15},className:"space-y-2",children:[(0,b.jsxs)(M.Label,{className:"text-sm font-medium",children:["Poli ",(0,b.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(I.Building2,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground z-10"}),(0,b.jsx)(B.Controller,{name:"department_id",control:R,render:({field:a})=>(0,b.jsxs)(m.Select,{value:a.value,onValueChange:a.onChange,children:[(0,b.jsx)(m.SelectTrigger,{className:"pl-10",children:(0,b.jsx)(m.SelectValue,{placeholder:"Pilih poli"})}),(0,b.jsx)(m.SelectContent,{children:q.map(a=>(0,b.jsx)(m.SelectItem,{value:a.id.toString(),children:a.name},a.id))})]})})]}),(0,b.jsx)(E.AnimatePresence,{children:S.department_id&&(0,b.jsxs)(d.motion.p,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"text-sm text-destructive flex items-center gap-1",children:[(0,b.jsx)(G.AlertCircle,{className:"h-3 w-3"}),S.department_id.message]})})]}),(0,b.jsxs)(d.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},className:"space-y-2",children:[(0,b.jsxs)(M.Label,{className:"text-sm font-medium",children:["Hari ",(0,b.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(e.Calendar,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground z-10"}),(0,b.jsx)(B.Controller,{name:"day_of_week",control:R,render:({field:a})=>(0,b.jsxs)(m.Select,{value:a.value,onValueChange:a.onChange,children:[(0,b.jsx)(m.SelectTrigger,{className:"pl-10",children:(0,b.jsx)(m.SelectValue,{placeholder:"Pilih hari"})}),(0,b.jsx)(m.SelectContent,{children:W.map(a=>(0,b.jsx)(m.SelectItem,{value:a.value.toString(),children:a.label},a.value))})]})})]}),(0,b.jsx)(E.AnimatePresence,{children:S.day_of_week&&(0,b.jsxs)(d.motion.p,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"text-sm text-destructive flex items-center gap-1",children:[(0,b.jsx)(G.AlertCircle,{className:"h-3 w-3"}),S.day_of_week.message]})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)(d.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.25},className:"space-y-2",children:[(0,b.jsxs)(M.Label,{className:"text-sm font-medium",children:["Jam Mulai ",(0,b.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(h.Clock,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground z-10"}),(0,b.jsx)(B.Controller,{name:"start_time",control:R,render:({field:a})=>(0,b.jsxs)(m.Select,{value:a.value,onValueChange:a.onChange,children:[(0,b.jsx)(m.SelectTrigger,{className:"pl-10",children:(0,b.jsx)(m.SelectValue,{placeholder:"Pilih jam"})}),(0,b.jsx)(m.SelectContent,{children:V.map(a=>(0,b.jsx)(m.SelectItem,{value:a.value,children:a.label},a.value))})]})})]}),(0,b.jsx)(E.AnimatePresence,{children:S.start_time&&(0,b.jsxs)(d.motion.p,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"text-sm text-destructive flex items-center gap-1",children:[(0,b.jsx)(G.AlertCircle,{className:"h-3 w-3"}),S.start_time.message]})})]}),(0,b.jsxs)(d.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},className:"space-y-2",children:[(0,b.jsxs)(M.Label,{className:"text-sm font-medium",children:["Jam Selesai ",(0,b.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(h.Clock,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground z-10"}),(0,b.jsx)(B.Controller,{name:"end_time",control:R,render:({field:a})=>(0,b.jsxs)(m.Select,{value:a.value,onValueChange:a.onChange,children:[(0,b.jsx)(m.SelectTrigger,{className:"pl-10",children:(0,b.jsx)(m.SelectValue,{placeholder:"Pilih jam"})}),(0,b.jsx)(m.SelectContent,{children:V.map(a=>(0,b.jsx)(m.SelectItem,{value:a.value,children:a.label},a.value))})]})})]}),(0,b.jsx)(E.AnimatePresence,{children:S.end_time&&(0,b.jsxs)(d.motion.p,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"text-sm text-destructive flex items-center gap-1",children:[(0,b.jsx)(G.AlertCircle,{className:"h-3 w-3"}),S.end_time.message]})})]})]}),(0,b.jsxs)(d.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.35},className:"space-y-2",children:[(0,b.jsxs)(M.Label,{htmlFor:"quota",className:"text-sm font-medium",children:["Kuota Pasien ",(0,b.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(i.Users,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,b.jsx)(L.Input,{id:"quota",type:"number",min:1,max:100,className:"pl-10",...v("quota",{valueAsNumber:!0})})]}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Jumlah maksimal pasien per sesi"}),(0,b.jsx)(E.AnimatePresence,{children:S.quota&&(0,b.jsxs)(d.motion.p,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"text-sm text-destructive flex items-center gap-1",children:[(0,b.jsx)(G.AlertCircle,{className:"h-3 w-3"}),S.quota.message]})})]}),(0,b.jsxs)(d.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4},className:"space-y-2",children:[(0,b.jsx)(M.Label,{htmlFor:"notes",className:"text-sm font-medium",children:"Catatan (Opsional)"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(J.FileText,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),(0,b.jsx)("textarea",{id:"notes",placeholder:"Catatan tambahan...",className:"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 pl-10 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 resize-none",...v("notes")})]})]}),(0,b.jsxs)(d.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.45},className:"flex items-center justify-between rounded-lg border p-4",children:[(0,b.jsxs)("div",{className:"space-y-0.5",children:[(0,b.jsx)(M.Label,{htmlFor:"is_active",className:"text-sm font-medium",children:"Status Aktif"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:T?"Jadwal akan ditampilkan":"Jadwal tidak akan ditampilkan"})]}),(0,b.jsx)(N.Switch,{id:"is_active",checked:T,onCheckedChange:a=>y("is_active",a)})]}),(0,b.jsxs)(K.DialogFooter,{className:"gap-2 sm:gap-0 pt-4",children:[(0,b.jsx)(k.Button,{type:"button",variant:"outline",onClick:()=>f(!1),disabled:l,children:"Batal"}),(0,b.jsx)(k.Button,{type:"submit",disabled:l,className:"min-w-[100px]",children:l?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(F.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Menyimpan..."]}):u?"Simpan Perubahan":"Tambah Jadwal"})]})]})]})})}var S=a.i(11710);function T(){let{user:a}=(0,S.useAuth)(),p=a?.role==="super_admin"||a?.role==="admin_klinik",q=a?.role==="dokter",[r,s]=(0,c.useState)([]),[t,u]=(0,c.useState)([]),[v,w]=(0,c.useState)([]),[x,y]=(0,c.useState)([]),[B,C]=(0,c.useState)(!0),[D,E]=(0,c.useState)(!1),[F,G]=(0,c.useState)("all"),[H,I]=(0,c.useState)(1),[J,K]=(0,c.useState)(1),[L,M]=(0,c.useState)({doctor_id:"",department_id:"",day_of_week:"",page:1,per_page:15}),[N,Q]=(0,c.useState)(!1),[T,U]=(0,c.useState)(null),V=(0,c.useCallback)(async()=>{try{let b=q&&a?.id?{...L,doctor_id:a.id}:L,c=await z.getSchedules(b);s(c.data),c.meta&&(K(c.meta.last_page),I(c.meta.current_page))}catch(a){console.error("Error fetching schedules:",a)}},[L,q,a?.id]),W=(0,c.useCallback)(async()=>{try{let a=await z.getAvailableDoctors();u(a.data)}catch(a){console.error("Error fetching available doctors:",a)}},[]),X=(0,c.useCallback)(async()=>{try{let[a,b]=await Promise.all([O.default.getDoctorsByDepartment(),P.default.getActiveDepartments()]);w(a.data),y(b.data)}catch(a){console.error("Error fetching filter data:",a)}},[]);(0,c.useEffect)(()=>{(async()=>{C(!0),await Promise.all([V(),W(),X()]),C(!1)})()},[V,W,X]);let Y=async()=>{E(!0),await Promise.all([V(),W()]),E(!1)},Z=(a,b)=>{M(c=>({...c,[a]:b,page:1}))},$=z.getDayLabel(z.getCurrentDay()),_=[{title:"Total Jadwal",value:r.length,icon:e.Calendar,color:"blue"},{title:"Dokter Praktek Hari Ini",value:t.length,icon:j.Stethoscope,color:"green"},{title:"Hari Ini",value:$,icon:h.Clock,color:"purple",isText:!0}],aa={hidden:{opacity:0,y:20},show:{opacity:1,y:0}};return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)(d.motion.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold tracking-tight",children:q?"Jadwal Saya":"Jadwal Dokter"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:q?"Lihat jadwal praktek Anda":"Kelola jadwal praktek dokter"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(k.Button,{variant:"outline",size:"icon",onClick:Y,disabled:D,children:(0,b.jsx)(g.RefreshCw,{className:`h-4 w-4 ${D?"animate-spin":""}`})}),p&&(0,b.jsxs)(k.Button,{onClick:()=>{U(null),Q(!0)},children:[(0,b.jsx)(f.Plus,{className:"mr-2 h-4 w-4"}),"Tambah Jadwal"]})]})]}),(0,b.jsx)(d.motion.div,{variants:{hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1}}},initial:"hidden",animate:"show",className:"grid gap-4 md:grid-cols-3",children:_.map(a=>(0,b.jsx)(d.motion.div,{variants:aa,children:(0,b.jsx)(l.Card,{children:(0,b.jsx)(l.CardContent,{className:"p-6",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:a.title}),(0,b.jsx)("p",{className:`${a.isText?"text-2xl":"text-3xl"} font-bold mt-2`,children:B?"-":a.value})]}),(0,b.jsx)("div",{className:`p-3 rounded-xl bg-${a.color}-100 dark:bg-${a.color}-950`,children:(0,b.jsx)(a.icon,{className:`h-6 w-6 text-${a.color}-600 dark:text-${a.color}-400`})})]})})})},a.title))}),(0,b.jsxs)(o.Tabs,{value:F,onValueChange:G,children:[(0,b.jsxs)(o.TabsList,{children:[(0,b.jsxs)(o.TabsTrigger,{value:"all",className:"gap-2",children:[(0,b.jsx)(e.Calendar,{className:"h-4 w-4"}),"Semua Jadwal"]}),(0,b.jsxs)(o.TabsTrigger,{value:"today",className:"gap-2",children:[(0,b.jsx)(h.Clock,{className:"h-4 w-4"}),"Praktek Hari Ini"]})]}),(0,b.jsxs)(o.TabsContent,{value:"all",className:"mt-4 space-y-4",children:[p&&(0,b.jsx)(l.Card,{children:(0,b.jsx)(l.CardContent,{className:"p-4",children:(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,b.jsxs)(m.Select,{value:L.doctor_id?.toString()||"all",onValueChange:a=>Z("doctor_id","all"===a?"":parseInt(a)),children:[(0,b.jsx)(m.SelectTrigger,{className:"w-full sm:w-[200px]",children:(0,b.jsx)(m.SelectValue,{placeholder:"Semua Dokter"})}),(0,b.jsxs)(m.SelectContent,{children:[(0,b.jsx)(m.SelectItem,{value:"all",children:"Semua Dokter"}),v.map(a=>(0,b.jsx)(m.SelectItem,{value:a.id.toString(),children:a.name},a.id))]})]}),(0,b.jsxs)(m.Select,{value:L.department_id?.toString()||"all",onValueChange:a=>Z("department_id","all"===a?"":parseInt(a)),children:[(0,b.jsx)(m.SelectTrigger,{className:"w-full sm:w-[200px]",children:(0,b.jsx)(m.SelectValue,{placeholder:"Semua Poli"})}),(0,b.jsxs)(m.SelectContent,{children:[(0,b.jsx)(m.SelectItem,{value:"all",children:"Semua Poli"}),x.map(a=>(0,b.jsx)(m.SelectItem,{value:a.id.toString(),children:a.name},a.id))]})]}),(0,b.jsxs)(m.Select,{value:L.day_of_week?.toString()||"all",onValueChange:a=>Z("day_of_week","all"===a?"":parseInt(a)),children:[(0,b.jsx)(m.SelectTrigger,{className:"w-full sm:w-[150px]",children:(0,b.jsx)(m.SelectValue,{placeholder:"Semua Hari"})}),(0,b.jsxs)(m.SelectContent,{children:[(0,b.jsx)(m.SelectItem,{value:"all",children:"Semua Hari"}),z.getDayOptionsStatic().map(a=>(0,b.jsx)(m.SelectItem,{value:a.value.toString(),children:a.label},a.value))]})]})]})})}),(0,b.jsx)(A,{schedules:r,isLoading:B,currentPage:H,totalPages:J,onPageChange:a=>{M(b=>({...b,page:a}))},onEdit:a=>{U(a),Q(!0)},onRefresh:Y})]}),(0,b.jsx)(o.TabsContent,{value:"today",className:"mt-4",children:(0,b.jsxs)(l.Card,{children:[(0,b.jsx)(l.CardHeader,{children:(0,b.jsxs)(l.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(j.Stethoscope,{className:"h-5 w-5"}),"Dokter Praktek Hari Ini (",$,")"]})}),(0,b.jsx)(l.CardContent,{children:B?(0,b.jsx)("div",{className:"space-y-4",children:[void 0,void 0,void 0].map((a,c)=>(0,b.jsx)("div",{className:"h-24 bg-muted animate-pulse rounded-lg"},c))}):0===t.length?(0,b.jsxs)("div",{className:"text-center py-12 text-muted-foreground",children:[(0,b.jsx)(i.Users,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),(0,b.jsx)("p",{children:"Tidak ada dokter yang praktek hari ini"})]}):(0,b.jsx)("div",{className:"space-y-4",children:t.map(a=>(0,b.jsxs)(d.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 border rounded-lg hover:bg-muted/50 transition-colors",children:[(0,b.jsx)("div",{className:"flex items-start justify-between",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"h-12 w-12 rounded-full bg-blue-100 dark:bg-blue-900 flex items-center justify-center",children:(0,b.jsx)("span",{className:"text-lg font-medium text-blue-600 dark:text-blue-400",children:a.doctor.name?.charAt(0).toUpperCase()})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-semibold",children:a.doctor.name}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:a.doctor.email})]})]})}),(0,b.jsx)("div",{className:"mt-3 flex flex-wrap gap-2",children:a.schedules.map(a=>(0,b.jsxs)("div",{className:"flex items-center gap-2 px-3 py-2 bg-muted rounded-lg",children:[(0,b.jsx)(n.Badge,{variant:"outline",children:a.department.name}),(0,b.jsx)("span",{className:"text-sm font-medium",children:a.time_range}),a.is_currently_available&&(0,b.jsx)(n.Badge,{variant:"success",className:"text-xs",children:"Sedang Praktek"})]},a.id))})]},a.doctor.id))})})]})})]}),(0,b.jsx)(R,{open:N,onOpenChange:Q,schedule:T,onSuccess:()=>{Y()}})]})}a.s(["default",()=>T],24164)}];

//# sourceMappingURL=src_app_%28dashboard%29_schedules_page_tsx_bb0569dd._.js.map
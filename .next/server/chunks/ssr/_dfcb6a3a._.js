module.exports=[91119,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(68114);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("rounded-xl border bg-card text-card-foreground shadow",a),...c}));e.displayName="Card";let f=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("flex flex-col space-y-1.5 p-6",a),...c}));f.displayName="CardHeader";let g=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("font-semibold leading-none tracking-tight",a),...c}));g.displayName="CardTitle";let h=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("text-sm text-muted-foreground",a),...c}));h.displayName="CardDescription";let i=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("p-6 pt-0",a),...c}));i.displayName="CardContent",c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("flex items-center p-6 pt-0",a),...c})).displayName="CardFooter",a.s(["Card",()=>e,"CardContent",()=>i,"CardDescription",()=>h,"CardHeader",()=>f,"CardTitle",()=>g])},86304,a=>{"use strict";var b=a.i(87924),c=a.i(187),d=a.i(68114);let e=(0,c.cva)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-emerald-100 text-emerald-700 dark:bg-emerald-950 dark:text-emerald-400",warning:"border-transparent bg-amber-100 text-amber-700 dark:bg-amber-950 dark:text-amber-400",error:"border-transparent bg-red-100 text-red-700 dark:bg-red-950 dark:text-red-400",info:"border-transparent bg-blue-100 text-blue-700 dark:bg-blue-950 dark:text-blue-400",super_admin:"border-transparent bg-purple-100 text-purple-700 dark:bg-purple-950 dark:text-purple-400",admin_klinik:"border-transparent bg-blue-100 text-blue-700 dark:bg-blue-950 dark:text-blue-400",dokter:"border-transparent bg-green-100 text-green-700 dark:bg-green-950 dark:text-green-400",perawat:"border-transparent bg-teal-100 text-teal-700 dark:bg-teal-950 dark:text-teal-400",kasir:"border-transparent bg-orange-100 text-orange-700 dark:bg-orange-950 dark:text-orange-400",apoteker:"border-transparent bg-emerald-100 text-emerald-700 dark:bg-emerald-950 dark:text-emerald-400",pasien:"border-transparent bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-400"}},defaultVariants:{variant:"default"}});function f({className:a,variant:c,...f}){return(0,b.jsx)("div",{className:(0,d.cn)(e({variant:c}),a),...f})}a.s(["Badge",()=>f])},69520,a=>{"use strict";let b=(0,a.i(70106).default)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);a.s(["RefreshCw",()=>b],69520)},71565,a=>{"use strict";var b=a.i(28337);a.s(["default",0,{getDepartments:async(a={})=>(await b.default.get("/api/departments",{params:{search:a.search||void 0,status:"all"===a.status?void 0:a.status,page:a.page||1,per_page:a.per_page||10}})).data,getActiveDepartments:async()=>(await b.default.get("/api/departments/active")).data,getDepartmentById:async a=>(await b.default.get(`/api/departments/${a}`)).data,createDepartment:async a=>(await b.default.post("/api/departments",a)).data,updateDepartment:async(a,c)=>(await b.default.put(`/api/departments/${a}`,c)).data,deleteDepartment:async a=>(await b.default.delete(`/api/departments/${a}`)).data,toggleDepartmentStatus:async a=>(await b.default.patch(`/api/departments/${a}/toggle-status`)).data,getDepartmentStats:async()=>(await b.default.get("/api/departments/stats")).data,getColorOptions:()=>[{value:"blue",label:"Biru",class:"bg-blue-500"},{value:"green",label:"Hijau",class:"bg-green-500"},{value:"red",label:"Merah",class:"bg-red-500"},{value:"yellow",label:"Kuning",class:"bg-yellow-500"},{value:"purple",label:"Ungu",class:"bg-purple-500"},{value:"pink",label:"Pink",class:"bg-pink-500"},{value:"indigo",label:"Indigo",class:"bg-indigo-500"},{value:"cyan",label:"Cyan",class:"bg-cyan-500"},{value:"orange",label:"Oranye",class:"bg-orange-500"},{value:"teal",label:"Teal",class:"bg-teal-500"}],getIconOptions:()=>[{value:"stethoscope",label:"Stetoskop"},{value:"tooth",label:"Gigi"},{value:"baby",label:"Bayi"},{value:"heart",label:"Jantung"},{value:"eye",label:"Mata"},{value:"ear",label:"Telinga"},{value:"hand",label:"Tangan"},{value:"flask",label:"Lab"},{value:"scan",label:"Radiologi"},{value:"pill",label:"Obat"},{value:"syringe",label:"Suntik"},{value:"bandage",label:"Perban"},{value:"hospital",label:"Rumah Sakit"},{value:"activity",label:"Aktivitas"}],getColorClass(a){let b={blue:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300",green:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",red:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300",yellow:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300",purple:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-300",pink:"bg-pink-100 text-pink-800 dark:bg-pink-900 dark:text-pink-300",indigo:"bg-indigo-100 text-indigo-800 dark:bg-indigo-900 dark:text-indigo-300",cyan:"bg-cyan-100 text-cyan-800 dark:bg-cyan-900 dark:text-cyan-300",orange:"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-300",teal:"bg-teal-100 text-teal-800 dark:bg-teal-900 dark:text-teal-300"};return b[a]||b.blue}}])},14548,a=>{"use strict";let b=(0,a.i(70106).default)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);a.s(["Save",()=>b],14548)},76819,a=>{"use strict";var b=a.i(28337);a.s(["default",0,{async getQueues(a={}){let c=new URLSearchParams;return a.date&&c.append("date",a.date),a.department_id&&c.append("department_id",a.department_id.toString()),a.status&&c.append("status",a.status),a.page&&c.append("page",a.page.toString()),a.per_page&&c.append("per_page",a.per_page.toString()),(await b.default.get(`/api/queues?${c.toString()}`)).data},async getTodayQueues(a){let c=a?`?department_id=${a}`:"";return(await b.default.get(`/api/queues/today${c}`)).data},async getQueueStats(a,c){let d=new URLSearchParams;return a&&d.append("date",a),c&&d.append("department_id",c.toString()),(await b.default.get(`/api/queues/stats?${d.toString()}`)).data},async getQueueDisplay(a){let c=a?`?department_id=${a}`:"";return(await b.default.get(`/api/queues/display${c}`)).data},getCurrentQueue:async a=>(await b.default.get(`/api/queues/current/${a}`)).data,getQueueById:async a=>(await b.default.get(`/api/queues/${a}`)).data,takeQueue:async a=>(await b.default.post("/api/queues/take",a)).data,callQueue:async(a,c)=>(await b.default.patch(`/api/queues/${a}/call`,c||{})).data,startQueue:async a=>(await b.default.patch(`/api/queues/${a}/start`)).data,completeQueue:async(a,c)=>(await b.default.patch(`/api/queues/${a}/complete`,{notes:c})).data,skipQueue:async(a,c)=>(await b.default.patch(`/api/queues/${a}/skip`,{notes:c})).data,cancelQueue:async(a,c)=>(await b.default.patch(`/api/queues/${a}/cancel`,{notes:c})).data,assignPatient:async(a,c)=>(await b.default.patch(`/api/queues/${a}/assign-patient`,{patient_id:c})).data,resetQueue:async(a,c)=>(await b.default.post("/api/queues/reset",{date:a,department_id:c})).data,getQueueSettings:async()=>(await b.default.get("/api/queue-settings")).data,updateQueueSetting:async(a,c)=>(await b.default.put(`/api/queue-settings/${a}`,c)).data,getStatusColorClass:a=>({waiting:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300",called:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300",in_service:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-300",completed:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",skipped:"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-300",cancelled:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300"})[a]||"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300",getStatusSolidColorClass:a=>({waiting:"bg-yellow-500",called:"bg-blue-500",in_service:"bg-purple-500",completed:"bg-green-500",skipped:"bg-orange-500",cancelled:"bg-red-500"})[a]||"bg-gray-500",getStatusOptions:()=>[{value:"waiting",label:"Menunggu"},{value:"called",label:"Dipanggil"},{value:"in_service",label:"Dilayani"},{value:"completed",label:"Selesai"},{value:"skipped",label:"Dilewati"},{value:"cancelled",label:"Dibatalkan"}],formatWaitTime(a){if(null==a)return"-";if(a<60)return`${a} menit`;let b=Math.floor(a/60),c=a%60;return c>0?`${b} jam ${c} menit`:`${b} jam`},formatQueueCode:a=>a,getTodayDateString:()=>new Date().toISOString().split("T")[0]}])},11249,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(46271),e=a.i(69520),f=a.i(67900),g=a.i(14548),h=a.i(96221),i=a.i(99570),j=a.i(91119),k=a.i(66718),l=a.i(70430),m=a.i(63658),n=a.i(86304),o=a.i(76819),p=a.i(71565),q=a.i(23292);function r(){let[a,r]=(0,c.useState)([]),[s,t]=(0,c.useState)([]),[u,v]=(0,c.useState)(!0),[w,x]=(0,c.useState)(null),y=(0,c.useCallback)(async()=>{v(!0);try{let[a,b]=await Promise.all([o.default.getQueueSettings(),p.default.getActiveDepartments()]);r(a.data),t(b.data)}catch(a){console.error("Error fetching data:",a)}finally{v(!1)}},[]);(0,c.useEffect)(()=>{y()},[y]);let z=b=>{let c=a.find(a=>a.department_id===b);if(c)return c;let d=s.find(a=>a.id===b);return{id:null,department_id:b,prefix:d?.code||"A",daily_quota:100,start_number:1,is_active:!0,department:d,created_at:null,updated_at:null}},A=(a,b,c)=>{r(d=>d.find(b=>b.department_id===a)?d.map(d=>d.department_id===a?{...d,[b]:c}:d):[...d,{...z(a),[b]:c}])},B=async a=>{let b=z(a);x(a);try{await o.default.updateQueueSetting(a,{prefix:b.prefix,daily_quota:b.daily_quota,start_number:b.start_number,is_active:b.is_active}),q.toast.success("Pengaturan berhasil disimpan",{description:`Pengaturan antrian untuk ${b.department?.name||"poli"} telah diperbarui`}),y()}catch(a){console.error("Error saving:",a),q.toast.error("Gagal menyimpan pengaturan",{description:a.response?.data?.message||"Terjadi kesalahan saat menyimpan"})}finally{x(null)}};return u?(0,b.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,b.jsx)(h.Loader2,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)(d.motion.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold tracking-tight",children:"Pengaturan Antrian"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Konfigurasi pengaturan antrian untuk setiap poli/departemen"})]}),(0,b.jsxs)(i.Button,{variant:"outline",onClick:y,children:[(0,b.jsx)(e.RefreshCw,{className:"h-4 w-4 mr-2"}),"Refresh"]})]}),(0,b.jsx)("div",{className:"grid gap-6 md:grid-cols-2",children:s.map(a=>{let c=z(a.id),e=w===a.id;return(0,b.jsx)(d.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:(0,b.jsxs)(j.Card,{children:[(0,b.jsx)(j.CardHeader,{className:"pb-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 rounded-lg",style:{backgroundColor:`${a.color}20`},children:(0,b.jsx)(f.Building2,{className:"h-5 w-5",style:{color:a.color}})}),(0,b.jsxs)("div",{children:[(0,b.jsx)(j.CardTitle,{className:"text-lg",children:a.name}),(0,b.jsxs)(j.CardDescription,{children:["Kode: ",a.code]})]})]}),(0,b.jsx)(n.Badge,{variant:c.is_active?"success":"secondary",children:c.is_active?"Aktif":"Nonaktif"})]})}),(0,b.jsxs)(j.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(l.Label,{htmlFor:`prefix-${a.id}`,children:"Prefix Antrian"}),(0,b.jsx)(k.Input,{id:`prefix-${a.id}`,value:c.prefix,onChange:b=>A(a.id,"prefix",b.target.value.toUpperCase()),placeholder:"A",maxLength:3,className:"w-24"}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Contoh hasil: ",c.prefix,"-001"]})]}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(l.Label,{htmlFor:`quota-${a.id}`,children:"Kuota Harian"}),(0,b.jsx)(k.Input,{id:`quota-${a.id}`,type:"number",value:c.daily_quota,onChange:b=>A(a.id,"daily_quota",parseInt(b.target.value)||0),placeholder:"100",min:1,className:"w-32"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Maksimal antrian per hari"})]}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(l.Label,{htmlFor:`start-${a.id}`,children:"Nomor Awal"}),(0,b.jsx)(k.Input,{id:`start-${a.id}`,type:"number",value:c.start_number,onChange:b=>A(a.id,"start_number",parseInt(b.target.value)||1),placeholder:"1",min:1,className:"w-32"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Nomor antrian pertama setiap hari"})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(l.Label,{children:"Status Antrian"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Aktifkan/nonaktifkan antrian untuk poli ini"})]}),(0,b.jsx)(m.Switch,{checked:c.is_active,onCheckedChange:b=>A(a.id,"is_active",b)})]}),(0,b.jsxs)(i.Button,{className:"w-full",onClick:()=>B(a.id),disabled:e,children:[e?(0,b.jsx)(h.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}):(0,b.jsx)(g.Save,{className:"h-4 w-4 mr-2"}),"Simpan Pengaturan"]})]})]})},a.id)})}),0===s.length&&(0,b.jsx)(j.Card,{children:(0,b.jsxs)(j.CardContent,{className:"py-12 text-center text-muted-foreground",children:[(0,b.jsx)(f.Building2,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),(0,b.jsx)("p",{children:"Belum ada departemen/poli yang aktif"}),(0,b.jsx)("p",{className:"text-sm",children:"Tambahkan poli di menu Master Data â†’ Departemen"})]})})]})}a.s(["default",()=>r])}];

//# sourceMappingURL=_dfcb6a3a._.js.map
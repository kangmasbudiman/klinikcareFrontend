module.exports=[84708,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(46271),e=a.i(23292),f=a.i(67900),g=a.i(16201),h=a.i(62722),i=a.i(60246),j=a.i(87532),k=a.i(15618),l=a.i(69520),m=a.i(81464),n=a.i(91119),o=a.i(99570),p=a.i(66718),q=a.i(80701),r=a.i(95245),s=a.i(59501),t=a.i(62036),u=a.i(2835),v=a.i(4720),w=a.i(54347),x=a.i(96221),y=a.i(92e3),z=a.i(35126),A=a.i(14574),B=a.i(70430),C=a.i(63658),D=a.i(88780);let E=["blue","green","red","yellow","purple","pink","indigo","cyan","orange","teal"],F=["stethoscope","tooth","baby","heart","eye","ear","hand","flask","scan","pill","syringe","bandage","hospital","activity"],G=D.z.object({code:D.z.string().min(1,"Kode wajib diisi").max(20,"Kode maksimal 20 karakter").regex(/^[A-Z0-9-]+$/,"Kode hanya boleh huruf kapital, angka, dan strip"),name:D.z.string().min(1,"Nama wajib diisi").min(2,"Nama minimal 2 karakter").max(100,"Nama maksimal 100 karakter"),description:D.z.string().max(500,"Deskripsi maksimal 500 karakter").optional().or(D.z.literal("")),icon:D.z.enum(F).optional(),color:D.z.enum(E).default("blue"),quota_per_day:D.z.number().min(1,"Kuota minimal 1").max(1e3,"Kuota maksimal 1000").default(30),default_service_id:D.z.number().nullable().optional(),is_active:D.z.boolean().default(!0)}),H=D.z.object({code:D.z.string().min(1,"Kode wajib diisi").max(20,"Kode maksimal 20 karakter").regex(/^[A-Z0-9-]+$/,"Kode hanya boleh huruf kapital, angka, dan strip"),name:D.z.string().min(1,"Nama wajib diisi").min(2,"Nama minimal 2 karakter").max(100,"Nama maksimal 100 karakter"),description:D.z.string().max(500,"Deskripsi maksimal 500 karakter").optional().or(D.z.literal("")),icon:D.z.enum(F).optional(),color:D.z.enum(E).default("blue"),quota_per_day:D.z.number().min(1,"Kuota minimal 1").max(1e3,"Kuota maksimal 1000").default(30),default_service_id:D.z.number().nullable().optional(),is_active:D.z.boolean().default(!0)});var I=a.i(71565),J=a.i(57484),K=a.i(70106);let L=(0,K.default)("Baby",[["path",{d:"M9 12h.01",key:"157uk2"}],["path",{d:"M15 12h.01",key:"1k8ypt"}],["path",{d:"M10 16c.5.3 1.2.5 2 .5s1.5-.2 2-.5",key:"1u7htd"}],["path",{d:"M19 6.3a9 9 0 0 1 1.8 3.9 2 2 0 0 1 0 3.6 9 9 0 0 1-17.6 0 2 2 0 0 1 0-3.6A9 9 0 0 1 12 3c2 0 3.5 1.1 3.5 2.5s-.9 2.5-2 2.5c-.8 0-1.5-.4-1.5-1",key:"5yv0yz"}]]);var M=a.i(76472),N=a.i(77156),O=a.i(405);let P=(0,K.default)("Hand",[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1fvzgz"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"1kc0my"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8",key:"10h0bg"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]]),Q=(0,K.default)("FlaskConical",[["path",{d:"M14 2v6a2 2 0 0 0 .245.96l5.51 10.08A2 2 0 0 1 18 22H6a2 2 0 0 1-1.755-2.96l5.51-10.08A2 2 0 0 0 10 8V2",key:"18mbvz"}],["path",{d:"M6.453 15h11.094",key:"3shlmq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}]]);var R=a.i(6187),S=a.i(3858),T=a.i(61785);let U=(0,K.default)("Hospital",[["path",{d:"M12 6v4",key:"16clxf"}],["path",{d:"M14 14h-4",key:"esezmu"}],["path",{d:"M14 18h-4",key:"16mqa2"}],["path",{d:"M14 8h-4",key:"z8ypaz"}],["path",{d:"M18 12h2a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-9a2 2 0 0 1 2-2h2",key:"b1k337"}],["path",{d:"M18 22V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v18",key:"16g51d"}]]);var V=a.i(90669),W=a.i(29403);let X={stethoscope:z.Stethoscope,tooth:function({className:a}){return(0,b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:a,children:(0,b.jsx)("path",{d:"M12 2C9.5 2 7.5 3 7 5c-.5 2-1 4-1 6 0 3 .5 5 1 7s1 4 2 4c1.5 0 2-2 3-2s1.5 2 3 2c1 0 1.5-2 2-4s1-4 1-7c0-2-.5-4-1-6-.5-2-2.5-3-5-3z"})})},baby:L,heart:M.Heart,eye:N.Eye,ear:O.Ear,hand:P,flask:Q,scan:R.Scan,pill:S.Pill,syringe:T.Syringe,bandage:function({className:a}){return(0,b.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:a,children:[(0,b.jsx)("path",{d:"M18.5 5.5 5.5 18.5"}),(0,b.jsx)("path",{d:"m15 9 .01.01"}),(0,b.jsx)("path",{d:"m9 15 .01.01"}),(0,b.jsx)("path",{d:"M5.5 5.5 18.5 18.5"}),(0,b.jsx)("path",{d:"M5.5 18.5 2 22"}),(0,b.jsx)("path",{d:"m22 2-3.5 3.5"})]})},hospital:U,activity:V.Activity};function Y({icon:a,className:c}){if(!a||!X[a])return(0,b.jsx)(W.CircleDot,{className:c});let d=X[a];return(0,b.jsx)(d,{className:c})}function Z({open:a,onOpenChange:e,department:g,onSuccess:h}){let j=!!g,[k,l]=(0,c.useState)(!1),[m,n]=(0,c.useState)([]),[D,E]=(0,c.useState)(!1),{register:F,handleSubmit:K,setValue:L,watch:M,reset:N,control:O,formState:{errors:P}}=(0,r.useForm)({resolver:(0,s.zodResolver)(j?H:G),defaultValues:{code:"",name:"",description:"",icon:"stethoscope",color:"blue",quota_per_day:30,default_service_id:null,is_active:!0}}),Q=M("color"),R=M("icon"),S=M("is_active");M("default_service_id"),(0,c.useEffect)(()=>{let b=async()=>{E(!0);try{let a=await J.default.getActiveServices({category:"konsultasi"});n(a.data)}catch(a){console.error("Error loading services:",a)}finally{E(!1)}};a&&b()},[a]),(0,c.useEffect)(()=>{a&&(g?N({code:g.code,name:g.name,description:g.description||"",icon:g.icon||"stethoscope",color:g.color||"blue",quota_per_day:g.quota_per_day,default_service_id:g.default_service_id,is_active:g.is_active}):N({code:"",name:"",description:"",icon:"stethoscope",color:"blue",quota_per_day:30,default_service_id:null,is_active:!0}))},[a,g,N]);let T=async a=>{l(!0);try{j&&g?await I.default.updateDepartment(g.id,a):await I.default.createDepartment(a),h(),e(!1)}catch(a){console.error("Error saving department:",a)}finally{l(!1)}},U=I.default.getColorOptions(),V=I.default.getIconOptions();return(0,b.jsx)(A.Dialog,{open:a,onOpenChange:e,children:(0,b.jsxs)(A.DialogContent,{className:"sm:max-w-[500px]",children:[(0,b.jsxs)(A.DialogHeader,{children:[(0,b.jsx)(A.DialogTitle,{className:"text-xl",children:j?"Edit Departemen":"Tambah Departemen Baru"}),(0,b.jsx)(A.DialogDescription,{children:j?"Perbarui informasi departemen di bawah ini.":"Isi informasi departemen baru di bawah ini."})]}),(0,b.jsxs)("form",{onSubmit:K(T),className:"space-y-5 py-4",children:[(0,b.jsxs)(d.motion.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"flex flex-col items-center gap-3",children:[(0,b.jsx)("div",{className:`p-4 rounded-2xl ${I.default.getColorClass(Q||"blue")}`,children:(0,b.jsx)(Y,{icon:R||"stethoscope",className:"h-10 w-10"})}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Preview ikon dan warna departemen"})]}),(0,b.jsxs)(d.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},className:"space-y-2",children:[(0,b.jsxs)(B.Label,{htmlFor:"code",className:"text-sm font-medium",children:["Kode Departemen ",(0,b.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(u.Hash,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,b.jsx)(p.Input,{id:"code",placeholder:"POLI-001",className:"pl-10 uppercase",...F("code"),onChange:a=>L("code",a.target.value.toUpperCase())})]}),(0,b.jsx)(t.AnimatePresence,{children:P.code&&(0,b.jsxs)(d.motion.p,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"text-sm text-destructive flex items-center gap-1",children:[(0,b.jsx)(y.AlertCircle,{className:"h-3 w-3"}),P.code.message]})})]}),(0,b.jsxs)(d.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.15},className:"space-y-2",children:[(0,b.jsxs)(B.Label,{htmlFor:"name",className:"text-sm font-medium",children:["Nama Departemen ",(0,b.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(f.Building2,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,b.jsx)(p.Input,{id:"name",placeholder:"Poli Umum",className:"pl-10",...F("name")})]}),(0,b.jsx)(t.AnimatePresence,{children:P.name&&(0,b.jsxs)(d.motion.p,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"text-sm text-destructive flex items-center gap-1",children:[(0,b.jsx)(y.AlertCircle,{className:"h-3 w-3"}),P.name.message]})})]}),(0,b.jsxs)(d.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},className:"space-y-2",children:[(0,b.jsx)(B.Label,{htmlFor:"description",className:"text-sm font-medium",children:"Deskripsi"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(v.FileText,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),(0,b.jsx)("textarea",{id:"description",placeholder:"Deskripsi singkat departemen...",className:"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 pl-10 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 resize-none",...F("description")})]}),(0,b.jsx)(t.AnimatePresence,{children:P.description&&(0,b.jsxs)(d.motion.p,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"text-sm text-destructive flex items-center gap-1",children:[(0,b.jsx)(y.AlertCircle,{className:"h-3 w-3"}),P.description.message]})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)(d.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.25},className:"space-y-2",children:[(0,b.jsx)(B.Label,{htmlFor:"icon",className:"text-sm font-medium",children:"Ikon"}),(0,b.jsx)(r.Controller,{name:"icon",control:O,render:({field:a})=>(0,b.jsxs)(q.Select,{value:a.value,onValueChange:a.onChange,children:[(0,b.jsx)(q.SelectTrigger,{children:(0,b.jsx)(q.SelectValue,{placeholder:"Pilih ikon",children:a.value&&(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(Y,{icon:a.value,className:"h-4 w-4"}),(0,b.jsx)("span",{children:V.find(b=>b.value===a.value)?.label})]})})}),(0,b.jsx)(q.SelectContent,{children:V.map(a=>(0,b.jsx)(q.SelectItem,{value:a.value,children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(Y,{icon:a.value,className:"h-4 w-4"}),(0,b.jsx)("span",{children:a.label})]})},a.value))})]})})]}),(0,b.jsxs)(d.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},className:"space-y-2",children:[(0,b.jsx)(B.Label,{htmlFor:"color",className:"text-sm font-medium",children:"Warna"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(w.Palette,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground z-10"}),(0,b.jsx)(r.Controller,{name:"color",control:O,render:({field:a})=>(0,b.jsxs)(q.Select,{value:a.value,onValueChange:a.onChange,children:[(0,b.jsx)(q.SelectTrigger,{className:"pl-10",children:(0,b.jsx)(q.SelectValue,{placeholder:"Pilih warna",children:a.value&&(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:`w-4 h-4 rounded-full ${U.find(b=>b.value===a.value)?.class}`}),(0,b.jsx)("span",{children:U.find(b=>b.value===a.value)?.label})]})})}),(0,b.jsx)(q.SelectContent,{children:U.map(a=>(0,b.jsx)(q.SelectItem,{value:a.value,children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:`w-4 h-4 rounded-full ${a.class}`}),(0,b.jsx)("span",{children:a.label})]})},a.value))})]})})]})]})]}),(0,b.jsxs)(d.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.35},className:"space-y-2",children:[(0,b.jsxs)(B.Label,{htmlFor:"quota_per_day",className:"text-sm font-medium",children:["Kuota Per Hari ",(0,b.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(i.Users,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,b.jsx)(p.Input,{id:"quota_per_day",type:"number",min:1,max:1e3,placeholder:"30",className:"pl-10",...F("quota_per_day",{valueAsNumber:!0})})]}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Jumlah maksimal pasien yang dapat dilayani per hari"}),(0,b.jsx)(t.AnimatePresence,{children:P.quota_per_day&&(0,b.jsxs)(d.motion.p,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"text-sm text-destructive flex items-center gap-1",children:[(0,b.jsx)(y.AlertCircle,{className:"h-3 w-3"}),P.quota_per_day.message]})})]}),(0,b.jsxs)(d.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.37},className:"space-y-2",children:[(0,b.jsx)(B.Label,{htmlFor:"default_service_id",className:"text-sm font-medium",children:"Layanan Konsultasi Default"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(z.Stethoscope,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground z-10"}),(0,b.jsx)(r.Controller,{name:"default_service_id",control:O,render:({field:a})=>(0,b.jsxs)(q.Select,{value:a.value?.toString()||"none",onValueChange:b=>a.onChange("none"===b?null:parseInt(b)),disabled:D,children:[(0,b.jsx)(q.SelectTrigger,{className:"pl-10",children:(0,b.jsx)(q.SelectValue,{placeholder:D?"Memuat...":"Pilih layanan konsultasi",children:a.value?(0,b.jsx)("span",{children:m.find(b=>b.id===a.value)?.name||"Layanan terpilih"}):(0,b.jsx)("span",{className:"text-muted-foreground",children:"Tidak ada"})})}),(0,b.jsxs)(q.SelectContent,{children:[(0,b.jsx)(q.SelectItem,{value:"none",children:(0,b.jsx)("span",{className:"text-muted-foreground",children:"Tidak ada layanan default"})}),m.map(a=>(0,b.jsx)(q.SelectItem,{value:a.id.toString(),children:(0,b.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,b.jsx)("span",{children:a.name}),(0,b.jsxs)("span",{className:"text-xs text-muted-foreground",children:["Rp"," ",a.total_price?.toLocaleString("id-ID")||0]})]})},a.id))]})]})})]}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Layanan ini akan otomatis ditambahkan saat dokter memulai pemeriksaan"})]}),(0,b.jsxs)(d.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4},className:"flex items-center justify-between rounded-lg border p-4",children:[(0,b.jsxs)("div",{className:"space-y-0.5",children:[(0,b.jsx)(B.Label,{htmlFor:"is_active",className:"text-sm font-medium",children:"Status Aktif"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:S?"Departemen tersedia untuk pelayanan":"Departemen tidak tersedia"})]}),(0,b.jsx)(C.Switch,{id:"is_active",checked:S,onCheckedChange:a=>L("is_active",a)})]})]}),(0,b.jsxs)(A.DialogFooter,{className:"gap-2 sm:gap-0",children:[(0,b.jsx)(o.Button,{type:"button",variant:"outline",onClick:()=>e(!1),disabled:k,children:"Batal"}),(0,b.jsx)(o.Button,{type:"submit",onClick:K(T),disabled:k,className:"min-w-[100px]",children:k?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(x.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Menyimpan..."]}):j?"Simpan Perubahan":"Tambah Departemen"})]})]})})}var $=a.i(41675),_=a.i(24569),aa=a.i(30206),ab=a.i(86304),ac=a.i(5084),ad=a.i(68114);function ae({open:a,onOpenChange:c,department:e,onEdit:f,onToggleStatus:j}){return e?(0,b.jsx)(A.Dialog,{open:a,onOpenChange:c,children:(0,b.jsxs)(A.DialogContent,{className:"sm:max-w-[450px]",children:[(0,b.jsx)(A.DialogHeader,{children:(0,b.jsx)(A.DialogTitle,{className:"text-xl",children:"Detail Departemen"})}),(0,b.jsxs)("div",{className:"py-4 space-y-6",children:[(0,b.jsxs)(d.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex flex-col items-center text-center",children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("div",{className:`p-5 rounded-2xl ${I.default.getColorClass(e.color)}`,children:(0,b.jsx)(Y,{icon:e.icon,className:"h-12 w-12"})}),(0,b.jsx)("div",{className:`absolute -bottom-1 -right-1 w-6 h-6 rounded-full border-2 border-background flex items-center justify-center ${e.is_active?"bg-emerald-500":"bg-gray-400"}`,children:e.is_active?(0,b.jsx)(g.CheckCircle,{className:"h-4 w-4 text-white"}):(0,b.jsx)(h.XCircle,{className:"h-4 w-4 text-white"})})]}),(0,b.jsx)("h3",{className:"mt-4 text-lg font-semibold",children:e.name}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:e.code}),(0,b.jsx)("div",{className:"flex items-center gap-2 mt-2",children:(0,b.jsx)(ab.Badge,{variant:e.is_active?"success":"error",children:e.is_active?"Aktif":"Nonaktif"})})]}),(0,b.jsx)(ac.Separator,{}),(0,b.jsxs)(d.motion.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[(0,b.jsx)("div",{className:"p-2 rounded-lg bg-blue-100 dark:bg-blue-950",children:(0,b.jsx)(u.Hash,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Kode"}),(0,b.jsx)("p",{className:"text-sm font-medium",children:e.code})]})]}),e.description&&(0,b.jsxs)("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-muted/50",children:[(0,b.jsx)("div",{className:"p-2 rounded-lg bg-purple-100 dark:bg-purple-950",children:(0,b.jsx)(v.FileText,{className:"h-4 w-4 text-purple-600 dark:text-purple-400"})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Deskripsi"}),(0,b.jsx)("p",{className:"text-sm font-medium",children:e.description})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[(0,b.jsx)("div",{className:"p-2 rounded-lg bg-green-100 dark:bg-green-950",children:(0,b.jsx)(i.Users,{className:"h-4 w-4 text-green-600 dark:text-green-400"})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Kuota Per Hari"}),(0,b.jsxs)("p",{className:"text-sm font-medium",children:[e.quota_per_day," pasien"]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[(0,b.jsx)("div",{className:"p-2 rounded-lg bg-orange-100 dark:bg-orange-950",children:(0,b.jsx)($.Calendar,{className:"h-4 w-4 text-orange-600 dark:text-orange-400"})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Dibuat Pada"}),(0,b.jsx)("p",{className:"text-sm font-medium",children:(0,ad.formatDate)(e.created_at)})]})]})]}),(0,b.jsx)(ac.Separator,{}),(0,b.jsxs)(d.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},className:"flex gap-2",children:[(0,b.jsxs)(o.Button,{variant:"outline",className:"flex-1",onClick:()=>{c(!1),f()},children:[(0,b.jsx)(_.Edit,{className:"mr-2 h-4 w-4"}),"Edit"]}),(0,b.jsxs)(o.Button,{variant:e.is_active?"destructive":"default",className:"flex-1",onClick:()=>{c(!1),j()},children:[(0,b.jsx)(aa.Power,{className:"mr-2 h-4 w-4"}),e.is_active?"Nonaktifkan":"Aktifkan"]})]})]})]})}):null}var af=a.i(81560),ag=a.i(17755),ah=a.i(13749),ai=a.i(50522),aj=a.i(6015),ak=a.i(35732);function al(){return(0,b.jsxs)(aj.TableRow,{children:[(0,b.jsx)(aj.TableCell,{children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"h-10 w-10 rounded-xl bg-muted animate-pulse"}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("div",{className:"h-4 w-32 bg-muted animate-pulse rounded"}),(0,b.jsx)("div",{className:"h-3 w-20 bg-muted animate-pulse rounded"})]})]})}),(0,b.jsx)(aj.TableCell,{children:(0,b.jsx)("div",{className:"h-4 w-40 bg-muted animate-pulse rounded"})}),(0,b.jsx)(aj.TableCell,{children:(0,b.jsx)("div",{className:"h-4 w-16 bg-muted animate-pulse rounded"})}),(0,b.jsx)(aj.TableCell,{children:(0,b.jsx)("div",{className:"h-6 w-16 bg-muted animate-pulse rounded-full"})}),(0,b.jsx)(aj.TableCell,{children:(0,b.jsx)("div",{className:"h-8 w-8 bg-muted animate-pulse rounded"})})]})}function am(){return(0,b.jsx)(aj.TableRow,{children:(0,b.jsx)(aj.TableCell,{colSpan:5,className:"h-48",children:(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center text-center",children:[(0,b.jsx)("div",{className:"p-4 rounded-full bg-muted/50 mb-4",children:(0,b.jsx)(f.Building2,{className:"h-8 w-8 text-muted-foreground"})}),(0,b.jsx)("h3",{className:"font-semibold text-lg",children:"Tidak ada departemen"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"Belum ada departemen yang sesuai dengan filter"})]})})})}function an({departments:a,isLoading:c=!1,currentPage:e,totalPages:f,onPageChange:g,onView:h,onEdit:j,onDelete:k,onToggleStatus:l}){return(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("div",{className:"rounded-xl border bg-card overflow-hidden",children:(0,b.jsxs)(aj.Table,{children:[(0,b.jsx)(aj.TableHeader,{children:(0,b.jsxs)(aj.TableRow,{className:"bg-muted/50 hover:bg-muted/50",children:[(0,b.jsx)(aj.TableHead,{className:"font-semibold",children:"Departemen"}),(0,b.jsx)(aj.TableHead,{className:"font-semibold",children:"Deskripsi"}),(0,b.jsx)(aj.TableHead,{className:"font-semibold",children:"Kuota/Hari"}),(0,b.jsx)(aj.TableHead,{className:"font-semibold",children:"Status"}),(0,b.jsx)(aj.TableHead,{className:"font-semibold w-[80px]",children:"Aksi"})]})}),(0,b.jsx)(aj.TableBody,{children:c?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(al,{}),(0,b.jsx)(al,{}),(0,b.jsx)(al,{}),(0,b.jsx)(al,{}),(0,b.jsx)(al,{})]}):0===a.length?(0,b.jsx)(am,{}):a.map((a,c)=>(0,b.jsxs)(d.motion.tr,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.05*c},className:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",children:[(0,b.jsx)(aj.TableCell,{children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:`p-2 rounded-xl ${I.default.getColorClass(a.color)}`,children:(0,b.jsx)(Y,{icon:a.icon,className:"h-5 w-5"})}),(0,b.jsxs)("div",{className:"min-w-0",children:[(0,b.jsx)("p",{className:"font-medium truncate",children:a.name}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground truncate",children:a.code})]})]})}),(0,b.jsx)(aj.TableCell,{className:"max-w-[200px]",children:(0,b.jsx)("p",{className:"text-sm text-muted-foreground truncate",children:a.description||"-"})}),(0,b.jsx)(aj.TableCell,{children:(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)(i.Users,{className:"h-4 w-4 text-muted-foreground"}),(0,b.jsx)("span",{className:"font-medium",children:a.quota_per_day})]})}),(0,b.jsx)(aj.TableCell,{children:(0,b.jsx)(ab.Badge,{variant:a.is_active?"success":"error",children:a.is_active?"Aktif":"Nonaktif"})}),(0,b.jsx)(aj.TableCell,{children:(0,b.jsxs)(ak.DropdownMenu,{children:[(0,b.jsx)(ak.DropdownMenuTrigger,{asChild:!0,children:(0,b.jsxs)(o.Button,{variant:"ghost",size:"icon",className:"h-8 w-8",children:[(0,b.jsx)(ag.MoreHorizontal,{className:"h-4 w-4"}),(0,b.jsx)("span",{className:"sr-only",children:"Buka menu"})]})}),(0,b.jsxs)(ak.DropdownMenuContent,{align:"end",className:"w-48",children:[(0,b.jsxs)(ak.DropdownMenuItem,{onClick:()=>h(a),children:[(0,b.jsx)(N.Eye,{className:"mr-2 h-4 w-4"}),"Lihat Detail"]}),(0,b.jsxs)(ak.DropdownMenuItem,{onClick:()=>j(a),children:[(0,b.jsx)(_.Edit,{className:"mr-2 h-4 w-4"}),"Edit"]}),(0,b.jsxs)(ak.DropdownMenuItem,{onClick:()=>l(a),children:[(0,b.jsx)(aa.Power,{className:"mr-2 h-4 w-4"}),a.is_active?"Nonaktifkan":"Aktifkan"]}),(0,b.jsx)(ak.DropdownMenuSeparator,{}),(0,b.jsxs)(ak.DropdownMenuItem,{onClick:()=>k(a),className:"text-destructive focus:text-destructive",children:[(0,b.jsx)(af.Trash2,{className:"mr-2 h-4 w-4"}),"Hapus"]})]})]})})]},a.id))})]})}),f>1&&(0,b.jsxs)("div",{className:"flex items-center justify-between px-2",children:[(0,b.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Halaman ",e," dari ",f]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)(o.Button,{variant:"outline",size:"sm",onClick:()=>g(e-1),disabled:e<=1,children:[(0,b.jsx)(ah.ChevronLeft,{className:"h-4 w-4 mr-1"}),"Sebelumnya"]}),(0,b.jsxs)(o.Button,{variant:"outline",size:"sm",onClick:()=>g(e+1),disabled:e>=f,children:["Selanjutnya",(0,b.jsx)(ai.ChevronRight,{className:"h-4 w-4 ml-1"})]})]})]})]})}var ao=a.i(73570);function ap({open:a,onOpenChange:e,department:f,onConfirm:g}){let[h,i]=(0,c.useState)(!1);if(!f)return null;let j=async()=>{i(!0);try{await g(),e(!1)}catch(a){console.error("Error deleting department:",a)}finally{i(!1)}};return(0,b.jsx)(A.Dialog,{open:a,onOpenChange:e,children:(0,b.jsxs)(A.DialogContent,{className:"sm:max-w-[400px]",children:[(0,b.jsxs)(A.DialogHeader,{children:[(0,b.jsxs)(A.DialogTitle,{className:"text-xl text-destructive flex items-center gap-2",children:[(0,b.jsx)(ao.AlertTriangle,{className:"h-5 w-5"}),"Hapus Departemen"]}),(0,b.jsx)(A.DialogDescription,{children:"Tindakan ini tidak dapat dibatalkan. Data departemen akan dihapus secara permanen."})]}),(0,b.jsxs)(d.motion.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"py-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4 p-4 rounded-xl bg-destructive/10 border border-destructive/20",children:[(0,b.jsx)("div",{className:`p-3 rounded-xl ${I.default.getColorClass(f.color)}`,children:(0,b.jsx)(Y,{icon:f.icon,className:"h-8 w-8"})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("h4",{className:"font-semibold truncate",children:f.name}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground truncate",children:f.code}),(0,b.jsx)("div",{className:"mt-1",children:(0,b.jsx)(ab.Badge,{variant:f.is_active?"success":"error",children:f.is_active?"Aktif":"Nonaktif"})})]})]}),(0,b.jsx)("p",{className:"mt-4 text-sm text-muted-foreground text-center",children:"Apakah Anda yakin ingin menghapus departemen ini?"})]}),(0,b.jsxs)(A.DialogFooter,{className:"gap-2 sm:gap-0",children:[(0,b.jsx)(o.Button,{type:"button",variant:"outline",onClick:()=>e(!1),disabled:h,children:"Batal"}),(0,b.jsx)(o.Button,{type:"button",variant:"destructive",onClick:j,disabled:h,className:"min-w-[100px]",children:h?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(x.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Menghapus..."]}):"Ya, Hapus"})]})]})})}let aq=[{key:"total",title:"Total Departemen",icon:f.Building2,gradient:"from-blue-500 to-blue-600",bgLight:"bg-blue-50 dark:bg-blue-950/50",iconColor:"text-blue-600 dark:text-blue-400"},{key:"active",title:"Departemen Aktif",icon:g.CheckCircle,gradient:"from-emerald-500 to-emerald-600",bgLight:"bg-emerald-50 dark:bg-emerald-950/50",iconColor:"text-emerald-600 dark:text-emerald-400"},{key:"inactive",title:"Departemen Nonaktif",icon:h.XCircle,gradient:"from-red-500 to-red-600",bgLight:"bg-red-50 dark:bg-red-950/50",iconColor:"text-red-600 dark:text-red-400"},{key:"total_quota",title:"Total Kuota/Hari",icon:i.Users,gradient:"from-purple-500 to-purple-600",bgLight:"bg-purple-50 dark:bg-purple-950/50",iconColor:"text-purple-600 dark:text-purple-400"}];function ar(){let[a,f]=(0,c.useState)([]),[g,h]=(0,c.useState)(null),[i,r]=(0,c.useState)(!0),[s,t]=(0,c.useState)(!1),[u,v]=(0,c.useState)(1),[w,x]=(0,c.useState)(1),[y,z]=(0,c.useState)({search:"",status:"all",page:1,per_page:10}),[A,B]=(0,c.useState)(!1),[C,D]=(0,c.useState)(!1),[E,F]=(0,c.useState)(!1),[G,H]=(0,c.useState)(null),J=(0,c.useCallback)(async()=>{try{let a=await I.default.getDepartments(y);f(a.data),v(a.meta.current_page),x(a.meta.last_page)}catch(a){console.error("Error fetching departments:",a),e.toast.error("Gagal memuat data departemen")}},[y]),K=(0,c.useCallback)(async()=>{try{let a=await I.default.getDepartmentStats();h(a.data)}catch(a){console.error("Error fetching stats:",a)}},[]);(0,c.useEffect)(()=>{(async()=>{r(!0),await Promise.all([J(),K()]),r(!1)})()},[J,K]);let L=async()=>{t(!0),await Promise.all([J(),K()]),t(!1),e.toast.success("Data berhasil diperbarui")};(0,c.useEffect)(()=>{let a=setTimeout(()=>{z(a=>({...a,page:1}))},300);return()=>clearTimeout(a)},[y.search]);let M=(a,b)=>{z(c=>({...c,[a]:b,page:1}))},N=async a=>{try{await I.default.toggleDepartmentStatus(a.id),e.toast.success(a.is_active?"Departemen berhasil dinonaktifkan":"Departemen berhasil diaktifkan"),await Promise.all([J(),K()])}catch(a){console.error("Error toggling status:",a),e.toast.error("Gagal mengubah status departemen")}},O=async()=>{e.toast.success(G?"Departemen berhasil diperbarui":"Departemen berhasil dibuat"),await Promise.all([J(),K()])},P=async()=>{if(G)try{await I.default.deleteDepartment(G.id),e.toast.success("Departemen berhasil dihapus"),await Promise.all([J(),K()])}catch(a){throw console.error("Error deleting department:",a),e.toast.error("Gagal menghapus departemen"),a}},Q={hidden:{opacity:0,y:20},show:{opacity:1,y:0}};return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)(d.motion.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl md:text-3xl font-bold",children:"Master Departemen"}),(0,b.jsx)("p",{className:"text-muted-foreground mt-1",children:"Kelola data departemen dan poliklinik"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)(o.Button,{variant:"outline",size:"sm",onClick:L,disabled:s,children:[(0,b.jsx)(l.RefreshCw,{className:`h-4 w-4 mr-2 ${s?"animate-spin":""}`}),"Refresh"]}),(0,b.jsxs)(o.Button,{size:"sm",onClick:()=>{H(null),B(!0)},children:[(0,b.jsx)(k.Plus,{className:"h-4 w-4 mr-2"}),"Tambah Departemen"]})]})]}),(0,b.jsx)(d.motion.div,{variants:{hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1}}},initial:"hidden",animate:"show",className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:aq.map(a=>{var c;return(0,b.jsx)(d.motion.div,{variants:Q,children:(0,b.jsxs)(n.Card,{className:"relative overflow-hidden hover:shadow-lg transition-shadow",children:[(0,b.jsxs)(n.CardHeader,{className:"flex flex-row items-center justify-between pb-2",children:[(0,b.jsx)(n.CardTitle,{className:"text-sm font-medium text-muted-foreground",children:a.title}),(0,b.jsx)("div",{className:`p-2.5 rounded-xl ${a.bgLight}`,children:(0,b.jsx)(a.icon,{className:`h-5 w-5 ${a.iconColor}`})})]}),(0,b.jsx)(n.CardContent,{children:(0,b.jsx)("div",{className:"text-2xl md:text-3xl font-bold",children:i?(0,b.jsx)("div",{className:"h-8 w-16 bg-muted animate-pulse rounded"}):(c=a.key,g?g[c]:0)})}),(0,b.jsx)("div",{className:`absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r ${a.gradient}`})]})},a.key)})}),(0,b.jsx)(d.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},children:(0,b.jsx)(n.Card,{children:(0,b.jsx)(n.CardContent,{className:"pt-6",children:(0,b.jsxs)("div",{className:"flex flex-col gap-4 md:flex-row md:items-center",children:[(0,b.jsxs)("div",{className:"relative flex-1",children:[(0,b.jsx)(j.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,b.jsx)(p.Input,{placeholder:"Cari kode atau nama departemen...",className:"pl-10",value:y.search,onChange:a=>M("search",a.target.value)})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(m.Filter,{className:"h-4 w-4 text-muted-foreground"}),(0,b.jsxs)(q.Select,{value:y.status,onValueChange:a=>M("status",a),children:[(0,b.jsx)(q.SelectTrigger,{className:"w-[160px]",children:(0,b.jsx)(q.SelectValue,{placeholder:"Semua Status"})}),(0,b.jsxs)(q.SelectContent,{children:[(0,b.jsx)(q.SelectItem,{value:"all",children:"Semua Status"}),(0,b.jsx)(q.SelectItem,{value:"active",children:"Aktif"}),(0,b.jsx)(q.SelectItem,{value:"inactive",children:"Nonaktif"})]})]})]})]})})})}),(0,b.jsx)(d.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},children:(0,b.jsx)(an,{departments:a,isLoading:i,currentPage:u,totalPages:w,onPageChange:a=>{z(b=>({...b,page:a}))},onView:a=>{H(a),D(!0)},onEdit:a=>{H(a),B(!0)},onDelete:a=>{H(a),F(!0)},onToggleStatus:N})}),(0,b.jsx)(Z,{open:A,onOpenChange:B,department:G,onSuccess:O}),(0,b.jsx)(ae,{open:C,onOpenChange:D,department:G,onEdit:()=>{D(!1),B(!0)},onToggleStatus:()=>{G&&N(G)}}),(0,b.jsx)(ap,{open:E,onOpenChange:F,department:G,onConfirm:P})]})}a.s(["default",()=>ar],84708)}];

//# sourceMappingURL=src_app_%28dashboard%29_master_departments_page_tsx_906da265._.js.map
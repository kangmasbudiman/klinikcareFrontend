module.exports=[46081,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(46271),e=a.i(23292),f=a.i(70106);let g=(0,f.default)("FileCode2",[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4",key:"1pf5j1"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m5 12-3 3 3 3",key:"oke12k"}],["path",{d:"m9 18 3-3-3-3",key:"112psh"}]]);var h=a.i(35126),i=a.i(51933),j=a.i(4416),k=a.i(87532),l=a.i(15618),m=a.i(69520),n=a.i(81464),o=a.i(73320),p=a.i(91119),q=a.i(99570),r=a.i(66718),s=a.i(80701),t=a.i(77156),u=a.i(24569),v=a.i(81560),w=a.i(30206),x=a.i(17755),y=a.i(13749),z=a.i(50522),A=a.i(6015),B=a.i(35732),C=a.i(86304),D=a.i(34848);function E(){return(0,b.jsxs)(A.TableRow,{children:[(0,b.jsx)(A.TableCell,{children:(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("div",{className:"h-4 w-20 bg-muted animate-pulse rounded"}),(0,b.jsx)("div",{className:"h-3 w-16 bg-muted animate-pulse rounded"})]})}),(0,b.jsx)(A.TableCell,{children:(0,b.jsx)("div",{className:"h-6 w-24 bg-muted animate-pulse rounded-full"})}),(0,b.jsx)(A.TableCell,{children:(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("div",{className:"h-4 w-64 bg-muted animate-pulse rounded"}),(0,b.jsx)("div",{className:"h-3 w-48 bg-muted animate-pulse rounded"})]})}),(0,b.jsx)(A.TableCell,{children:(0,b.jsx)("div",{className:"h-4 w-16 bg-muted animate-pulse rounded"})}),(0,b.jsx)(A.TableCell,{children:(0,b.jsx)("div",{className:"h-6 w-16 bg-muted animate-pulse rounded-full"})}),(0,b.jsx)(A.TableCell,{children:(0,b.jsx)("div",{className:"h-6 w-16 bg-muted animate-pulse rounded-full"})}),(0,b.jsx)(A.TableCell,{children:(0,b.jsx)("div",{className:"h-8 w-8 bg-muted animate-pulse rounded"})})]})}function F(){return(0,b.jsx)(A.TableRow,{children:(0,b.jsx)(A.TableCell,{colSpan:7,className:"h-48",children:(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center text-center",children:[(0,b.jsx)("div",{className:"p-4 rounded-full bg-muted/50 mb-4",children:(0,b.jsx)(g,{className:"h-8 w-8 text-muted-foreground"})}),(0,b.jsx)("h3",{className:"font-semibold text-lg",children:"Tidak ada kode ICD"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"Belum ada kode ICD yang sesuai dengan filter"})]})})})}function G({icdCodes:a,isLoading:c=!1,currentPage:e,totalPages:f,onPageChange:g,onView:h,onEdit:i,onDelete:k,onToggleStatus:l}){return(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("div",{className:"rounded-xl border bg-card overflow-hidden",children:(0,b.jsxs)(A.Table,{children:[(0,b.jsx)(A.TableHeader,{children:(0,b.jsxs)(A.TableRow,{className:"bg-muted/50 hover:bg-muted/50",children:[(0,b.jsx)(A.TableHead,{className:"font-semibold w-[120px]",children:"Kode"}),(0,b.jsx)(A.TableHead,{className:"font-semibold w-[130px]",children:"Tipe"}),(0,b.jsx)(A.TableHead,{className:"font-semibold",children:"Nama"}),(0,b.jsx)(A.TableHead,{className:"font-semibold w-[100px]",children:"Chapter"}),(0,b.jsx)(A.TableHead,{className:"font-semibold w-[100px]",children:"BPJS"}),(0,b.jsx)(A.TableHead,{className:"font-semibold w-[100px]",children:"Status"}),(0,b.jsx)(A.TableHead,{className:"font-semibold w-[80px]",children:"Aksi"})]})}),(0,b.jsx)(A.TableBody,{children:c?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(E,{}),(0,b.jsx)(E,{}),(0,b.jsx)(E,{}),(0,b.jsx)(E,{}),(0,b.jsx)(E,{})]}):0===a.length?(0,b.jsx)(F,{}):a.map((a,c)=>(0,b.jsxs)(d.motion.tr,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.05*c},className:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",children:[(0,b.jsx)(A.TableCell,{children:(0,b.jsx)("code",{className:"px-2 py-1 bg-muted rounded text-sm font-mono font-semibold",children:a.code})}),(0,b.jsx)(A.TableCell,{children:(0,b.jsx)(C.Badge,{variant:"secondary",className:D.default.getTypeColorClass(a.type),children:D.default.formatTypeLabel(a.type)})}),(0,b.jsx)(A.TableCell,{children:(0,b.jsxs)("div",{className:"min-w-0",children:[(0,b.jsx)("p",{className:"font-medium truncate max-w-md",title:a.name_id,children:a.name_id}),a.name_en&&(0,b.jsx)("p",{className:"text-sm text-muted-foreground truncate max-w-md",title:a.name_en,children:a.name_en})]})}),(0,b.jsx)(A.TableCell,{children:a.chapter?(0,b.jsx)("span",{className:"text-sm font-medium",children:a.chapter}):(0,b.jsx)("span",{className:"text-sm text-muted-foreground",children:"-"})}),(0,b.jsx)(A.TableCell,{children:a.is_bpjs_claimable?(0,b.jsxs)(C.Badge,{variant:"secondary",className:D.default.getBpjsClass(!0),children:[(0,b.jsx)(j.ShieldCheck,{className:"h-3 w-3 mr-1"}),"Ya"]}):(0,b.jsx)(C.Badge,{variant:"secondary",className:D.default.getBpjsClass(!1),children:"Tidak"})}),(0,b.jsx)(A.TableCell,{children:(0,b.jsx)(C.Badge,{variant:a.is_active?"success":"error",children:a.is_active?"Aktif":"Nonaktif"})}),(0,b.jsx)(A.TableCell,{children:(0,b.jsxs)(B.DropdownMenu,{children:[(0,b.jsx)(B.DropdownMenuTrigger,{asChild:!0,children:(0,b.jsxs)(q.Button,{variant:"ghost",size:"icon",className:"h-8 w-8",children:[(0,b.jsx)(x.MoreHorizontal,{className:"h-4 w-4"}),(0,b.jsx)("span",{className:"sr-only",children:"Buka menu"})]})}),(0,b.jsxs)(B.DropdownMenuContent,{align:"end",className:"w-48",children:[(0,b.jsxs)(B.DropdownMenuItem,{onClick:()=>h(a),children:[(0,b.jsx)(t.Eye,{className:"mr-2 h-4 w-4"}),"Lihat Detail"]}),(0,b.jsxs)(B.DropdownMenuItem,{onClick:()=>i(a),children:[(0,b.jsx)(u.Edit,{className:"mr-2 h-4 w-4"}),"Edit"]}),(0,b.jsxs)(B.DropdownMenuItem,{onClick:()=>l(a),children:[(0,b.jsx)(w.Power,{className:"mr-2 h-4 w-4"}),a.is_active?"Nonaktifkan":"Aktifkan"]}),(0,b.jsx)(B.DropdownMenuSeparator,{}),(0,b.jsxs)(B.DropdownMenuItem,{onClick:()=>k(a),className:"text-destructive focus:text-destructive",children:[(0,b.jsx)(v.Trash2,{className:"mr-2 h-4 w-4"}),"Hapus"]})]})]})})]},a.id))})]})}),f>1&&(0,b.jsxs)("div",{className:"flex items-center justify-between px-2",children:[(0,b.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Halaman ",e," dari ",f]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)(q.Button,{variant:"outline",size:"sm",onClick:()=>g(e-1),disabled:e<=1,children:[(0,b.jsx)(y.ChevronLeft,{className:"h-4 w-4 mr-1"}),"Sebelumnya"]}),(0,b.jsxs)(q.Button,{variant:"outline",size:"sm",onClick:()=>g(e+1),disabled:e>=f,children:["Selanjutnya",(0,b.jsx)(z.ChevronRight,{className:"h-4 w-4 ml-1"})]})]})]})]})}var H=a.i(95245),I=a.i(59501),J=a.i(62036),K=a.i(2835),L=a.i(4720),M=a.i(96221),N=a.i(92e3);let O=(0,f.default)("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);var P=a.i(44494);let Q=(0,f.default)("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);var R=a.i(14574),S=a.i(70430),T=a.i(63658),U=a.i(88780);let V=U.z.object({code:U.z.string().min(1,"Kode ICD wajib diisi").max(20,"Kode maksimal 20 karakter").regex(/^[A-Z0-9.]+$/i,"Kode hanya boleh berisi huruf, angka, dan titik"),type:U.z.enum(["icd10","icd9cm"],{errorMap:()=>({message:"Tipe ICD wajib dipilih"})}),name_id:U.z.string().min(1,"Nama (Indonesia) wajib diisi").max(500,"Nama maksimal 500 karakter"),name_en:U.z.string().max(500,"Nama (English) maksimal 500 karakter").optional().nullable().or(U.z.literal("")),chapter:U.z.string().max(10,"Chapter maksimal 10 karakter").optional().nullable().or(U.z.literal("")),chapter_name:U.z.string().max(255,"Nama chapter maksimal 255 karakter").optional().nullable().or(U.z.literal("")),block:U.z.string().max(20,"Block maksimal 20 karakter").optional().nullable().or(U.z.literal("")),block_name:U.z.string().max(255,"Nama block maksimal 255 karakter").optional().nullable().or(U.z.literal("")),parent_code:U.z.string().max(20,"Parent code maksimal 20 karakter").optional().nullable().or(U.z.literal("")),dtd_code:U.z.string().max(20,"DTD code maksimal 20 karakter").optional().nullable().or(U.z.literal("")),is_bpjs_claimable:U.z.boolean().optional().default(!0),is_active:U.z.boolean().optional().default(!0),notes:U.z.string().max(1e3,"Catatan maksimal 1000 karakter").optional().nullable().or(U.z.literal(""))}),W=U.z.object({file:U.z.custom(a=>a instanceof File,"File wajib dipilih").refine(a=>["text/csv","application/json","application/vnd.ms-excel"].includes(a.type)||a.name.endsWith(".csv")||a.name.endsWith(".json"),"File harus berupa CSV atau JSON").refine(a=>a.size<=0xa00000,"Ukuran file maksimal 10MB"),type:U.z.enum(["icd10","icd9cm"],{errorMap:()=>({message:"Tipe ICD wajib dipilih"})})});function X({open:a,onOpenChange:e,icdCode:f,onSuccess:h}){let i=!!f,[k,l]=(0,c.useState)(!1),{register:m,handleSubmit:n,setValue:o,watch:p,reset:t,control:u,formState:{errors:v}}=(0,H.useForm)({resolver:(0,I.zodResolver)(V),defaultValues:{code:"",type:"icd10",name_id:"",name_en:"",chapter:"",chapter_name:"",block:"",block_name:"",parent_code:"",dtd_code:"",is_bpjs_claimable:!0,is_active:!0,notes:""}}),w=p("type"),x=p("is_active"),y=p("is_bpjs_claimable");(0,c.useEffect)(()=>{a&&(f?t({code:f.code,type:f.type,name_id:f.name_id,name_en:f.name_en||"",chapter:f.chapter||"",chapter_name:f.chapter_name||"",block:f.block||"",block_name:f.block_name||"",parent_code:f.parent_code||"",dtd_code:f.dtd_code||"",is_bpjs_claimable:f.is_bpjs_claimable,is_active:f.is_active,notes:f.notes||""}):t({code:"",type:"icd10",name_id:"",name_en:"",chapter:"",chapter_name:"",block:"",block_name:"",parent_code:"",dtd_code:"",is_bpjs_claimable:!0,is_active:!0,notes:""}))},[a,f,t]);let z=async a=>{l(!0);try{let b={...a,name_en:a.name_en||null,chapter:a.chapter||null,chapter_name:a.chapter_name||null,block:a.block||null,block_name:a.block_name||null,parent_code:a.parent_code||null,dtd_code:a.dtd_code||null,notes:a.notes||null};i&&f?await D.default.updateIcdCode(f.id,b):await D.default.createIcdCode(b),h(),e(!1)}catch(a){console.error("Error saving ICD code:",a)}finally{l(!1)}},A=D.default.getTypeOptions(),B=D.default.getChapterOptions();return(0,b.jsx)(R.Dialog,{open:a,onOpenChange:e,children:(0,b.jsxs)(R.DialogContent,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[(0,b.jsxs)(R.DialogHeader,{children:[(0,b.jsx)(R.DialogTitle,{className:"text-xl",children:i?"Edit Kode ICD":"Tambah Kode ICD Baru"}),(0,b.jsx)(R.DialogDescription,{children:i?"Perbarui informasi kode ICD di bawah ini.":"Isi informasi kode ICD baru di bawah ini."})]}),(0,b.jsxs)("form",{onSubmit:n(z),className:"space-y-5 py-4",children:[(0,b.jsxs)(d.motion.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"flex items-center justify-center gap-4 p-4 rounded-lg bg-muted/50",children:[(0,b.jsx)("div",{className:`p-3 rounded-xl ${D.default.getTypeColorClass(w)}`,children:(0,b.jsx)(g,{className:"h-6 w-6"})}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("p",{className:"font-semibold",children:"icd10"===w?"ICD-10 (Diagnosis)":"ICD-9-CM (Prosedur)"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"icd10"===w?"Kode diagnosis penyakit":"Kode tindakan/prosedur medis"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)(d.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},className:"space-y-2",children:[(0,b.jsxs)(S.Label,{className:"text-sm font-medium",children:["Tipe ICD ",(0,b.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,b.jsx)(H.Controller,{name:"type",control:u,render:({field:a})=>(0,b.jsxs)(s.Select,{value:a.value,onValueChange:a.onChange,children:[(0,b.jsx)(s.SelectTrigger,{children:(0,b.jsx)(s.SelectValue,{placeholder:"Pilih tipe"})}),(0,b.jsx)(s.SelectContent,{children:A.map(a=>(0,b.jsx)(s.SelectItem,{value:a.value,children:a.label},a.value))})]})}),(0,b.jsx)(J.AnimatePresence,{children:v.type&&(0,b.jsxs)(d.motion.p,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"text-sm text-destructive flex items-center gap-1",children:[(0,b.jsx)(N.AlertCircle,{className:"h-3 w-3"}),v.type.message]})})]}),(0,b.jsxs)(d.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.15},className:"space-y-2",children:[(0,b.jsxs)(S.Label,{htmlFor:"code",className:"text-sm font-medium",children:["Kode ICD ",(0,b.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(K.Hash,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,b.jsx)(r.Input,{id:"code",placeholder:"A09, J06.9, 23.01",className:"pl-10 uppercase font-mono",...m("code"),onChange:a=>o("code",a.target.value.toUpperCase())})]}),(0,b.jsx)(J.AnimatePresence,{children:v.code&&(0,b.jsxs)(d.motion.p,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"text-sm text-destructive flex items-center gap-1",children:[(0,b.jsx)(N.AlertCircle,{className:"h-3 w-3"}),v.code.message]})})]})]}),(0,b.jsxs)(d.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},className:"space-y-2",children:[(0,b.jsxs)(S.Label,{htmlFor:"name_id",className:"text-sm font-medium",children:["Nama (Indonesia) ",(0,b.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(O,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,b.jsx)(r.Input,{id:"name_id",placeholder:"Diare dan gastroenteritis",className:"pl-10",...m("name_id")})]}),(0,b.jsx)(J.AnimatePresence,{children:v.name_id&&(0,b.jsxs)(d.motion.p,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"text-sm text-destructive flex items-center gap-1",children:[(0,b.jsx)(N.AlertCircle,{className:"h-3 w-3"}),v.name_id.message]})})]}),(0,b.jsxs)(d.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.25},className:"space-y-2",children:[(0,b.jsx)(S.Label,{htmlFor:"name_en",className:"text-sm font-medium",children:"Nama (English)"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(P.Globe,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,b.jsx)(r.Input,{id:"name_en",placeholder:"Infectious gastroenteritis and colitis",className:"pl-10",...m("name_en")})]})]}),"icd10"===w&&(0,b.jsxs)(d.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},className:"space-y-4 p-4 rounded-lg border bg-muted/30",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(O,{className:"h-4 w-4 text-muted-foreground"}),(0,b.jsx)(S.Label,{className:"text-sm font-medium",children:"Informasi Chapter"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(S.Label,{htmlFor:"chapter",className:"text-xs",children:"Chapter"}),(0,b.jsx)(H.Controller,{name:"chapter",control:u,render:({field:a})=>(0,b.jsxs)(s.Select,{value:a.value||"none",onValueChange:b=>{a.onChange("none"===b?"":b);let c=B.find(a=>a.value===b);c&&o("chapter_name",c.label.split(" - ")[1]||"")},children:[(0,b.jsx)(s.SelectTrigger,{children:(0,b.jsx)(s.SelectValue,{placeholder:"Pilih chapter"})}),(0,b.jsxs)(s.SelectContent,{children:[(0,b.jsx)(s.SelectItem,{value:"none",children:"Tidak ada"}),B.map(a=>(0,b.jsx)(s.SelectItem,{value:a.value,children:a.label},a.value))]})]})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(S.Label,{htmlFor:"chapter_name",className:"text-xs",children:"Nama Chapter"}),(0,b.jsx)(r.Input,{id:"chapter_name",placeholder:"Nama chapter",...m("chapter_name")})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(S.Label,{htmlFor:"block",className:"text-xs",children:"Block"}),(0,b.jsx)(r.Input,{id:"block",placeholder:"A00-A09",...m("block")})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(S.Label,{htmlFor:"block_name",className:"text-xs",children:"Nama Block"}),(0,b.jsx)(r.Input,{id:"block_name",placeholder:"Intestinal infectious diseases",...m("block_name")})]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)(d.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.35},className:"space-y-2",children:[(0,b.jsx)(S.Label,{htmlFor:"parent_code",className:"text-sm font-medium",children:"Parent Code"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(Q,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,b.jsx)(r.Input,{id:"parent_code",placeholder:"A00",className:"pl-10 uppercase font-mono",...m("parent_code"),onChange:a=>o("parent_code",a.target.value.toUpperCase())})]}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Kode induk untuk hierarki"})]}),(0,b.jsxs)(d.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4},className:"space-y-2",children:[(0,b.jsx)(S.Label,{htmlFor:"dtd_code",className:"text-sm font-medium",children:"DTD Code"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(K.Hash,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,b.jsx)(r.Input,{id:"dtd_code",placeholder:"Kode DTD",className:"pl-10 font-mono",...m("dtd_code")})]}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Kode untuk SatuSehat (opsional)"})]})]}),(0,b.jsxs)(d.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.45},className:"space-y-2",children:[(0,b.jsx)(S.Label,{htmlFor:"notes",className:"text-sm font-medium",children:"Catatan"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(L.FileText,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),(0,b.jsx)("textarea",{id:"notes",placeholder:"Catatan tambahan...",className:"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 pl-10 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 resize-none",...m("notes")})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)(d.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.5},className:"flex items-center justify-between rounded-lg border p-4",children:[(0,b.jsxs)("div",{className:"space-y-0.5",children:[(0,b.jsx)(S.Label,{htmlFor:"is_active",className:"text-sm font-medium",children:"Status Aktif"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:x?"Kode dapat digunakan":"Kode tidak aktif"})]}),(0,b.jsx)(T.Switch,{id:"is_active",checked:x,onCheckedChange:a=>o("is_active",a)})]}),(0,b.jsxs)(d.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.55},className:"flex items-center justify-between rounded-lg border p-4",children:[(0,b.jsxs)("div",{className:"space-y-0.5",children:[(0,b.jsxs)(S.Label,{htmlFor:"is_bpjs_claimable",className:"text-sm font-medium flex items-center gap-1",children:[(0,b.jsx)(j.ShieldCheck,{className:"h-3.5 w-3.5"}),"Claimable BPJS"]}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:y?"Dapat diklaim BPJS":"Tidak dapat diklaim"})]}),(0,b.jsx)(T.Switch,{id:"is_bpjs_claimable",checked:y,onCheckedChange:a=>o("is_bpjs_claimable",a)})]})]})]}),(0,b.jsxs)(R.DialogFooter,{className:"gap-2 sm:gap-0",children:[(0,b.jsx)(q.Button,{type:"button",variant:"outline",onClick:()=>e(!1),disabled:k,children:"Batal"}),(0,b.jsx)(q.Button,{type:"submit",onClick:n(z),disabled:k,className:"min-w-[100px]",children:k?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(M.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Menyimpan..."]}):i?"Simpan Perubahan":"Tambah Kode ICD"})]})]})})}var Y=a.i(41675),Z=a.i(16201),$=a.i(62722),_=a.i(17545),aa=a.i(5084),ab=a.i(68114);function ac({open:a,onOpenChange:c,icdCode:e,onEdit:f,onToggleStatus:h}){return e?(0,b.jsx)(R.Dialog,{open:a,onOpenChange:c,children:(0,b.jsxs)(R.DialogContent,{className:"sm:max-w-[500px] max-h-[90vh] overflow-y-auto",children:[(0,b.jsx)(R.DialogHeader,{children:(0,b.jsx)(R.DialogTitle,{className:"text-xl",children:"Detail Kode ICD"})}),(0,b.jsxs)("div",{className:"py-4 space-y-6",children:[(0,b.jsxs)(d.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex flex-col items-center text-center",children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("div",{className:`p-5 rounded-2xl ${D.default.getTypeColorClass(e.type)}`,children:(0,b.jsx)(g,{className:"h-12 w-12"})}),(0,b.jsx)("div",{className:`absolute -bottom-1 -right-1 w-6 h-6 rounded-full border-2 border-background flex items-center justify-center ${e.is_active?"bg-emerald-500":"bg-gray-400"}`,children:e.is_active?(0,b.jsx)(Z.CheckCircle,{className:"h-4 w-4 text-white"}):(0,b.jsx)($.XCircle,{className:"h-4 w-4 text-white"})})]}),(0,b.jsx)("code",{className:"mt-4 px-3 py-1 bg-muted rounded font-mono text-lg font-bold",children:e.code}),(0,b.jsx)("p",{className:"mt-2 text-sm font-medium text-center max-w-sm",children:e.name_id}),(0,b.jsxs)("div",{className:"flex items-center gap-2 mt-3 flex-wrap justify-center",children:[(0,b.jsx)(C.Badge,{variant:e.is_active?"success":"error",children:e.is_active?"Aktif":"Nonaktif"}),(0,b.jsx)(C.Badge,{variant:"secondary",className:D.default.getTypeColorClass(e.type),children:D.default.formatTypeLabel(e.type)}),e.is_bpjs_claimable&&(0,b.jsxs)(C.Badge,{variant:"secondary",className:D.default.getBpjsClass(!0),children:[(0,b.jsx)(j.ShieldCheck,{className:"h-3 w-3 mr-1"}),"BPJS"]})]})]}),(0,b.jsx)(aa.Separator,{}),(0,b.jsxs)(d.motion.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[(0,b.jsx)("div",{className:"p-2 rounded-lg bg-blue-100 dark:bg-blue-950",children:(0,b.jsx)(K.Hash,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Kode ICD"}),(0,b.jsx)("code",{className:"text-sm font-mono font-semibold",children:e.code})]})]}),(0,b.jsxs)("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-muted/50",children:[(0,b.jsx)("div",{className:"p-2 rounded-lg bg-green-100 dark:bg-green-950",children:(0,b.jsx)(O,{className:"h-4 w-4 text-green-600 dark:text-green-400"})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Nama (Indonesia)"}),(0,b.jsx)("p",{className:"text-sm font-medium",children:e.name_id})]})]}),e.name_en&&(0,b.jsxs)("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-muted/50",children:[(0,b.jsx)("div",{className:"p-2 rounded-lg bg-indigo-100 dark:bg-indigo-950",children:(0,b.jsx)(P.Globe,{className:"h-4 w-4 text-indigo-600 dark:text-indigo-400"})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Nama (English)"}),(0,b.jsx)("p",{className:"text-sm font-medium",children:e.name_en})]})]}),"icd10"===e.type&&e.chapter&&(0,b.jsxs)("div",{className:"p-3 rounded-lg bg-muted/50 space-y-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"p-2 rounded-lg bg-purple-100 dark:bg-purple-950",children:(0,b.jsx)(_.Layers,{className:"h-4 w-4 text-purple-600 dark:text-purple-400"})}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Informasi Chapter"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,b.jsxs)("div",{className:"p-2 rounded bg-background",children:[(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Chapter"}),(0,b.jsx)("p",{className:"text-sm font-semibold",children:e.chapter})]}),e.chapter_name&&(0,b.jsxs)("div",{className:"p-2 rounded bg-background",children:[(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Nama Chapter"}),(0,b.jsx)("p",{className:"text-sm font-medium truncate",title:e.chapter_name,children:e.chapter_name})]})]}),(e.block||e.block_name)&&(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[e.block&&(0,b.jsxs)("div",{className:"p-2 rounded bg-background",children:[(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Block"}),(0,b.jsx)("p",{className:"text-sm font-semibold",children:e.block})]}),e.block_name&&(0,b.jsxs)("div",{className:"p-2 rounded bg-background",children:[(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Nama Block"}),(0,b.jsx)("p",{className:"text-sm font-medium truncate",title:e.block_name,children:e.block_name})]})]})]}),e.parent_code&&(0,b.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[(0,b.jsx)("div",{className:"p-2 rounded-lg bg-cyan-100 dark:bg-cyan-950",children:(0,b.jsx)(Q,{className:"h-4 w-4 text-cyan-600 dark:text-cyan-400"})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Parent Code"}),(0,b.jsx)("code",{className:"text-sm font-mono font-medium",children:e.parent_code})]})]}),e.dtd_code&&(0,b.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[(0,b.jsx)("div",{className:"p-2 rounded-lg bg-teal-100 dark:bg-teal-950",children:(0,b.jsx)(K.Hash,{className:"h-4 w-4 text-teal-600 dark:text-teal-400"})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"DTD Code (SatuSehat)"}),(0,b.jsx)("code",{className:"text-sm font-mono font-medium",children:e.dtd_code})]})]}),e.notes&&(0,b.jsxs)("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-muted/50",children:[(0,b.jsx)("div",{className:"p-2 rounded-lg bg-gray-100 dark:bg-gray-950",children:(0,b.jsx)(L.FileText,{className:"h-4 w-4 text-gray-600 dark:text-gray-400"})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Catatan"}),(0,b.jsx)("p",{className:"text-sm font-medium",children:e.notes})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[(0,b.jsx)("div",{className:"p-2 rounded-lg bg-emerald-100 dark:bg-emerald-950",children:(0,b.jsx)(j.ShieldCheck,{className:"h-4 w-4 text-emerald-600 dark:text-emerald-400"})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Status BPJS"}),(0,b.jsx)("p",{className:"text-sm font-medium",children:e.is_bpjs_claimable?"Dapat diklaim BPJS":"Tidak dapat diklaim BPJS"})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[(0,b.jsx)("div",{className:"p-2 rounded-lg bg-orange-100 dark:bg-orange-950",children:(0,b.jsx)(Y.Calendar,{className:"h-4 w-4 text-orange-600 dark:text-orange-400"})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Dibuat Pada"}),(0,b.jsx)("p",{className:"text-sm font-medium",children:(0,ab.formatDate)(e.created_at)})]})]})]}),(0,b.jsx)(aa.Separator,{}),(0,b.jsxs)(d.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},className:"flex gap-2",children:[(0,b.jsxs)(q.Button,{variant:"outline",className:"flex-1",onClick:()=>{c(!1),f()},children:[(0,b.jsx)(u.Edit,{className:"mr-2 h-4 w-4"}),"Edit"]}),(0,b.jsxs)(q.Button,{variant:e.is_active?"destructive":"default",className:"flex-1",onClick:()=>{c(!1),h()},children:[(0,b.jsx)(w.Power,{className:"mr-2 h-4 w-4"}),e.is_active?"Nonaktifkan":"Aktifkan"]})]})]})]})}):null}var ad=a.i(73570);function ae({open:a,onOpenChange:e,icdCode:f,onConfirm:h}){let[i,j]=(0,c.useState)(!1);if(!f)return null;let k=async()=>{j(!0);try{await h(),e(!1)}catch(a){console.error("Error deleting ICD code:",a)}finally{j(!1)}};return(0,b.jsx)(R.Dialog,{open:a,onOpenChange:e,children:(0,b.jsxs)(R.DialogContent,{className:"sm:max-w-[400px]",children:[(0,b.jsxs)(R.DialogHeader,{children:[(0,b.jsxs)(R.DialogTitle,{className:"text-xl text-destructive flex items-center gap-2",children:[(0,b.jsx)(ad.AlertTriangle,{className:"h-5 w-5"}),"Hapus Kode ICD"]}),(0,b.jsx)(R.DialogDescription,{children:"Tindakan ini tidak dapat dibatalkan. Data kode ICD akan dihapus secara permanen."})]}),(0,b.jsxs)(d.motion.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"py-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4 p-4 rounded-xl bg-destructive/10 border border-destructive/20",children:[(0,b.jsx)("div",{className:`p-3 rounded-xl ${D.default.getTypeColorClass(f.type)}`,children:(0,b.jsx)(g,{className:"h-8 w-8"})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("code",{className:"font-mono font-bold",children:f.code}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground truncate mt-1",children:f.name_id}),(0,b.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,b.jsx)(C.Badge,{variant:f.is_active?"success":"error",children:f.is_active?"Aktif":"Nonaktif"}),(0,b.jsx)(C.Badge,{variant:"secondary",className:D.default.getTypeColorClass(f.type),children:D.default.formatTypeLabel(f.type)})]})]})]}),(0,b.jsx)("p",{className:"mt-4 text-sm text-muted-foreground text-center",children:"Apakah Anda yakin ingin menghapus kode ICD ini?"})]}),(0,b.jsxs)(R.DialogFooter,{className:"gap-2 sm:gap-0",children:[(0,b.jsx)(q.Button,{type:"button",variant:"outline",onClick:()=>e(!1),disabled:i,children:"Batal"}),(0,b.jsx)(q.Button,{type:"button",variant:"destructive",onClick:k,disabled:i,className:"min-w-[100px]",children:i?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(M.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Menghapus..."]}):"Ya, Hapus"})]})]})})}let af=(0,f.default)("FileUp",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]]),ag=(0,f.default)("FileJson",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]]);var ah=a.i(24722);function ai({open:a,onOpenChange:e,onSuccess:f}){let[g,h]=(0,c.useState)(!1),[i,j]=(0,c.useState)(null),[k,l]=(0,c.useState)(null),m=(0,c.useRef)(null),{control:n,handleSubmit:p,setValue:r,reset:t,formState:{errors:u}}=(0,H.useForm)({resolver:(0,I.zodResolver)(W),defaultValues:{type:"icd10"}}),v=async a=>{h(!0),j(null);try{let b=await D.default.importIcdCodes(a.file,a.type);j({success:!0,imported:b.data.imported,skipped:b.data.skipped,errors:b.data.errors}),b.data.imported>0&&f()}catch(a){console.error("Error importing ICD codes:",a),j({success:!1,imported:0,skipped:0,errors:["Terjadi kesalahan saat mengimpor data"]})}finally{h(!1)}},w=()=>{t(),l(null),j(null),e(!1)},x=D.default.getTypeOptions();return(0,b.jsx)(R.Dialog,{open:a,onOpenChange:w,children:(0,b.jsxs)(R.DialogContent,{className:"sm:max-w-[500px]",children:[(0,b.jsxs)(R.DialogHeader,{children:[(0,b.jsxs)(R.DialogTitle,{className:"text-xl flex items-center gap-2",children:[(0,b.jsx)(af,{className:"h-5 w-5"}),"Import Kode ICD"]}),(0,b.jsx)(R.DialogDescription,{children:"Upload file CSV atau JSON untuk mengimpor data kode ICD secara massal."})]}),i?(0,b.jsxs)(d.motion.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"py-6",children:[(0,b.jsx)("div",{className:"flex flex-col items-center text-center",children:i.success&&i.imported>0?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"p-4 rounded-full bg-green-100 dark:bg-green-950 mb-4",children:(0,b.jsx)(Z.CheckCircle,{className:"h-10 w-10 text-green-600 dark:text-green-400"})}),(0,b.jsx)("h3",{className:"font-semibold text-lg",children:"Import Berhasil"}),(0,b.jsxs)("p",{className:"text-sm text-muted-foreground mt-2",children:[i.imported," kode berhasil diimpor",i.skipped>0&&`, ${i.skipped} dilewati`]})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"p-4 rounded-full bg-red-100 dark:bg-red-950 mb-4",children:(0,b.jsx)($.XCircle,{className:"h-10 w-10 text-red-600 dark:text-red-400"})}),(0,b.jsx)("h3",{className:"font-semibold text-lg",children:"Import Gagal"}),i.errors.length>0&&(0,b.jsxs)("div",{className:"mt-4 text-left w-full max-h-40 overflow-y-auto",children:[(0,b.jsx)("p",{className:"text-sm font-medium mb-2",children:"Errors:"}),(0,b.jsxs)("ul",{className:"text-sm text-muted-foreground space-y-1",children:[i.errors.slice(0,10).map((a,c)=>(0,b.jsxs)("li",{className:"flex items-start gap-1",children:[(0,b.jsx)(N.AlertCircle,{className:"h-3 w-3 text-red-500 mt-0.5 shrink-0"}),(0,b.jsx)("span",{children:a})]},c)),i.errors.length>10&&(0,b.jsxs)("li",{className:"text-muted-foreground",children:["... dan ",i.errors.length-10," error lainnya"]})]})]})]})}),(0,b.jsx)("div",{className:"mt-6 flex justify-center",children:(0,b.jsx)(q.Button,{onClick:w,children:"Tutup"})})]}):(0,b.jsxs)("form",{onSubmit:p(v),className:"space-y-5 py-4",children:[(0,b.jsxs)(d.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-2",children:[(0,b.jsxs)(S.Label,{className:"text-sm font-medium",children:["Tipe ICD ",(0,b.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,b.jsx)(H.Controller,{name:"type",control:n,render:({field:a})=>(0,b.jsxs)(s.Select,{value:a.value,onValueChange:a.onChange,children:[(0,b.jsx)(s.SelectTrigger,{children:(0,b.jsx)(s.SelectValue,{placeholder:"Pilih tipe"})}),(0,b.jsx)(s.SelectContent,{children:x.map(a=>(0,b.jsx)(s.SelectItem,{value:a.value,children:a.label},a.value))})]})}),(0,b.jsx)(J.AnimatePresence,{children:u.type&&(0,b.jsxs)(d.motion.p,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"text-sm text-destructive flex items-center gap-1",children:[(0,b.jsx)(N.AlertCircle,{className:"h-3 w-3"}),u.type.message]})})]}),(0,b.jsxs)(d.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},className:"space-y-2",children:[(0,b.jsxs)(S.Label,{className:"text-sm font-medium",children:["File ",(0,b.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,b.jsxs)("div",{onClick:()=>m.current?.click(),onDrop:a=>{a.preventDefault();let b=a.dataTransfer.files?.[0];b&&(l(b),r("file",b))},onDragOver:a=>{a.preventDefault()},className:"flex flex-col items-center justify-center p-8 border-2 border-dashed rounded-lg cursor-pointer hover:border-primary hover:bg-muted/50 transition-colors",children:[k?k.name.endsWith(".json")?(0,b.jsx)(ag,{className:"h-10 w-10 text-blue-500"}):(0,b.jsx)(ah.FileSpreadsheet,{className:"h-10 w-10 text-green-500"}):(0,b.jsx)(o.Upload,{className:"h-10 w-10 text-muted-foreground"}),k?(0,b.jsxs)("div",{className:"mt-3 text-center",children:[(0,b.jsx)("p",{className:"font-medium",children:k.name}),(0,b.jsxs)("p",{className:"text-sm text-muted-foreground",children:[(k.size/1024).toFixed(2)," KB"]})]}):(0,b.jsxs)("div",{className:"mt-3 text-center",children:[(0,b.jsx)("p",{className:"font-medium",children:"Klik atau drop file di sini"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Format: CSV atau JSON (maks 10MB)"})]}),(0,b.jsx)("input",{ref:m,type:"file",accept:".csv,.json",onChange:a=>{let b=a.target.files?.[0];b&&(l(b),r("file",b))},className:"hidden"})]}),(0,b.jsx)(J.AnimatePresence,{children:u.file&&(0,b.jsxs)(d.motion.p,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"text-sm text-destructive flex items-center gap-1",children:[(0,b.jsx)(N.AlertCircle,{className:"h-3 w-3"}),u.file.message]})})]}),(0,b.jsxs)(d.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},className:"p-4 rounded-lg bg-muted/50 text-sm",children:[(0,b.jsx)("p",{className:"font-medium mb-2",children:"Format file yang didukung:"}),(0,b.jsxs)("ul",{className:"text-muted-foreground space-y-1",children:[(0,b.jsxs)("li",{children:[(0,b.jsx)("strong",{children:"CSV:"})," code, name_id, name_en, chapter, block (header required)"]}),(0,b.jsxs)("li",{children:[(0,b.jsx)("strong",{children:"JSON:"})," Array of objects dengan field yang sama"]})]})]}),(0,b.jsxs)(R.DialogFooter,{className:"gap-2 sm:gap-0 pt-4",children:[(0,b.jsx)(q.Button,{type:"button",variant:"outline",onClick:w,disabled:g,children:"Batal"}),(0,b.jsx)(q.Button,{type:"submit",disabled:g||!k,className:"min-w-[100px]",children:g?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(M.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Mengimpor..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(o.Upload,{className:"mr-2 h-4 w-4"}),"Import"]})})]})]})]})})}let aj=[{key:"total",title:"Total Kode ICD",icon:g,gradient:"from-blue-500 to-blue-600",bgLight:"bg-blue-50 dark:bg-blue-950/50",iconColor:"text-blue-600 dark:text-blue-400"},{key:"icd10_count",title:"ICD-10 (Diagnosis)",icon:h.Stethoscope,gradient:"from-purple-500 to-purple-600",bgLight:"bg-purple-50 dark:bg-purple-950/50",iconColor:"text-purple-600 dark:text-purple-400"},{key:"icd9cm_count",title:"ICD-9-CM (Prosedur)",icon:i.Scissors,gradient:"from-cyan-500 to-cyan-600",bgLight:"bg-cyan-50 dark:bg-cyan-950/50",iconColor:"text-cyan-600 dark:text-cyan-400"},{key:"bpjs_claimable",title:"Claimable BPJS",icon:j.ShieldCheck,gradient:"from-emerald-500 to-emerald-600",bgLight:"bg-emerald-50 dark:bg-emerald-950/50",iconColor:"text-emerald-600 dark:text-emerald-400"}];function ak(){let[a,f]=(0,c.useState)([]),[g,h]=(0,c.useState)(null),[i,j]=(0,c.useState)(!0),[t,u]=(0,c.useState)(!1),[v,w]=(0,c.useState)(1),[x,y]=(0,c.useState)(1),[z,A]=(0,c.useState)({search:"",type:"all",status:"all",bpjs:"all",page:1,per_page:10}),[B,C]=(0,c.useState)(!1),[E,F]=(0,c.useState)(!1),[H,I]=(0,c.useState)(!1),[J,K]=(0,c.useState)(!1),[L,M]=(0,c.useState)(null),N=(0,c.useCallback)(async()=>{try{let a=await D.default.getIcdCodes(z);f(a.data),w(a.meta.current_page),y(a.meta.last_page)}catch(a){console.error("Error fetching ICD codes:",a),e.toast.error("Gagal memuat data kode ICD")}},[z]),O=(0,c.useCallback)(async()=>{try{let a=await D.default.getIcdCodeStats();h(a.data)}catch(a){console.error("Error fetching stats:",a)}},[]);(0,c.useEffect)(()=>{(async()=>{j(!0),await Promise.all([N(),O()]),j(!1)})()},[N,O]);let P=async()=>{u(!0),await Promise.all([N(),O()]),u(!1),e.toast.success("Data berhasil diperbarui")};(0,c.useEffect)(()=>{let a=setTimeout(()=>{A(a=>({...a,page:1}))},300);return()=>clearTimeout(a)},[z.search]);let Q=(a,b)=>{A(c=>({...c,[a]:b,page:1}))},R=async a=>{try{await D.default.toggleIcdCodeStatus(a.id),e.toast.success(a.is_active?"Kode ICD berhasil dinonaktifkan":"Kode ICD berhasil diaktifkan"),await Promise.all([N(),O()])}catch(a){console.error("Error toggling status:",a),e.toast.error("Gagal mengubah status kode ICD")}},S=async()=>{e.toast.success(L?"Kode ICD berhasil diperbarui":"Kode ICD berhasil dibuat"),await Promise.all([N(),O()])},T=async()=>{if(L)try{await D.default.deleteIcdCode(L.id),e.toast.success("Kode ICD berhasil dihapus"),await Promise.all([N(),O()])}catch(a){throw console.error("Error deleting ICD code:",a),e.toast.error("Gagal menghapus kode ICD"),a}},U=async()=>{await Promise.all([N(),O()])},V={hidden:{opacity:0,y:20},show:{opacity:1,y:0}},W=D.default.getTypeOptions();return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)(d.motion.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl md:text-3xl font-bold",children:"Master Kode ICD"}),(0,b.jsx)("p",{className:"text-muted-foreground mt-1",children:"Kelola data kode ICD-10 dan ICD-9-CM untuk diagnosis dan prosedur"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)(q.Button,{variant:"outline",size:"sm",onClick:P,disabled:t,children:[(0,b.jsx)(m.RefreshCw,{className:`h-4 w-4 mr-2 ${t?"animate-spin":""}`}),"Refresh"]}),(0,b.jsxs)(q.Button,{variant:"outline",size:"sm",onClick:()=>K(!0),children:[(0,b.jsx)(o.Upload,{className:"h-4 w-4 mr-2"}),"Import"]}),(0,b.jsxs)(q.Button,{size:"sm",onClick:()=>{M(null),C(!0)},children:[(0,b.jsx)(l.Plus,{className:"h-4 w-4 mr-2"}),"Tambah Kode ICD"]})]})]}),(0,b.jsx)(d.motion.div,{variants:{hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1}}},initial:"hidden",animate:"show",className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:aj.map(a=>{var c;return(0,b.jsx)(d.motion.div,{variants:V,children:(0,b.jsxs)(p.Card,{className:"relative overflow-hidden hover:shadow-lg transition-shadow",children:[(0,b.jsxs)(p.CardHeader,{className:"flex flex-row items-center justify-between pb-2",children:[(0,b.jsx)(p.CardTitle,{className:"text-sm font-medium text-muted-foreground",children:a.title}),(0,b.jsx)("div",{className:`p-2.5 rounded-xl ${a.bgLight}`,children:(0,b.jsx)(a.icon,{className:`h-5 w-5 ${a.iconColor}`})})]}),(0,b.jsx)(p.CardContent,{children:(0,b.jsx)("div",{className:"text-2xl md:text-3xl font-bold",children:i?(0,b.jsx)("div",{className:"h-8 w-16 bg-muted animate-pulse rounded"}):(c=a.key,!g?0:g[c]||0).toLocaleString("id-ID")})}),(0,b.jsx)("div",{className:`absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r ${a.gradient}`})]})},a.key)})}),(0,b.jsx)(d.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},children:(0,b.jsx)(p.Card,{children:(0,b.jsx)(p.CardContent,{className:"pt-6",children:(0,b.jsxs)("div",{className:"flex flex-col gap-4 md:flex-row md:items-center",children:[(0,b.jsxs)("div",{className:"relative flex-1",children:[(0,b.jsx)(k.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,b.jsx)(r.Input,{placeholder:"Cari kode atau nama ICD...",className:"pl-10",value:z.search,onChange:a=>Q("search",a.target.value)})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(n.Filter,{className:"h-4 w-4 text-muted-foreground"}),(0,b.jsxs)(s.Select,{value:z.type,onValueChange:a=>Q("type",a),children:[(0,b.jsx)(s.SelectTrigger,{className:"w-[180px]",children:(0,b.jsx)(s.SelectValue,{placeholder:"Tipe ICD"})}),(0,b.jsxs)(s.SelectContent,{children:[(0,b.jsx)(s.SelectItem,{value:"all",children:"Semua Tipe"}),W.map(a=>(0,b.jsx)(s.SelectItem,{value:a.value,children:a.label},a.value))]})]})]}),(0,b.jsxs)(s.Select,{value:z.bpjs,onValueChange:a=>Q("bpjs",a),children:[(0,b.jsx)(s.SelectTrigger,{className:"w-[160px]",children:(0,b.jsx)(s.SelectValue,{placeholder:"Status BPJS"})}),(0,b.jsxs)(s.SelectContent,{children:[(0,b.jsx)(s.SelectItem,{value:"all",children:"Semua BPJS"}),(0,b.jsx)(s.SelectItem,{value:"claimable",children:"Claimable"}),(0,b.jsx)(s.SelectItem,{value:"non-claimable",children:"Non-Claimable"})]})]}),(0,b.jsxs)(s.Select,{value:z.status,onValueChange:a=>Q("status",a),children:[(0,b.jsx)(s.SelectTrigger,{className:"w-[140px]",children:(0,b.jsx)(s.SelectValue,{placeholder:"Status"})}),(0,b.jsxs)(s.SelectContent,{children:[(0,b.jsx)(s.SelectItem,{value:"all",children:"Semua Status"}),(0,b.jsx)(s.SelectItem,{value:"active",children:"Aktif"}),(0,b.jsx)(s.SelectItem,{value:"inactive",children:"Nonaktif"})]})]})]})})})}),(0,b.jsx)(d.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},children:(0,b.jsx)(G,{icdCodes:a,isLoading:i,currentPage:v,totalPages:x,onPageChange:a=>{A(b=>({...b,page:a}))},onView:a=>{M(a),F(!0)},onEdit:a=>{M(a),C(!0)},onDelete:a=>{M(a),I(!0)},onToggleStatus:R})}),(0,b.jsx)(X,{open:B,onOpenChange:C,icdCode:L,onSuccess:S}),(0,b.jsx)(ac,{open:E,onOpenChange:F,icdCode:L,onEdit:()=>{F(!1),C(!0)},onToggleStatus:()=>{L&&R(L)}}),(0,b.jsx)(ae,{open:H,onOpenChange:I,icdCode:L,onConfirm:T}),(0,b.jsx)(ai,{open:J,onOpenChange:K,onSuccess:U})]})}a.s(["default",()=>ak],46081)}];

//# sourceMappingURL=src_app_%28dashboard%29_master_icd-codes_page_tsx_a7e33757._.js.map
{"version":3,"sources":["../../../../src/app/%28dashboard%29/pharmacy/medicines/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect, useCallback } from \"react\";\nimport { motion } from \"framer-motion\";\nimport {\n  Plus,\n  Search,\n  Pill,\n  MoreHorizontal,\n  Pencil,\n  Trash2,\n  Power,\n  Loader2,\n  Package,\n  AlertTriangle,\n  Calendar,\n  Eye,\n} from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Badge } from \"@/components/ui/badge\";\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardHeader,\n  CardTitle,\n} from \"@/components/ui/card\";\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow,\n} from \"@/components/ui/table\";\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuSeparator,\n  DropdownMenuTrigger,\n} from \"@/components/ui/dropdown-menu\";\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n} from \"@/components/ui/dialog\";\nimport { Label } from \"@/components/ui/label\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Switch } from \"@/components/ui/switch\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { toast } from \"sonner\";\nimport {\n  medicineService,\n  medicineCategoryService,\n} from \"@/services/pharmacy.service\";\nimport type {\n  Medicine,\n  MedicinePayload,\n  MedicineStats,\n  MedicineCategory,\n  MedicineBatch,\n} from \"@/types/pharmacy\";\n\nexport default function MedicinesPage() {\n  const [medicines, setMedicines] = useState<Medicine[]>([]);\n  const [categories, setCategories] = useState<MedicineCategory[]>([]);\n  const [stats, setStats] = useState<MedicineStats | null>(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const [search, setSearch] = useState(\"\");\n  const [statusFilter, setStatusFilter] = useState<\n    \"all\" | \"active\" | \"inactive\"\n  >(\"all\");\n  const [categoryFilter, setCategoryFilter] = useState<string>(\"all\");\n  const [stockFilter, setStockFilter] = useState<string>(\"all\");\n  const [currentPage, setCurrentPage] = useState(1);\n  const [totalPages, setTotalPages] = useState(1);\n  const [total, setTotal] = useState(0);\n\n  // Modal states\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [isDeleteModalOpen, setIsDeleteModalOpen] = useState(false);\n  const [isBatchModalOpen, setIsBatchModalOpen] = useState(false);\n  const [selectedMedicine, setSelectedMedicine] = useState<Medicine | null>(\n    null,\n  );\n  const [selectedBatches, setSelectedBatches] = useState<MedicineBatch[]>([]);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [units, setUnits] = useState<string[]>([]);\n\n  // Form state\n  const [formData, setFormData] = useState<MedicinePayload>({\n    name: \"\",\n    generic_name: \"\",\n    category_id: null,\n    unit: \"Tablet\",\n    purchase_price: 0,\n    margin_percentage: 0,\n    ppn_percentage: 11,\n    is_ppn_included: false,\n    selling_price: 0,\n    min_stock: 10,\n    max_stock: 100,\n    manufacturer: \"\",\n    description: \"\",\n    requires_prescription: false,\n    is_active: true,\n  });\n\n  // Calculated prices state\n  const [calculatedPrices, setCalculatedPrices] = useState({\n    price_before_ppn: 0,\n    selling_price: 0,\n    margin_amount: 0,\n    ppn_amount: 0,\n  });\n\n  const fetchMedicines = useCallback(async () => {\n    setIsLoading(true);\n    try {\n      const response = await medicineService.getMedicines({\n        search,\n        status: statusFilter,\n        category_id:\n          categoryFilter !== \"all\" ? parseInt(categoryFilter) : undefined,\n        stock_status:\n          stockFilter !== \"all\"\n            ? (stockFilter as \"low\" | \"out_of_stock\")\n            : undefined,\n        page: currentPage,\n        per_page: 10,\n      });\n      setMedicines(response.data);\n      setTotalPages(response.meta.last_page);\n      setTotal(response.meta.total);\n    } catch (error) {\n      console.error(\"Error fetching medicines:\", error);\n      toast.error(\"Gagal memuat data obat\");\n    } finally {\n      setIsLoading(false);\n    }\n  }, [search, statusFilter, categoryFilter, stockFilter, currentPage]);\n\n  const fetchCategories = async () => {\n    try {\n      const response = await medicineCategoryService.getCategories();\n      setCategories(response.data);\n    } catch (error) {\n      console.error(\"Error fetching categories:\", error);\n    }\n  };\n\n  const fetchStats = async () => {\n    try {\n      const response = await medicineService.getMedicineStats();\n      setStats(response.data);\n    } catch (error) {\n      console.error(\"Error fetching stats:\", error);\n    }\n  };\n\n  const fetchUnits = async () => {\n    try {\n      const response = await medicineService.getUnits();\n      setUnits(response.data);\n    } catch (error) {\n      console.error(\"Error fetching units:\", error);\n    }\n  };\n\n  useEffect(() => {\n    fetchMedicines();\n  }, [fetchMedicines]);\n\n  useEffect(() => {\n    fetchCategories();\n    fetchStats();\n    fetchUnits();\n  }, []);\n\n  const handleOpenModal = (medicine?: Medicine) => {\n    if (medicine) {\n      setSelectedMedicine(medicine);\n      setFormData({\n        name: medicine.name,\n        generic_name: medicine.generic_name || \"\",\n        category_id: medicine.category_id,\n        unit: medicine.unit,\n        purchase_price: medicine.purchase_price,\n        margin_percentage: medicine.margin_percentage || 0,\n        ppn_percentage: medicine.ppn_percentage || 11,\n        is_ppn_included: medicine.is_ppn_included || false,\n        selling_price: medicine.selling_price,\n        min_stock: medicine.min_stock,\n        max_stock: medicine.max_stock,\n        manufacturer: medicine.manufacturer || \"\",\n        description: medicine.description || \"\",\n        requires_prescription: medicine.requires_prescription,\n        is_active: medicine.is_active,\n      });\n      setCalculatedPrices({\n        price_before_ppn: medicine.price_before_ppn || 0,\n        selling_price: medicine.selling_price,\n        margin_amount:\n          (medicine.purchase_price * (medicine.margin_percentage || 0)) / 100,\n        ppn_amount:\n          ((medicine.price_before_ppn || 0) * (medicine.ppn_percentage || 11)) /\n          100,\n      });\n    } else {\n      setSelectedMedicine(null);\n      setFormData({\n        name: \"\",\n        generic_name: \"\",\n        category_id: null,\n        unit: \"Tablet\",\n        purchase_price: 0,\n        margin_percentage: 0,\n        ppn_percentage: 11,\n        is_ppn_included: false,\n        selling_price: 0,\n        min_stock: 10,\n        max_stock: 100,\n        manufacturer: \"\",\n        description: \"\",\n        requires_prescription: false,\n        is_active: true,\n      });\n      setCalculatedPrices({\n        price_before_ppn: 0,\n        selling_price: 0,\n        margin_amount: 0,\n        ppn_amount: 0,\n      });\n    }\n    setIsModalOpen(true);\n  };\n\n  // Calculate selling price when purchase price, margin, or PPN changes\n  const handleCalculatePrice = async (\n    purchasePrice: number,\n    marginPercentage: number,\n    ppnPercentage: number,\n  ) => {\n    if (purchasePrice > 0) {\n      try {\n        const response = await medicineService.calculatePrice({\n          purchase_price: purchasePrice,\n          margin_percentage: marginPercentage,\n          ppn_percentage: ppnPercentage,\n        });\n        setCalculatedPrices(response.data);\n        setFormData((prev) => ({\n          ...prev,\n          selling_price: response.data.selling_price,\n        }));\n      } catch (error) {\n        // Fallback calculation if API fails\n        const priceBeforePpn = purchasePrice * (1 + marginPercentage / 100);\n        const sellingPrice = priceBeforePpn * (1 + ppnPercentage / 100);\n        setCalculatedPrices({\n          price_before_ppn: priceBeforePpn,\n          selling_price: sellingPrice,\n          margin_amount: (purchasePrice * marginPercentage) / 100,\n          ppn_amount: (priceBeforePpn * ppnPercentage) / 100,\n        });\n        setFormData((prev) => ({\n          ...prev,\n          selling_price: sellingPrice,\n        }));\n      }\n    }\n  };\n\n  const handleViewBatches = async (medicine: Medicine) => {\n    setSelectedMedicine(medicine);\n    try {\n      const response = await medicineService.getMedicineBatches(medicine.id);\n      setSelectedBatches(response.data);\n      setIsBatchModalOpen(true);\n    } catch (error) {\n      toast.error(\"Gagal memuat data batch\");\n    }\n  };\n\n  const handleSubmit = async () => {\n    if (!formData.name.trim()) {\n      toast.error(\"Nama obat wajib diisi\");\n      return;\n    }\n    if (!formData.unit.trim()) {\n      toast.error(\"Satuan wajib diisi\");\n      return;\n    }\n    if ((formData.selling_price || 0) <= 0) {\n      toast.error(\"Harga jual harus lebih dari 0\");\n      return;\n    }\n\n    setIsSubmitting(true);\n    try {\n      if (selectedMedicine) {\n        await medicineService.updateMedicine(selectedMedicine.id, formData);\n        toast.success(\"Obat berhasil diperbarui\");\n      } else {\n        await medicineService.createMedicine(formData);\n        toast.success(\"Obat berhasil ditambahkan\");\n      }\n      setIsModalOpen(false);\n      fetchMedicines();\n      fetchStats();\n    } catch (error: any) {\n      toast.error(error.response?.data?.message || \"Gagal menyimpan obat\");\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const handleDelete = async () => {\n    if (!selectedMedicine) return;\n\n    setIsSubmitting(true);\n    try {\n      await medicineService.deleteMedicine(selectedMedicine.id);\n      toast.success(\"Obat berhasil dihapus\");\n      setIsDeleteModalOpen(false);\n      setSelectedMedicine(null);\n      fetchMedicines();\n      fetchStats();\n    } catch (error: any) {\n      toast.error(error.response?.data?.message || \"Gagal menghapus obat\");\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const handleToggleStatus = async (medicine: Medicine) => {\n    try {\n      await medicineService.toggleMedicineStatus(medicine.id);\n      toast.success(\n        medicine.is_active\n          ? \"Obat berhasil dinonaktifkan\"\n          : \"Obat berhasil diaktifkan\",\n      );\n      fetchMedicines();\n      fetchStats();\n    } catch (error) {\n      toast.error(\"Gagal mengubah status obat\");\n    }\n  };\n\n  const formatPrice = (price: number) => {\n    return new Intl.NumberFormat(\"id-ID\", {\n      style: \"currency\",\n      currency: \"IDR\",\n      minimumFractionDigits: 0,\n    }).format(price);\n  };\n\n  const getStockStatusBadge = (status: Medicine[\"stock_status\"]) => {\n    const variants: Record<\n      Medicine[\"stock_status\"],\n      \"destructive\" | \"warning\" | \"success\" | \"secondary\"\n    > = {\n      out_of_stock: \"destructive\",\n      low: \"warning\",\n      normal: \"success\",\n      overstock: \"secondary\",\n    };\n    const labels: Record<Medicine[\"stock_status\"], string> = {\n      out_of_stock: \"Habis\",\n      low: \"Menipis\",\n      normal: \"Normal\",\n      overstock: \"Berlebih\",\n    };\n    return <Badge variant={variants[status]}>{labels[status]}</Badge>;\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4\">\n        <div>\n          <h1 className=\"text-2xl font-bold tracking-tight\">Master Obat</h1>\n          <p className=\"text-muted-foreground\">Kelola data obat dan stok</p>\n        </div>\n        <Button onClick={() => handleOpenModal()} className=\"gap-2\">\n          <Plus className=\"h-4 w-4\" />\n          Tambah Obat\n        </Button>\n      </div>\n\n      {/* Stats Cards */}\n      {stats && (\n        <div className=\"grid gap-4 md:grid-cols-4\">\n          <motion.div\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n          >\n            <Card>\n              <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n                <CardTitle className=\"text-sm font-medium\">\n                  Total Obat\n                </CardTitle>\n                <Pill className=\"h-4 w-4 text-muted-foreground\" />\n              </CardHeader>\n              <CardContent>\n                <div className=\"text-2xl font-bold\">{stats.total}</div>\n                <p className=\"text-xs text-muted-foreground\">\n                  {stats.active} aktif\n                </p>\n              </CardContent>\n            </Card>\n          </motion.div>\n          <motion.div\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ delay: 0.1 }}\n          >\n            <Card>\n              <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n                <CardTitle className=\"text-sm font-medium\">\n                  Stok Menipis\n                </CardTitle>\n                <AlertTriangle className=\"h-4 w-4 text-yellow-500\" />\n              </CardHeader>\n              <CardContent>\n                <div className=\"text-2xl font-bold text-yellow-600\">\n                  {stats.low_stock}\n                </div>\n                <p className=\"text-xs text-muted-foreground\">Perlu restock</p>\n              </CardContent>\n            </Card>\n          </motion.div>\n          <motion.div\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ delay: 0.2 }}\n          >\n            <Card>\n              <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n                <CardTitle className=\"text-sm font-medium\">\n                  Stok Habis\n                </CardTitle>\n                <Package className=\"h-4 w-4 text-red-500\" />\n              </CardHeader>\n              <CardContent>\n                <div className=\"text-2xl font-bold text-red-600\">\n                  {stats.out_of_stock}\n                </div>\n                <p className=\"text-xs text-muted-foreground\">Segera order</p>\n              </CardContent>\n            </Card>\n          </motion.div>\n          <motion.div\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ delay: 0.3 }}\n          >\n            <Card>\n              <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n                <CardTitle className=\"text-sm font-medium\">\n                  Kadaluarsa\n                </CardTitle>\n                <Calendar className=\"h-4 w-4 text-orange-500\" />\n              </CardHeader>\n              <CardContent>\n                <div className=\"text-2xl font-bold text-orange-600\">\n                  {stats.expiring_soon}\n                </div>\n                <p className=\"text-xs text-muted-foreground\">Dalam 3 bulan</p>\n              </CardContent>\n            </Card>\n          </motion.div>\n        </div>\n      )}\n\n      {/* Filters & Table */}\n      <Card>\n        <CardHeader>\n          <CardTitle>Daftar Obat</CardTitle>\n          <CardDescription>Total {total} obat terdaftar</CardDescription>\n        </CardHeader>\n        <CardContent>\n          <div className=\"flex flex-col lg:flex-row gap-4 mb-6\">\n            <div className=\"relative flex-1\">\n              <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground\" />\n              <Input\n                placeholder=\"Cari nama obat atau kode...\"\n                value={search}\n                onChange={(e) => {\n                  setSearch(e.target.value);\n                  setCurrentPage(1);\n                }}\n                className=\"pl-10\"\n              />\n            </div>\n            <Select\n              value={categoryFilter}\n              onValueChange={(value) => {\n                setCategoryFilter(value);\n                setCurrentPage(1);\n              }}\n            >\n              <SelectTrigger className=\"w-full lg:w-[180px]\">\n                <SelectValue placeholder=\"Kategori\" />\n              </SelectTrigger>\n              <SelectContent>\n                <SelectItem value=\"all\">Semua Kategori</SelectItem>\n                {categories.map((cat) => (\n                  <SelectItem key={cat.id} value={cat.id.toString()}>\n                    {cat.name}\n                  </SelectItem>\n                ))}\n              </SelectContent>\n            </Select>\n            <Select\n              value={stockFilter}\n              onValueChange={(value) => {\n                setStockFilter(value);\n                setCurrentPage(1);\n              }}\n            >\n              <SelectTrigger className=\"w-full lg:w-[180px]\">\n                <SelectValue placeholder=\"Status Stok\" />\n              </SelectTrigger>\n              <SelectContent>\n                <SelectItem value=\"all\">Semua Stok</SelectItem>\n                <SelectItem value=\"low\">Stok Menipis</SelectItem>\n                <SelectItem value=\"out_of_stock\">Stok Habis</SelectItem>\n              </SelectContent>\n            </Select>\n            <Select\n              value={statusFilter}\n              onValueChange={(value: \"all\" | \"active\" | \"inactive\") => {\n                setStatusFilter(value);\n                setCurrentPage(1);\n              }}\n            >\n              <SelectTrigger className=\"w-full lg:w-[150px]\">\n                <SelectValue placeholder=\"Status\" />\n              </SelectTrigger>\n              <SelectContent>\n                <SelectItem value=\"all\">Semua</SelectItem>\n                <SelectItem value=\"active\">Aktif</SelectItem>\n                <SelectItem value=\"inactive\">Tidak Aktif</SelectItem>\n              </SelectContent>\n            </Select>\n          </div>\n\n          {/* Table */}\n          <div className=\"rounded-md border\">\n            <Table>\n              <TableHeader>\n                <TableRow>\n                  <TableHead>Kode</TableHead>\n                  <TableHead>Nama Obat</TableHead>\n                  <TableHead>Kategori</TableHead>\n                  <TableHead>Satuan</TableHead>\n                  <TableHead className=\"text-right\">Harga Beli</TableHead>\n                  <TableHead className=\"text-right\">Harga Jual</TableHead>\n                  <TableHead className=\"text-center\">Stok</TableHead>\n                  <TableHead>Status</TableHead>\n                  <TableHead className=\"w-[70px]\"></TableHead>\n                </TableRow>\n              </TableHeader>\n              <TableBody>\n                {isLoading ? (\n                  <TableRow>\n                    <TableCell colSpan={8} className=\"text-center py-10\">\n                      <Loader2 className=\"h-6 w-6 animate-spin mx-auto\" />\n                    </TableCell>\n                  </TableRow>\n                ) : medicines.length === 0 ? (\n                  <TableRow>\n                    <TableCell\n                      colSpan={8}\n                      className=\"text-center py-10 text-muted-foreground\"\n                    >\n                      Tidak ada data obat\n                    </TableCell>\n                  </TableRow>\n                ) : (\n                  medicines.map((medicine) => (\n                    <TableRow key={medicine.id}>\n                      <TableCell className=\"font-mono text-sm\">\n                        {medicine.code}\n                      </TableCell>\n                      <TableCell>\n                        <div>\n                          <div className=\"font-medium\">{medicine.name}</div>\n                          {medicine.generic_name && (\n                            <div className=\"text-sm text-muted-foreground\">\n                              {medicine.generic_name}\n                            </div>\n                          )}\n                        </div>\n                      </TableCell>\n                      <TableCell>{medicine.category?.name || \"-\"}</TableCell>\n                      <TableCell>{medicine.unit}</TableCell>\n                      <TableCell className=\"text-right\">\n                        {formatPrice(medicine.purchase_price)}\n                      </TableCell>\n                      <TableCell className=\"text-right\">\n                        {formatPrice(medicine.selling_price)}\n                      </TableCell>\n                      <TableCell className=\"text-center\">\n                        <div className=\"flex flex-col items-center gap-1\">\n                          <span className=\"font-medium\">\n                            {medicine.current_stock}\n                          </span>\n                          {getStockStatusBadge(medicine.stock_status)}\n                        </div>\n                      </TableCell>\n                      <TableCell>\n                        <Badge\n                          variant={medicine.is_active ? \"success\" : \"secondary\"}\n                        >\n                          {medicine.is_active ? \"Aktif\" : \"Tidak Aktif\"}\n                        </Badge>\n                      </TableCell>\n                      <TableCell>\n                        <DropdownMenu>\n                          <DropdownMenuTrigger asChild>\n                            <Button variant=\"ghost\" size=\"icon\">\n                              <MoreHorizontal className=\"h-4 w-4\" />\n                            </Button>\n                          </DropdownMenuTrigger>\n                          <DropdownMenuContent align=\"end\">\n                            <DropdownMenuItem\n                              onClick={() => handleViewBatches(medicine)}\n                            >\n                              <Eye className=\"h-4 w-4 mr-2\" />\n                              Lihat Batch\n                            </DropdownMenuItem>\n                            <DropdownMenuItem\n                              onClick={() => handleOpenModal(medicine)}\n                            >\n                              <Pencil className=\"h-4 w-4 mr-2\" />\n                              Edit\n                            </DropdownMenuItem>\n                            <DropdownMenuItem\n                              onClick={() => handleToggleStatus(medicine)}\n                            >\n                              <Power className=\"h-4 w-4 mr-2\" />\n                              {medicine.is_active ? \"Nonaktifkan\" : \"Aktifkan\"}\n                            </DropdownMenuItem>\n                            <DropdownMenuSeparator />\n                            <DropdownMenuItem\n                              className=\"text-destructive\"\n                              onClick={() => {\n                                setSelectedMedicine(medicine);\n                                setIsDeleteModalOpen(true);\n                              }}\n                            >\n                              <Trash2 className=\"h-4 w-4 mr-2\" />\n                              Hapus\n                            </DropdownMenuItem>\n                          </DropdownMenuContent>\n                        </DropdownMenu>\n                      </TableCell>\n                    </TableRow>\n                  ))\n                )}\n              </TableBody>\n            </Table>\n          </div>\n\n          {/* Pagination */}\n          {totalPages > 1 && (\n            <div className=\"flex items-center justify-between mt-4\">\n              <p className=\"text-sm text-muted-foreground\">\n                Halaman {currentPage} dari {totalPages}\n              </p>\n              <div className=\"flex gap-2\">\n                <Button\n                  variant=\"outline\"\n                  size=\"sm\"\n                  onClick={() => setCurrentPage((p) => Math.max(1, p - 1))}\n                  disabled={currentPage === 1}\n                >\n                  Sebelumnya\n                </Button>\n                <Button\n                  variant=\"outline\"\n                  size=\"sm\"\n                  onClick={() =>\n                    setCurrentPage((p) => Math.min(totalPages, p + 1))\n                  }\n                  disabled={currentPage === totalPages}\n                >\n                  Selanjutnya\n                </Button>\n              </div>\n            </div>\n          )}\n        </CardContent>\n      </Card>\n\n      {/* Add/Edit Modal */}\n      <Dialog open={isModalOpen} onOpenChange={setIsModalOpen}>\n        <DialogContent className=\"sm:max-w-[700px] max-h-[90vh] overflow-y-auto\">\n          <DialogHeader>\n            <DialogTitle>\n              {selectedMedicine ? \"Edit Obat\" : \"Tambah Obat\"}\n            </DialogTitle>\n            <DialogDescription>\n              {selectedMedicine\n                ? \"Perbarui informasi obat\"\n                : \"Tambahkan obat baru ke sistem\"}\n            </DialogDescription>\n          </DialogHeader>\n\n          <Tabs defaultValue=\"basic\" className=\"w-full\">\n            <TabsList className=\"grid w-full grid-cols-2\">\n              <TabsTrigger value=\"basic\">Informasi Dasar</TabsTrigger>\n              <TabsTrigger value=\"stock\">Harga & Stok</TabsTrigger>\n            </TabsList>\n\n            <TabsContent value=\"basic\" className=\"space-y-4 mt-4\">\n              <div className=\"grid gap-2\">\n                <Label htmlFor=\"name\">Nama Obat *</Label>\n                <Input\n                  id=\"name\"\n                  value={formData.name}\n                  onChange={(e) =>\n                    setFormData({ ...formData, name: e.target.value })\n                  }\n                  placeholder=\"Paracetamol 500mg\"\n                />\n              </div>\n\n              <div className=\"grid gap-2\">\n                <Label htmlFor=\"generic_name\">Nama Generik</Label>\n                <Input\n                  id=\"generic_name\"\n                  value={formData.generic_name}\n                  onChange={(e) =>\n                    setFormData({ ...formData, generic_name: e.target.value })\n                  }\n                  placeholder=\"Acetaminophen\"\n                />\n              </div>\n\n              <div className=\"grid grid-cols-2 gap-4\">\n                <div className=\"grid gap-2\">\n                  <Label htmlFor=\"category_id\">Kategori</Label>\n                  <Select\n                    value={formData.category_id?.toString() || \"\"}\n                    onValueChange={(value) =>\n                      setFormData({\n                        ...formData,\n                        category_id: value ? parseInt(value) : null,\n                      })\n                    }\n                  >\n                    <SelectTrigger>\n                      <SelectValue placeholder=\"Pilih kategori\" />\n                    </SelectTrigger>\n                    <SelectContent>\n                      {categories.map((cat) => (\n                        <SelectItem key={cat.id} value={cat.id.toString()}>\n                          {cat.name}\n                        </SelectItem>\n                      ))}\n                    </SelectContent>\n                  </Select>\n                </div>\n                <div className=\"grid gap-2\">\n                  <Label htmlFor=\"unit\">Satuan *</Label>\n                  <Select\n                    value={formData.unit}\n                    onValueChange={(value) =>\n                      setFormData({ ...formData, unit: value })\n                    }\n                  >\n                    <SelectTrigger>\n                      <SelectValue placeholder=\"Pilih satuan\" />\n                    </SelectTrigger>\n                    <SelectContent>\n                      {units.map((unit) => (\n                        <SelectItem key={unit} value={unit}>\n                          {unit}\n                        </SelectItem>\n                      ))}\n                    </SelectContent>\n                  </Select>\n                </div>\n              </div>\n\n              <div className=\"grid gap-2\">\n                <Label htmlFor=\"manufacturer\">Produsen/Pabrik</Label>\n                <Input\n                  id=\"manufacturer\"\n                  value={formData.manufacturer}\n                  onChange={(e) =>\n                    setFormData({ ...formData, manufacturer: e.target.value })\n                  }\n                  placeholder=\"PT. Farmasi Indonesia\"\n                />\n              </div>\n\n              <div className=\"grid gap-2\">\n                <Label htmlFor=\"description\">Deskripsi</Label>\n                <Textarea\n                  id=\"description\"\n                  value={formData.description}\n                  onChange={(e) =>\n                    setFormData({ ...formData, description: e.target.value })\n                  }\n                  placeholder=\"Deskripsi obat (opsional)\"\n                  rows={2}\n                />\n              </div>\n\n              <div className=\"flex items-center justify-between rounded-lg border p-4\">\n                <div className=\"space-y-0.5\">\n                  <Label>Memerlukan Resep</Label>\n                  <p className=\"text-sm text-muted-foreground\">\n                    Obat ini memerlukan resep dokter\n                  </p>\n                </div>\n                <Switch\n                  checked={formData.requires_prescription}\n                  onCheckedChange={(checked) =>\n                    setFormData({ ...formData, requires_prescription: checked })\n                  }\n                />\n              </div>\n            </TabsContent>\n\n            <TabsContent value=\"stock\" className=\"space-y-4 mt-4\">\n              {/* Harga Beli */}\n              <div className=\"grid gap-2\">\n                <Label htmlFor=\"purchase_price\">Harga Beli (HPP)</Label>\n                <Input\n                  id=\"purchase_price\"\n                  type=\"number\"\n                  value={formData.purchase_price}\n                  onChange={(e) => {\n                    const value = parseFloat(e.target.value) || 0;\n                    setFormData({ ...formData, purchase_price: value });\n                    handleCalculatePrice(\n                      value,\n                      formData.margin_percentage || 0,\n                      formData.ppn_percentage || 11,\n                    );\n                  }}\n                  placeholder=\"0\"\n                />\n              </div>\n\n              {/* Margin & PPN */}\n              <div className=\"grid grid-cols-2 gap-4\">\n                <div className=\"grid gap-2\">\n                  <Label htmlFor=\"margin_percentage\">Margin (%)</Label>\n                  <Input\n                    id=\"margin_percentage\"\n                    type=\"number\"\n                    step=\"0.1\"\n                    value={formData.margin_percentage}\n                    onChange={(e) => {\n                      const value = parseFloat(e.target.value) || 0;\n                      setFormData({ ...formData, margin_percentage: value });\n                      handleCalculatePrice(\n                        formData.purchase_price || 0,\n                        value,\n                        formData.ppn_percentage || 11,\n                      );\n                    }}\n                    placeholder=\"0\"\n                  />\n                  <p className=\"text-xs text-muted-foreground\">\n                    Margin: {formatPrice(calculatedPrices.margin_amount)}\n                  </p>\n                </div>\n                <div className=\"grid gap-2\">\n                  <Label htmlFor=\"ppn_percentage\">PPN (%)</Label>\n                  <Input\n                    id=\"ppn_percentage\"\n                    type=\"number\"\n                    step=\"0.1\"\n                    value={formData.ppn_percentage}\n                    onChange={(e) => {\n                      const value = parseFloat(e.target.value) || 0;\n                      setFormData({ ...formData, ppn_percentage: value });\n                      handleCalculatePrice(\n                        formData.purchase_price || 0,\n                        formData.margin_percentage || 0,\n                        value,\n                      );\n                    }}\n                    placeholder=\"11\"\n                  />\n                  <p className=\"text-xs text-muted-foreground\">\n                    PPN: {formatPrice(calculatedPrices.ppn_amount)}\n                  </p>\n                </div>\n              </div>\n\n              {/* Ringkasan Harga */}\n              {(formData.purchase_price || 0) > 0 && (\n                <div className=\"rounded-lg border bg-muted/50 p-4 space-y-2\">\n                  <h4 className=\"font-medium text-sm\">Ringkasan Harga</h4>\n                  <div className=\"grid grid-cols-2 gap-2 text-sm\">\n                    <span className=\"text-muted-foreground\">\n                      Harga Beli (HPP):\n                    </span>\n                    <span className=\"text-right\">\n                      {formatPrice(formData.purchase_price || 0)}\n                    </span>\n\n                    <span className=\"text-muted-foreground\">\n                      + Margin ({formData.margin_percentage}%):\n                    </span>\n                    <span className=\"text-right\">\n                      {formatPrice(calculatedPrices.margin_amount)}\n                    </span>\n\n                    <span className=\"text-muted-foreground\">\n                      = Harga Sebelum PPN:\n                    </span>\n                    <span className=\"text-right\">\n                      {formatPrice(calculatedPrices.price_before_ppn)}\n                    </span>\n\n                    <span className=\"text-muted-foreground\">\n                      + PPN ({formData.ppn_percentage}%):\n                    </span>\n                    <span className=\"text-right\">\n                      {formatPrice(calculatedPrices.ppn_amount)}\n                    </span>\n\n                    <span className=\"font-medium border-t pt-2\">\n                      Harga Jual:\n                    </span>\n                    <span className=\"text-right font-bold text-primary border-t pt-2\">\n                      {formatPrice(calculatedPrices.selling_price)}\n                    </span>\n                  </div>\n                </div>\n              )}\n\n              {/* Manual Override Harga Jual */}\n              <div className=\"grid gap-2\">\n                <Label htmlFor=\"selling_price\">\n                  Harga Jual (Manual Override)\n                </Label>\n                <Input\n                  id=\"selling_price\"\n                  type=\"number\"\n                  value={formData.selling_price}\n                  onChange={(e) =>\n                    setFormData({\n                      ...formData,\n                      selling_price: parseFloat(e.target.value) || 0,\n                    })\n                  }\n                  placeholder=\"0\"\n                />\n                <p className=\"text-xs text-muted-foreground\">\n                  Ubah untuk override harga kalkulasi otomatis\n                </p>\n              </div>\n\n              <div className=\"grid grid-cols-2 gap-4\">\n                <div className=\"grid gap-2\">\n                  <Label htmlFor=\"min_stock\">Stok Minimum</Label>\n                  <Input\n                    id=\"min_stock\"\n                    type=\"number\"\n                    value={formData.min_stock}\n                    onChange={(e) =>\n                      setFormData({\n                        ...formData,\n                        min_stock: parseInt(e.target.value) || 0,\n                      })\n                    }\n                    placeholder=\"10\"\n                  />\n                  <p className=\"text-xs text-muted-foreground\">\n                    Notifikasi saat stok di bawah nilai ini\n                  </p>\n                </div>\n                <div className=\"grid gap-2\">\n                  <Label htmlFor=\"max_stock\">Stok Maksimum</Label>\n                  <Input\n                    id=\"max_stock\"\n                    type=\"number\"\n                    value={formData.max_stock}\n                    onChange={(e) =>\n                      setFormData({\n                        ...formData,\n                        max_stock: parseInt(e.target.value) || 0,\n                      })\n                    }\n                    placeholder=\"100\"\n                  />\n                  <p className=\"text-xs text-muted-foreground\">\n                    Kapasitas penyimpanan maksimum\n                  </p>\n                </div>\n              </div>\n\n              <div className=\"flex items-center justify-between rounded-lg border p-4\">\n                <div className=\"space-y-0.5\">\n                  <Label>Status Aktif</Label>\n                  <p className=\"text-sm text-muted-foreground\">\n                    {formData.is_active\n                      ? \"Obat tersedia untuk transaksi\"\n                      : \"Obat tidak aktif\"}\n                  </p>\n                </div>\n                <Switch\n                  checked={formData.is_active}\n                  onCheckedChange={(checked) =>\n                    setFormData({ ...formData, is_active: checked })\n                  }\n                />\n              </div>\n            </TabsContent>\n          </Tabs>\n\n          <DialogFooter>\n            <Button variant=\"outline\" onClick={() => setIsModalOpen(false)}>\n              Batal\n            </Button>\n            <Button onClick={handleSubmit} disabled={isSubmitting}>\n              {isSubmitting && (\n                <Loader2 className=\"h-4 w-4 mr-2 animate-spin\" />\n              )}\n              {selectedMedicine ? \"Simpan Perubahan\" : \"Tambah Obat\"}\n            </Button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n\n      {/* Batch Modal */}\n      <Dialog open={isBatchModalOpen} onOpenChange={setIsBatchModalOpen}>\n        <DialogContent className=\"sm:max-w-[600px]\">\n          <DialogHeader>\n            <DialogTitle>Batch - {selectedMedicine?.name}</DialogTitle>\n            <DialogDescription>\n              Daftar batch obat yang tersedia\n            </DialogDescription>\n          </DialogHeader>\n\n          <div className=\"rounded-md border\">\n            <Table>\n              <TableHeader>\n                <TableRow>\n                  <TableHead>No. Batch</TableHead>\n                  <TableHead>Kadaluarsa</TableHead>\n                  <TableHead className=\"text-right\">Stok</TableHead>\n                  <TableHead>Status</TableHead>\n                </TableRow>\n              </TableHeader>\n              <TableBody>\n                {selectedBatches.length === 0 ? (\n                  <TableRow>\n                    <TableCell\n                      colSpan={4}\n                      className=\"text-center py-6 text-muted-foreground\"\n                    >\n                      Belum ada batch\n                    </TableCell>\n                  </TableRow>\n                ) : (\n                  selectedBatches.map((batch) => (\n                    <TableRow key={batch.id}>\n                      <TableCell className=\"font-mono\">\n                        {batch.batch_number}\n                      </TableCell>\n                      <TableCell>\n                        <div className=\"flex items-center gap-2\">\n                          {new Date(batch.expiry_date).toLocaleDateString(\n                            \"id-ID\",\n                          )}\n                          {batch.is_expiring_soon && !batch.is_expired && (\n                            <Badge variant=\"warning\">Segera Exp</Badge>\n                          )}\n                          {batch.is_expired && (\n                            <Badge variant=\"destructive\">Expired</Badge>\n                          )}\n                        </div>\n                      </TableCell>\n                      <TableCell className=\"text-right\">\n                        {batch.current_qty}\n                      </TableCell>\n                      <TableCell>\n                        <Badge\n                          variant={\n                            batch.status === \"available\"\n                              ? \"success\"\n                              : batch.status === \"low\"\n                                ? \"warning\"\n                                : batch.status === \"expired\"\n                                  ? \"destructive\"\n                                  : \"secondary\"\n                          }\n                        >\n                          {batch.status === \"available\"\n                            ? \"Tersedia\"\n                            : batch.status === \"low\"\n                              ? \"Menipis\"\n                              : batch.status === \"expired\"\n                                ? \"Kadaluarsa\"\n                                : \"Habis\"}\n                        </Badge>\n                      </TableCell>\n                    </TableRow>\n                  ))\n                )}\n              </TableBody>\n            </Table>\n          </div>\n\n          <DialogFooter>\n            <Button\n              variant=\"outline\"\n              onClick={() => setIsBatchModalOpen(false)}\n            >\n              Tutup\n            </Button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n\n      {/* Delete Confirmation Modal */}\n      <Dialog open={isDeleteModalOpen} onOpenChange={setIsDeleteModalOpen}>\n        <DialogContent>\n          <DialogHeader>\n            <DialogTitle>Hapus Obat</DialogTitle>\n            <DialogDescription>\n              Apakah Anda yakin ingin menghapus obat \"{selectedMedicine?.name}\"?\n              {(selectedMedicine?.current_stock || 0) > 0 && (\n                <span className=\"block mt-2 text-destructive\">\n                  Obat ini masih memiliki stok {selectedMedicine?.current_stock}\n                  !\n                </span>\n              )}\n            </DialogDescription>\n          </DialogHeader>\n          <DialogFooter>\n            <Button\n              variant=\"outline\"\n              onClick={() => setIsDeleteModalOpen(false)}\n            >\n              Batal\n            </Button>\n            <Button\n              variant=\"destructive\"\n              onClick={handleDelete}\n              disabled={isSubmitting}\n            >\n              {isSubmitting && (\n                <Loader2 className=\"h-4 w-4 mr-2 animate-spin\" />\n              )}\n              Hapus\n            </Button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}
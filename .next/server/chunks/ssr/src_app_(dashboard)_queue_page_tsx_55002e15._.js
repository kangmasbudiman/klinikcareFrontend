module.exports=[94637,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(46271),e=a.i(76971),f=a.i(69520),g=a.i(41710),h=a.i(16201),i=a.i(60246),j=a.i(14753),k=a.i(67900),l=a.i(63519),m=a.i(99570),n=a.i(91119),o=a.i(80701),p=a.i(86304),q=a.i(75083),r=a.i(96221),s=a.i(14574),t=a.i(70430),u=a.i(76819),v=a.i(71565),w=a.i(23292);function x({open:a,onOpenChange:f,onSuccess:g}){let[i,j]=(0,c.useState)([]),[l,n]=(0,c.useState)(""),[p,q]=(0,c.useState)(!1),[x,y]=(0,c.useState)(!1),[z,A]=(0,c.useState)(null);(0,c.useEffect)(()=>{(async()=>{if(a){y(!0);try{let a=await v.default.getActiveDepartments();j(a.data)}catch(a){console.error("Error fetching departments:",a)}finally{y(!1)}}})()},[a]),(0,c.useEffect)(()=>{a||(n(""),A(null))},[a]);let B=async()=>{if(l){q(!0);try{let a=await u.default.takeQueue({department_id:parseInt(l)});A(a.data)}catch(a){console.error("Error taking queue:",a),w.toast.error("Gagal mengambil nomor antrian",{description:a.response?.data?.message||"Terjadi kesalahan"})}finally{q(!1)}}},C=()=>{z&&g(z),f(!1)};return(0,b.jsx)(s.Dialog,{open:a,onOpenChange:C,children:(0,b.jsxs)(s.DialogContent,{className:"sm:max-w-[450px]",children:[(0,b.jsxs)(s.DialogHeader,{children:[(0,b.jsxs)(s.DialogTitle,{className:"text-xl flex items-center gap-2",children:[(0,b.jsx)(e.Ticket,{className:"h-5 w-5"}),z?"Nomor Antrian":"Ambil Antrian"]}),(0,b.jsx)(s.DialogDescription,{children:z?"Nomor antrian berhasil diambil":"Pilih poli/departemen tujuan untuk mengambil nomor antrian"})]}),z?(0,b.jsxs)(d.motion.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"py-8 text-center",children:[(0,b.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-green-100 dark:bg-green-950 mb-4",children:(0,b.jsx)(h.CheckCircle,{className:"h-8 w-8 text-green-600 dark:text-green-400"})}),(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground mb-2",children:"Nomor Antrian Anda"}),(0,b.jsx)("div",{className:"text-6xl font-bold text-primary",children:z.queue_code})]}),(0,b.jsxs)("div",{className:"p-4 rounded-lg bg-muted/50",children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Poli Tujuan"}),(0,b.jsx)("p",{className:"font-medium",children:z.department?.name})]}),(0,b.jsx)("p",{className:"mt-4 text-sm text-muted-foreground",children:"Silakan tunggu sampai nomor antrian Anda dipanggil"})]}):(0,b.jsxs)("div",{className:"py-4 space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(t.Label,{children:["Pilih Poli/Departemen"," ",(0,b.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(k.Building2,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground z-10"}),(0,b.jsxs)(o.Select,{value:l,onValueChange:n,disabled:x,children:[(0,b.jsx)(o.SelectTrigger,{className:"pl-10",children:(0,b.jsx)(o.SelectValue,{placeholder:x?"Memuat...":"Pilih poli tujuan"})}),(0,b.jsx)(o.SelectContent,{children:i.map(a=>(0,b.jsx)(o.SelectItem,{value:a.id.toString(),children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:`w-3 h-3 rounded-full ${v.default.getColorClass(a.color)}`}),(0,b.jsx)("span",{children:a.name}),(0,b.jsxs)("span",{className:"text-muted-foreground text-xs",children:["(",a.code,")"]})]})},a.id))})]})]})]}),(0,b.jsx)(d.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex items-center justify-center py-6",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"w-20 h-20 rounded-2xl bg-primary/10 flex items-center justify-center mx-auto mb-3",children:(0,b.jsx)(e.Ticket,{className:"h-10 w-10 text-primary"})}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Klik tombol di bawah untuk mengambil nomor antrian"})]})})]}),(0,b.jsx)(s.DialogFooter,{children:z?(0,b.jsx)(m.Button,{onClick:C,className:"w-full",children:"Selesai"}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(m.Button,{type:"button",variant:"outline",onClick:()=>f(!1),disabled:p,children:"Batal"}),(0,b.jsx)(m.Button,{onClick:B,disabled:!l||p,className:"min-w-[150px]",children:p?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(r.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Mengambil..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(e.Ticket,{className:"mr-2 h-4 w-4"}),"Ambil Antrian"]})})]})})]})})}var y=a.i(62036),z=a.i(87532),A=a.i(17371),B=a.i(33441),C=a.i(12439),D=a.i(66718),E=a.i(15055),F=a.i(84771),G=a.i(31663);function H({open:a,onOpenChange:e,queue:f,onSuccess:g,onRegisterPatient:h}){let[i,j]=(0,c.useState)(!1),[k,n]=(0,c.useState)("search"),[o,v]=(0,c.useState)("1"),[x,H]=(0,c.useState)(!0),[I,J]=(0,c.useState)(""),[K,L]=(0,c.useState)([]),[M,N]=(0,c.useState)(!1),[O,P]=(0,c.useState)(null);(0,c.useEffect)(()=>{a&&(n("search"),J(""),L([]),P(f?.patient||null),v("1"),H(!0))},[a,f]),(0,c.useEffect)(()=>{let a=setTimeout(async()=>{if(I.length<2)return void L([]);N(!0);try{let a=await F.default.searchPatients(I);L(a.data)}catch(a){console.error("Error searching patients:",a)}finally{N(!1)}},300);return()=>clearTimeout(a)},[I]);let Q=async()=>{if(f){j(!0);try{await u.default.callQueue(f.id,{counter_number:parseInt(o)}),O&&O.id!==f.patient_id&&await u.default.assignPatient(f.id,O.id),x&&G.default.isSupported()&&G.default.announce({queueCode:f.queue_code,counterNumber:parseInt(o),departmentName:f.department?.name},2),w.toast.success("Antrian berhasil dipanggil",{description:`${f.queue_code} ke loket ${o}`}),g(),e(!1)}catch(a){console.error("Error calling queue:",a),w.toast.error("Gagal memanggil antrian",{description:a.response?.data?.message||"Terjadi kesalahan"})}finally{j(!1)}}};return f?(0,b.jsx)(s.Dialog,{open:a,onOpenChange:e,children:(0,b.jsxs)(s.DialogContent,{className:"sm:max-w-[550px] max-h-[90vh] overflow-y-auto",children:[(0,b.jsxs)(s.DialogHeader,{children:[(0,b.jsxs)(s.DialogTitle,{className:"text-xl flex items-center gap-2",children:[(0,b.jsx)(l.Phone,{className:"h-5 w-5"}),"Panggil Antrian"]}),(0,b.jsx)(s.DialogDescription,{children:"Panggil antrian dan assign data pasien"})]}),(0,b.jsxs)("div",{className:"py-4 space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 rounded-lg bg-primary/10",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Nomor Antrian"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-primary",children:f.queue_code})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Poli Tujuan"}),(0,b.jsx)("p",{className:"font-medium",children:f.department?.name})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(t.Label,{htmlFor:"counter",children:"Nomor Loket/Ruangan"}),(0,b.jsx)(D.Input,{id:"counter",type:"number",min:"1",value:o,onChange:a=>v(a.target.value),placeholder:"1"})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(E.Checkbox,{id:"enableAudio",checked:x,onCheckedChange:a=>H(!0===a)}),(0,b.jsxs)("label",{htmlFor:"enableAudio",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 flex items-center gap-2",children:[(0,b.jsx)(C.Volume2,{className:"h-4 w-4"}),"Panggil dengan suara"]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(t.Label,{children:"Data Pasien"}),(0,b.jsx)(y.AnimatePresence,{mode:"wait",children:O?(0,b.jsx)(d.motion.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"p-4 rounded-lg border bg-green-50 dark:bg-green-950 border-green-200 dark:border-green-800",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-10 h-10 rounded-full bg-green-500 flex items-center justify-center text-white font-bold",children:(0,b.jsx)(B.Check,{className:"h-5 w-5"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium",children:O.name}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,b.jsx)("span",{children:O.medical_record_number}),(0,b.jsx)(p.Badge,{className:F.default.getPatientTypeColorClass(O.patient_type),children:O.patient_type_label})]})]})]}),(0,b.jsx)(m.Button,{variant:"ghost",size:"sm",onClick:()=>P(null),children:"Ganti"})]})},"selected"):(0,b.jsx)(d.motion.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},children:(0,b.jsxs)(q.Tabs,{value:k,onValueChange:n,children:[(0,b.jsxs)(q.TabsList,{className:"grid w-full grid-cols-2",children:[(0,b.jsx)(q.TabsTrigger,{value:"search",children:"Cari Pasien"}),(0,b.jsx)(q.TabsTrigger,{value:"new",children:"Pasien Baru"})]}),(0,b.jsxs)(q.TabsContent,{value:"search",className:"mt-4 space-y-3",children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(z.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,b.jsx)(D.Input,{placeholder:"Cari nama, NIK, No. RM, atau No. BPJS...",className:"pl-10",value:I,onChange:a=>J(a.target.value)})]}),(0,b.jsxs)("div",{className:"max-h-[200px] overflow-y-auto space-y-2",children:[M&&(0,b.jsx)("div",{className:"flex items-center justify-center py-4",children:(0,b.jsx)(r.Loader2,{className:"h-5 w-5 animate-spin text-muted-foreground"})}),!M&&0===K.length&&I.length>=2&&(0,b.jsx)("p",{className:"text-center py-4 text-sm text-muted-foreground",children:"Tidak ditemukan pasien dengan kata kunci tersebut"}),K.map(a=>(0,b.jsx)(d.motion.div,{initial:{opacity:0},animate:{opacity:1},className:"p-3 rounded-lg border hover:bg-muted/50 cursor-pointer transition-colors",onClick:()=>{P(a),J(""),L([])},children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-white font-bold ${"male"===a.gender?"bg-blue-500":"bg-pink-500"}`,children:a.name.charAt(0)}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"font-medium truncate",children:a.name}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[(0,b.jsx)("span",{children:a.medical_record_number}),a.nik&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("span",{children:"|"}),(0,b.jsxs)("span",{children:["NIK: ",a.nik]})]})]})]}),(0,b.jsx)(p.Badge,{className:F.default.getPatientTypeColorClass(a.patient_type),children:a.patient_type_label})]})},a.id))]})]}),(0,b.jsx)(q.TabsContent,{value:"new",className:"mt-4",children:(0,b.jsxs)("div",{className:"text-center py-6",children:[(0,b.jsx)(A.UserPlus,{className:"h-12 w-12 mx-auto text-muted-foreground/50 mb-3"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"Pasien belum terdaftar? Daftarkan pasien baru terlebih dahulu."}),(0,b.jsxs)(m.Button,{variant:"outline",onClick:()=>{e(!1),h()},children:[(0,b.jsx)(A.UserPlus,{className:"mr-2 h-4 w-4"}),"Daftarkan Pasien Baru"]})]})})]})},"search")})]}),(0,b.jsx)("div",{className:"p-3 rounded-lg bg-blue-50 dark:bg-blue-950 text-sm text-blue-700 dark:text-blue-300",children:(0,b.jsx)("p",{children:"Anda dapat memanggil antrian tanpa data pasien. Data pasien dapat ditambahkan saat pasien datang ke loket."})})]}),(0,b.jsxs)(s.DialogFooter,{className:"gap-2 sm:gap-0",children:[(0,b.jsx)(m.Button,{type:"button",variant:"outline",onClick:()=>e(!1),disabled:i,children:"Batal"}),(0,b.jsx)(m.Button,{onClick:Q,disabled:i,className:"min-w-[150px]",children:i?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(r.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Memanggil..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(l.Phone,{className:"mr-2 h-4 w-4"}),"Panggil Antrian"]})})]})]})}):null}var I=a.i(50944),J=a.i(70106);let K=(0,J.default)("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);function L({open:a,onOpenChange:e,queue:f,onSuccess:g,onRegisterPatient:h}){let i=(0,I.useRouter)(),[j,k]=(0,c.useState)(!1),[l,n]=(0,c.useState)("search"),[o,v]=(0,c.useState)(""),[x,C]=(0,c.useState)([]),[E,G]=(0,c.useState)(!1),[H,J]=(0,c.useState)(null);(0,c.useEffect)(()=>{a&&(n("search"),v(""),C([]),J(f?.patient||null))},[a,f]),(0,c.useEffect)(()=>{let a=setTimeout(async()=>{if(o.length<2)return void C([]);G(!0);try{let a=await F.default.searchPatients(o);C(a.data)}catch(a){console.error("Error searching patients:",a)}finally{G(!1)}},300);return()=>clearTimeout(a)},[o]);let L=async()=>{if(f){k(!0);try{H&&H.id!==f.patient_id&&await u.default.assignPatient(f.id,H.id),await u.default.startQueue(f.id),w.toast.success("Layanan dimulai",{description:`Antrian ${f.queue_code} sedang dilayani. Mengarahkan ke halaman pemeriksaan...`}),g(),e(!1),i.push("/examination")}catch(a){console.error("Error starting service:",a),w.toast.error("Gagal memulai layanan",{description:a.response?.data?.message||"Terjadi kesalahan"})}finally{k(!1)}}};return f?(0,b.jsx)(s.Dialog,{open:a,onOpenChange:e,children:(0,b.jsxs)(s.DialogContent,{className:"sm:max-w-[550px] max-h-[90vh] overflow-y-auto",children:[(0,b.jsxs)(s.DialogHeader,{children:[(0,b.jsxs)(s.DialogTitle,{className:"text-xl flex items-center gap-2",children:[(0,b.jsx)(K,{className:"h-5 w-5"}),"Mulai Melayani"]}),(0,b.jsx)(s.DialogDescription,{children:"Mulai melayani antrian dan assign data pasien"})]}),(0,b.jsxs)("div",{className:"py-4 space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 rounded-lg bg-purple-500/10",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Nomor Antrian"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-purple-600 dark:text-purple-400",children:f.queue_code})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Poli Tujuan"}),(0,b.jsx)("p",{className:"font-medium",children:f.department?.name}),f.counter_number&&(0,b.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Loket ",f.counter_number]})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(t.Label,{children:"Data Pasien"}),(0,b.jsx)(y.AnimatePresence,{mode:"wait",children:H?(0,b.jsx)(d.motion.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"p-4 rounded-lg border bg-green-50 dark:bg-green-950 border-green-200 dark:border-green-800",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-10 h-10 rounded-full bg-green-500 flex items-center justify-center text-white font-bold",children:(0,b.jsx)(B.Check,{className:"h-5 w-5"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium",children:H.name}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,b.jsx)("span",{children:H.medical_record_number}),(0,b.jsx)(p.Badge,{className:F.default.getPatientTypeColorClass(H.patient_type),children:H.patient_type_label})]})]})]}),(0,b.jsx)(m.Button,{variant:"ghost",size:"sm",onClick:()=>J(null),children:"Ganti"})]})},"selected"):(0,b.jsx)(d.motion.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},children:(0,b.jsxs)(q.Tabs,{value:l,onValueChange:n,children:[(0,b.jsxs)(q.TabsList,{className:"grid w-full grid-cols-2",children:[(0,b.jsx)(q.TabsTrigger,{value:"search",children:"Cari Pasien"}),(0,b.jsx)(q.TabsTrigger,{value:"new",children:"Pasien Baru"})]}),(0,b.jsxs)(q.TabsContent,{value:"search",className:"mt-4 space-y-3",children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(z.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,b.jsx)(D.Input,{placeholder:"Cari nama, NIK, No. RM, atau No. BPJS...",className:"pl-10",value:o,onChange:a=>v(a.target.value)})]}),(0,b.jsxs)("div",{className:"max-h-[200px] overflow-y-auto space-y-2",children:[E&&(0,b.jsx)("div",{className:"flex items-center justify-center py-4",children:(0,b.jsx)(r.Loader2,{className:"h-5 w-5 animate-spin text-muted-foreground"})}),!E&&0===x.length&&o.length>=2&&(0,b.jsx)("p",{className:"text-center py-4 text-sm text-muted-foreground",children:"Tidak ditemukan pasien dengan kata kunci tersebut"}),x.map(a=>(0,b.jsx)(d.motion.div,{initial:{opacity:0},animate:{opacity:1},className:"p-3 rounded-lg border hover:bg-muted/50 cursor-pointer transition-colors",onClick:()=>{J(a),v(""),C([])},children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-white font-bold ${"male"===a.gender?"bg-blue-500":"bg-pink-500"}`,children:a.name.charAt(0)}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"font-medium truncate",children:a.name}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[(0,b.jsx)("span",{children:a.medical_record_number}),a.nik&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("span",{children:"|"}),(0,b.jsxs)("span",{children:["NIK: ",a.nik]})]})]})]}),(0,b.jsx)(p.Badge,{className:F.default.getPatientTypeColorClass(a.patient_type),children:a.patient_type_label})]})},a.id))]})]}),(0,b.jsx)(q.TabsContent,{value:"new",className:"mt-4",children:(0,b.jsxs)("div",{className:"text-center py-6",children:[(0,b.jsx)(A.UserPlus,{className:"h-12 w-12 mx-auto text-muted-foreground/50 mb-3"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"Pasien belum terdaftar? Daftarkan pasien baru terlebih dahulu."}),(0,b.jsxs)(m.Button,{variant:"outline",onClick:()=>{e(!1),h()},children:[(0,b.jsx)(A.UserPlus,{className:"mr-2 h-4 w-4"}),"Daftarkan Pasien Baru"]})]})})]})},"search")})]}),(0,b.jsx)("div",{className:"p-3 rounded-lg bg-purple-50 dark:bg-purple-950 text-sm text-purple-700 dark:text-purple-300",children:(0,b.jsx)("p",{children:"Anda dapat memulai layanan tanpa data pasien. Data pasien dapat ditambahkan kemudian jika diperlukan."})})]}),(0,b.jsxs)(s.DialogFooter,{className:"gap-2 sm:gap-0",children:[(0,b.jsx)(m.Button,{type:"button",variant:"outline",onClick:()=>e(!1),disabled:j,children:"Batal"}),(0,b.jsx)(m.Button,{onClick:L,disabled:j,className:"min-w-[150px]",children:j?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(r.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Memproses..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(K,{className:"mr-2 h-4 w-4"}),"Mulai Melayani"]})})]})]})}):null}function M({open:a,onOpenChange:e,queue:f,onSuccess:g,onRegisterPatient:h}){let[i,j]=(0,c.useState)(!1),[k,l]=(0,c.useState)("search"),[n,o]=(0,c.useState)(""),[v,x]=(0,c.useState)([]),[C,E]=(0,c.useState)(!1),[G,H]=(0,c.useState)(null);(0,c.useEffect)(()=>{a&&(l("search"),o(""),x([]),H(f?.patient||null))},[a,f]),(0,c.useEffect)(()=>{let a=setTimeout(async()=>{if(n.length<2)return void x([]);E(!0);try{let a=await F.default.searchPatients(n);x(a.data)}catch(a){console.error("Error searching patients:",a)}finally{E(!1)}},300);return()=>clearTimeout(a)},[n]);let I=async()=>{if(!f||!G)return void w.toast.error("Pilih pasien terlebih dahulu");if(G.id===f.patient_id){w.toast.info("Pasien sudah terdaftar pada antrian ini"),e(!1);return}j(!0);try{await u.default.assignPatient(f.id,G.id),w.toast.success("Pasien berhasil di-assign",{description:`${G.name} ditambahkan ke antrian ${f.queue_code}`}),g(),e(!1)}catch(a){console.error("Error assigning patient:",a),w.toast.error("Gagal assign pasien",{description:a.response?.data?.message||"Terjadi kesalahan"})}finally{j(!1)}};return f?(0,b.jsx)(s.Dialog,{open:a,onOpenChange:e,children:(0,b.jsxs)(s.DialogContent,{className:"sm:max-w-[550px] max-h-[90vh] overflow-y-auto",children:[(0,b.jsxs)(s.DialogHeader,{children:[(0,b.jsxs)(s.DialogTitle,{className:"text-xl flex items-center gap-2",children:[(0,b.jsx)(A.UserPlus,{className:"h-5 w-5"}),"Assign Pasien"]}),(0,b.jsx)(s.DialogDescription,{children:"Cari dan assign data pasien ke antrian"})]}),(0,b.jsxs)("div",{className:"py-4 space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 rounded-lg bg-blue-500/10",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Nomor Antrian"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:f.queue_code})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Poli Tujuan"}),(0,b.jsx)("p",{className:"font-medium",children:f.department?.name}),(0,b.jsx)(p.Badge,{className:u.default.getStatusColorClass(f.status),children:f.status_label})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(t.Label,{children:"Data Pasien"}),(0,b.jsx)(y.AnimatePresence,{mode:"wait",children:G?(0,b.jsx)(d.motion.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"p-4 rounded-lg border bg-green-50 dark:bg-green-950 border-green-200 dark:border-green-800",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-10 h-10 rounded-full bg-green-500 flex items-center justify-center text-white font-bold",children:(0,b.jsx)(B.Check,{className:"h-5 w-5"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium",children:G.name}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,b.jsx)("span",{children:G.medical_record_number}),(0,b.jsx)(p.Badge,{className:F.default.getPatientTypeColorClass(G.patient_type),children:G.patient_type_label})]})]})]}),(0,b.jsx)(m.Button,{variant:"ghost",size:"sm",onClick:()=>H(null),children:"Ganti"})]})},"selected"):(0,b.jsx)(d.motion.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},children:(0,b.jsxs)(q.Tabs,{value:k,onValueChange:l,children:[(0,b.jsxs)(q.TabsList,{className:"grid w-full grid-cols-2",children:[(0,b.jsx)(q.TabsTrigger,{value:"search",children:"Cari Pasien"}),(0,b.jsx)(q.TabsTrigger,{value:"new",children:"Pasien Baru"})]}),(0,b.jsxs)(q.TabsContent,{value:"search",className:"mt-4 space-y-3",children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(z.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,b.jsx)(D.Input,{placeholder:"Cari nama, NIK, No. RM, atau No. BPJS...",className:"pl-10",value:n,onChange:a=>o(a.target.value)})]}),(0,b.jsxs)("div",{className:"max-h-[250px] overflow-y-auto space-y-2",children:[C&&(0,b.jsx)("div",{className:"flex items-center justify-center py-4",children:(0,b.jsx)(r.Loader2,{className:"h-5 w-5 animate-spin text-muted-foreground"})}),!C&&0===v.length&&n.length>=2&&(0,b.jsx)("p",{className:"text-center py-4 text-sm text-muted-foreground",children:"Tidak ditemukan pasien dengan kata kunci tersebut"}),v.map(a=>(0,b.jsx)(d.motion.div,{initial:{opacity:0},animate:{opacity:1},className:"p-3 rounded-lg border hover:bg-muted/50 cursor-pointer transition-colors",onClick:()=>{H(a),o(""),x([])},children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-white font-bold ${"male"===a.gender?"bg-blue-500":"bg-pink-500"}`,children:a.name.charAt(0)}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"font-medium truncate",children:a.name}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[(0,b.jsx)("span",{children:a.medical_record_number}),a.nik&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("span",{children:"|"}),(0,b.jsxs)("span",{children:["NIK: ",a.nik]})]})]})]}),(0,b.jsx)(p.Badge,{className:F.default.getPatientTypeColorClass(a.patient_type),children:a.patient_type_label})]})},a.id))]})]}),(0,b.jsx)(q.TabsContent,{value:"new",className:"mt-4",children:(0,b.jsxs)("div",{className:"text-center py-6",children:[(0,b.jsx)(A.UserPlus,{className:"h-12 w-12 mx-auto text-muted-foreground/50 mb-3"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"Pasien belum terdaftar? Daftarkan pasien baru terlebih dahulu."}),(0,b.jsxs)(m.Button,{variant:"outline",onClick:()=>{e(!1),h()},children:[(0,b.jsx)(A.UserPlus,{className:"mr-2 h-4 w-4"}),"Daftarkan Pasien Baru"]})]})})]})},"search")})]})]}),(0,b.jsxs)(s.DialogFooter,{className:"gap-2 sm:gap-0",children:[(0,b.jsx)(m.Button,{type:"button",variant:"outline",onClick:()=>e(!1),disabled:i,children:"Batal"}),(0,b.jsx)(m.Button,{onClick:I,disabled:i||!G,className:"min-w-[150px]",children:i?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(r.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Menyimpan..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(A.UserPlus,{className:"mr-2 h-4 w-4"}),"Assign Pasien"]})})]})]})}):null}let N=(0,J.default)("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]);var O=a.i(62722),P=a.i(46842),Q=a.i(35732);function R({queue:a,onCall:c,onRecall:e,onStart:f,onComplete:i,onSkip:j,onCancel:k,onAssignPatient:n,showActions:o=!0}){return(0,b.jsxs)(d.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`p-4 rounded-lg border ${"called"===a.status||"in_service"===a.status?"border-primary bg-primary/5":"bg-card"}`,children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:`w-14 h-14 rounded-xl flex items-center justify-center text-white font-bold text-lg ${u.default.getStatusSolidColorClass(a.status)}`,children:a.queue_code.split("-")[1]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"font-semibold text-lg",children:a.queue_code}),(0,b.jsx)(p.Badge,{className:u.default.getStatusColorClass(a.status),children:a.status_label})]}),a.patient?(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mt-1",children:[(0,b.jsx)(P.User,{className:"h-3 w-3"}),(0,b.jsx)("span",{children:a.patient.name}),(0,b.jsx)(p.Badge,{variant:"outline",className:F.default.getPatientTypeColorClass(a.patient.patient_type),children:a.patient.patient_type_label})]}):(0,b.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"Pasien belum terdaftar"}),null!==a.wait_time&&"waiting"===a.status&&(0,b.jsxs)("div",{className:"flex items-center gap-1 text-xs text-muted-foreground mt-1",children:[(0,b.jsx)(g.Clock,{className:"h-3 w-3"}),(0,b.jsxs)("span",{children:["Menunggu ",u.default.formatWaitTime(a.wait_time)]})]})]})]}),o&&(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(()=>{switch(a.status){case"waiting":return(0,b.jsxs)(m.Button,{size:"sm",onClick:c,children:[(0,b.jsx)(l.Phone,{className:"mr-1 h-3 w-3"}),"Panggil"]});case"called":return(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsxs)(m.Button,{size:"sm",onClick:f,children:[(0,b.jsx)(K,{className:"mr-1 h-3 w-3"}),"Mulai Layani"]}),e&&(0,b.jsx)(m.Button,{size:"sm",variant:"outline",onClick:e,title:"Panggil Ulang",children:(0,b.jsx)(C.Volume2,{className:"h-3 w-3"})})]});case"in_service":return(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsxs)(m.Button,{size:"sm",onClick:i,className:"bg-green-600 hover:bg-green-700 text-white",children:[(0,b.jsx)(h.CheckCircle,{className:"mr-1 h-3 w-3"}),"Selesai"]}),e&&(0,b.jsx)(m.Button,{size:"sm",variant:"outline",onClick:e,title:"Panggil Ulang",children:(0,b.jsx)(C.Volume2,{className:"h-3 w-3"})})]});default:return null}})(),("waiting"===a.status||"called"===a.status||"in_service"===a.status)&&(0,b.jsxs)(Q.DropdownMenu,{children:[(0,b.jsx)(Q.DropdownMenuTrigger,{asChild:!0,children:(0,b.jsx)(m.Button,{variant:"ghost",size:"icon",className:"h-8 w-8",children:(0,b.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,b.jsx)("circle",{cx:"12",cy:"12",r:"1"}),(0,b.jsx)("circle",{cx:"12",cy:"5",r:"1"}),(0,b.jsx)("circle",{cx:"12",cy:"19",r:"1"})]})})}),(0,b.jsxs)(Q.DropdownMenuContent,{align:"end",children:[n&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(Q.DropdownMenuItem,{onClick:n,children:[(0,b.jsx)(A.UserPlus,{className:"mr-2 h-4 w-4"}),a.patient?"Ganti Pasien":"Assign Pasien"]}),(0,b.jsx)(Q.DropdownMenuSeparator,{})]}),("waiting"===a.status||"called"===a.status)&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(Q.DropdownMenuItem,{onClick:j,children:[(0,b.jsx)(N,{className:"mr-2 h-4 w-4"}),"Lewati"]}),(0,b.jsx)(Q.DropdownMenuSeparator,{}),(0,b.jsxs)(Q.DropdownMenuItem,{onClick:k,className:"text-destructive focus:text-destructive",children:[(0,b.jsx)(O.XCircle,{className:"mr-2 h-4 w-4"}),"Batalkan"]})]})]})]})]})]}),a.counter_number&&("called"===a.status||"in_service"===a.status)&&(0,b.jsxs)("div",{className:"mt-3 pt-3 border-t text-sm text-muted-foreground",children:["Loket/Ruangan:"," ",(0,b.jsx)("span",{className:"font-medium",children:a.counter_number})]})]})}a.i(7814);var S=a.i(12612);function T(){let[a,r]=(0,c.useState)({waiting:[],called:[],in_service:[],completed:[],skipped:[],cancelled:[]}),[s,t]=(0,c.useState)(null),[y,z]=(0,c.useState)([]),[A,B]=(0,c.useState)("all"),[C,D]=(0,c.useState)(!0),[E,F]=(0,c.useState)(!1),[I,J]=(0,c.useState)(!1),[K,N]=(0,c.useState)(!1),[O,P]=(0,c.useState)(!1),[Q,T]=(0,c.useState)(!1),[U,V]=(0,c.useState)(!1),[W,X]=(0,c.useState)(null),Y=(0,c.useCallback)(async()=>{try{let a="all"!==A?parseInt(A):void 0,b=await u.default.getTodayQueues(a);r(b.data)}catch(a){console.error("Error fetching queues:",a)}},[A]),Z=(0,c.useCallback)(async()=>{try{let a="all"!==A?parseInt(A):void 0,b=await u.default.getQueueStats(void 0,a);t(b.data)}catch(a){console.error("Error fetching stats:",a)}},[A]),$=(0,c.useCallback)(async()=>{try{let a=await v.default.getActiveDepartments();z(a.data)}catch(a){console.error("Error fetching departments:",a)}},[]);(0,c.useEffect)(()=>{(async()=>{D(!0),await Promise.all([Y(),Z(),$()]),D(!1)})()},[Y,Z,$]),(0,c.useEffect)(()=>{let a=setInterval(()=>{Y(),Z()},1e4);return()=>clearInterval(a)},[Y,Z]);let _=async()=>{F(!0),await Promise.all([Y(),Z()]),F(!1)},aa=a=>{X(a),T(!0)},ab=async a=>{try{await u.default.completeQueue(a.id),w.toast.success("Layanan selesai",{description:`Antrian ${a.queue_code} telah selesai dilayani`}),_()}catch(a){console.error("Error completing service:",a),w.toast.error("Gagal menyelesaikan layanan",{description:a.response?.data?.message||"Terjadi kesalahan"})}},ac=async a=>{try{await u.default.skipQueue(a.id,"Pasien tidak hadir"),w.toast.info("Antrian dilewati",{description:`${a.queue_code} telah dilewati`}),_()}catch(a){console.error("Error skipping queue:",a),w.toast.error("Gagal melewati antrian",{description:a.response?.data?.message||"Terjadi kesalahan"})}},ad=async a=>{if(confirm("Apakah Anda yakin ingin membatalkan antrian ini?"))try{await u.default.cancelQueue(a.id,"Dibatalkan oleh petugas"),w.toast.warning("Antrian dibatalkan",{description:`${a.queue_code} telah dibatalkan`}),_()}catch(a){console.error("Error cancelling queue:",a),w.toast.error("Gagal membatalkan antrian",{description:a.response?.data?.message||"Terjadi kesalahan"})}},ae=[{title:"Total Antrian",value:s?.total||0,icon:e.Ticket,color:"blue"},{title:"Menunggu",value:s?.waiting||0,icon:g.Clock,color:"yellow"},{title:"Sedang Dilayani",value:(s?.called||0)+(s?.in_service||0),icon:i.Users,color:"purple"},{title:"Selesai",value:s?.completed||0,icon:h.CheckCircle,color:"green"}],af={hidden:{opacity:0,y:20},show:{opacity:1,y:0}},ag=[...a.called,...a.in_service];return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)(d.motion.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold tracking-tight",children:"Manajemen Antrian"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Kelola antrian pasien hari ini"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)(o.Select,{value:A,onValueChange:B,children:[(0,b.jsxs)(o.SelectTrigger,{className:"w-[200px]",children:[(0,b.jsx)(k.Building2,{className:"mr-2 h-4 w-4"}),(0,b.jsx)(o.SelectValue,{placeholder:"Semua Poli"})]}),(0,b.jsxs)(o.SelectContent,{children:[(0,b.jsx)(o.SelectItem,{value:"all",children:"Semua Poli"}),y.map(a=>(0,b.jsx)(o.SelectItem,{value:a.id.toString(),children:a.name},a.id))]})]}),(0,b.jsx)(m.Button,{variant:"outline",size:"icon",onClick:_,disabled:E,children:(0,b.jsx)(f.RefreshCw,{className:`h-4 w-4 ${E?"animate-spin":""}`})}),(0,b.jsxs)(m.Button,{onClick:()=>J(!0),children:[(0,b.jsx)(e.Ticket,{className:"mr-2 h-4 w-4"}),"Ambil Antrian"]})]})]}),(0,b.jsx)(d.motion.div,{variants:{hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1}}},initial:"hidden",animate:"show",className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:ae.map(a=>(0,b.jsx)(d.motion.div,{variants:af,children:(0,b.jsx)(n.Card,{children:(0,b.jsx)(n.CardContent,{className:"p-6",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:a.title}),(0,b.jsx)("p",{className:"text-3xl font-bold mt-2",children:C?"-":a.value})]}),(0,b.jsx)("div",{className:`p-3 rounded-xl bg-${a.color}-100 dark:bg-${a.color}-950`,children:(0,b.jsx)(a.icon,{className:`h-6 w-6 text-${a.color}-600 dark:text-${a.color}-400`})})]})})})},a.title))}),s&&(s.avg_wait_time>0||s.avg_service_time>0)&&(0,b.jsxs)(d.motion.div,{initial:{opacity:0},animate:{opacity:1},className:"flex items-center gap-6 text-sm text-muted-foreground",children:[s.avg_wait_time>0&&(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(j.Timer,{className:"h-4 w-4"}),(0,b.jsxs)("span",{children:["Rata-rata tunggu:"," ",u.default.formatWaitTime(s.avg_wait_time)]})]}),s.avg_service_time>0&&(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(g.Clock,{className:"h-4 w-4"}),(0,b.jsxs)("span",{children:["Rata-rata layanan:"," ",u.default.formatWaitTime(s.avg_service_time)]})]})]}),(0,b.jsxs)("div",{className:"grid gap-6 lg:grid-cols-2",children:[(0,b.jsx)(d.motion.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},children:(0,b.jsxs)(n.Card,{children:[(0,b.jsx)(n.CardHeader,{className:"pb-3",children:(0,b.jsxs)(n.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"p-2 rounded-lg bg-purple-100 dark:bg-purple-950",children:(0,b.jsx)(l.Phone,{className:"h-4 w-4 text-purple-600 dark:text-purple-400"})}),"Sedang Dilayani",ag.length>0&&(0,b.jsx)(p.Badge,{variant:"secondary",children:ag.length})]})}),(0,b.jsx)(n.CardContent,{className:"space-y-3",children:0===ag.length?(0,b.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[(0,b.jsx)(i.Users,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),(0,b.jsx)("p",{children:"Belum ada antrian yang sedang dilayani"})]}):ag.map(a=>(0,b.jsx)(R,{queue:a,onRecall:()=>{G.default.isSupported()&&G.default.announce({queueCode:a.queue_code,counterNumber:a.counter_number,departmentName:a.department?.name},2)},onStart:()=>{X(a),P(!0)},onComplete:()=>ab(a),onSkip:()=>ac(a),onCancel:()=>ad(a),onAssignPatient:()=>aa(a)},a.id))})]})}),(0,b.jsx)(d.motion.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},children:(0,b.jsxs)(n.Card,{children:[(0,b.jsx)(n.CardHeader,{className:"pb-3",children:(0,b.jsxs)(n.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"p-2 rounded-lg bg-yellow-100 dark:bg-yellow-950",children:(0,b.jsx)(g.Clock,{className:"h-4 w-4 text-yellow-600 dark:text-yellow-400"})}),"Antrian Menunggu",a.waiting.length>0&&(0,b.jsx)(p.Badge,{variant:"secondary",children:a.waiting.length})]})}),(0,b.jsx)(n.CardContent,{className:"space-y-3 max-h-[500px] overflow-y-auto",children:0===a.waiting.length?(0,b.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[(0,b.jsx)(e.Ticket,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),(0,b.jsx)("p",{children:"Tidak ada antrian menunggu"})]}):a.waiting.map(a=>(0,b.jsx)(R,{queue:a,onCall:()=>{X(a),N(!0)},onSkip:()=>ac(a),onCancel:()=>ad(a),onAssignPatient:()=>aa(a)},a.id))})]})})]}),(0,b.jsx)(d.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:(0,b.jsxs)(n.Card,{children:[(0,b.jsx)(n.CardHeader,{className:"pb-3",children:(0,b.jsx)(n.CardTitle,{children:"Riwayat Hari Ini"})}),(0,b.jsx)(n.CardContent,{children:(0,b.jsxs)(q.Tabs,{defaultValue:"completed",children:[(0,b.jsxs)(q.TabsList,{children:[(0,b.jsxs)(q.TabsTrigger,{value:"completed",children:["Selesai (",a.completed.length,")"]}),(0,b.jsxs)(q.TabsTrigger,{value:"skipped",children:["Dilewati (",a.skipped.length,")"]}),(0,b.jsxs)(q.TabsTrigger,{value:"cancelled",children:["Dibatalkan (",a.cancelled.length,")"]})]}),(0,b.jsx)(q.TabsContent,{value:"completed",className:"mt-4 space-y-2",children:0===a.completed.length?(0,b.jsx)("p",{className:"text-center py-4 text-muted-foreground",children:"Belum ada antrian selesai"}):(0,b.jsx)("div",{className:"grid gap-2 sm:grid-cols-2 lg:grid-cols-3",children:a.completed.slice(0,12).map(a=>(0,b.jsxs)("div",{className:"p-3 rounded-lg border bg-green-50 dark:bg-green-950/50",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"font-medium",children:a.queue_code}),(0,b.jsx)(p.Badge,{variant:"success",children:"Selesai"})]}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:a.patient?.name||"Tidak ada data pasien"})]},a.id))})}),(0,b.jsx)(q.TabsContent,{value:"skipped",className:"mt-4 space-y-2",children:0===a.skipped.length?(0,b.jsx)("p",{className:"text-center py-4 text-muted-foreground",children:"Tidak ada antrian dilewati"}):(0,b.jsx)("div",{className:"grid gap-2 sm:grid-cols-2 lg:grid-cols-3",children:a.skipped.map(a=>(0,b.jsxs)("div",{className:"p-3 rounded-lg border bg-orange-50 dark:bg-orange-950/50",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"font-medium",children:a.queue_code}),(0,b.jsx)(p.Badge,{variant:"warning",children:"Dilewati"})]}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:a.notes||"Pasien tidak hadir"})]},a.id))})}),(0,b.jsx)(q.TabsContent,{value:"cancelled",className:"mt-4 space-y-2",children:0===a.cancelled.length?(0,b.jsx)("p",{className:"text-center py-4 text-muted-foreground",children:"Tidak ada antrian dibatalkan"}):(0,b.jsx)("div",{className:"grid gap-2 sm:grid-cols-2 lg:grid-cols-3",children:a.cancelled.map(a=>(0,b.jsxs)("div",{className:"p-3 rounded-lg border bg-red-50 dark:bg-red-950/50",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"font-medium",children:a.queue_code}),(0,b.jsx)(p.Badge,{variant:"error",children:"Dibatalkan"})]}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:a.notes||"Dibatalkan"})]},a.id))})})]})})]})}),(0,b.jsx)(x,{open:I,onOpenChange:J,onSuccess:()=>_()}),(0,b.jsx)(H,{open:K,onOpenChange:N,queue:W,onSuccess:()=>_(),onRegisterPatient:()=>V(!0)}),(0,b.jsx)(L,{open:O,onOpenChange:P,queue:W,onSuccess:()=>_(),onRegisterPatient:()=>V(!0)}),(0,b.jsx)(M,{open:Q,onOpenChange:T,queue:W,onSuccess:()=>_(),onRegisterPatient:()=>V(!0)}),(0,b.jsx)(S.PatientModal,{open:U,onOpenChange:V,onSuccess:()=>{V(!1),W&&(Q?T(!0):"called"===W.status?P(!0):N(!0))}})]})}a.s(["default",()=>T],94637)}];

//# sourceMappingURL=src_app_%28dashboard%29_queue_page_tsx_55002e15._.js.map
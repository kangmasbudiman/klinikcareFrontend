module.exports=[17371,8797,12612,4690,93701,7814,a=>{"use strict";let b=(0,a.i(70106).default)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);a.s(["UserPlus",()=>b],17371);var c=a.i(87924),d=a.i(46271),e=a.i(77156),f=a.i(99464),g=a.i(81560),h=a.i(17755),i=a.i(30206),j=a.i(13749),k=a.i(50522),l=a.i(60246),m=a.i(63519),n=a.i(41675),o=a.i(4720),p=a.i(50944),q=a.i(6015),r=a.i(99570),s=a.i(86304),t=a.i(35732),u=a.i(84771);function v({patients:a,isLoading:b,currentPage:v,totalPages:w,onPageChange:x,onView:y,onEdit:z,onDelete:A,onToggleStatus:B}){let C=(0,p.useRouter)();return b?(0,c.jsx)("div",{className:"rounded-lg border bg-card",children:(0,c.jsxs)(q.Table,{children:[(0,c.jsx)(q.TableHeader,{children:(0,c.jsxs)(q.TableRow,{children:[(0,c.jsx)(q.TableHead,{className:"w-[250px]",children:"Pasien"}),(0,c.jsx)(q.TableHead,{children:"No. RM"}),(0,c.jsx)(q.TableHead,{children:"NIK / BPJS"}),(0,c.jsx)(q.TableHead,{children:"Jenis"}),(0,c.jsx)(q.TableHead,{children:"Kontak"}),(0,c.jsx)(q.TableHead,{children:"Status"}),(0,c.jsx)(q.TableHead,{className:"w-[80px]",children:"Aksi"})]})}),(0,c.jsx)(q.TableBody,{children:[void 0,void 0,void 0,void 0,void 0].map((a,b)=>(0,c.jsxs)(q.TableRow,{children:[(0,c.jsx)(q.TableCell,{children:(0,c.jsxs)("div",{className:"flex items-center gap-3",children:[(0,c.jsx)("div",{className:"h-10 w-10 rounded-full bg-muted animate-pulse"}),(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)("div",{className:"h-4 w-32 bg-muted animate-pulse rounded"}),(0,c.jsx)("div",{className:"h-3 w-24 bg-muted animate-pulse rounded"})]})]})}),(0,c.jsx)(q.TableCell,{children:(0,c.jsx)("div",{className:"h-4 w-28 bg-muted animate-pulse rounded"})}),(0,c.jsx)(q.TableCell,{children:(0,c.jsx)("div",{className:"h-4 w-32 bg-muted animate-pulse rounded"})}),(0,c.jsx)(q.TableCell,{children:(0,c.jsx)("div",{className:"h-6 w-16 bg-muted animate-pulse rounded"})}),(0,c.jsx)(q.TableCell,{children:(0,c.jsx)("div",{className:"h-4 w-28 bg-muted animate-pulse rounded"})}),(0,c.jsx)(q.TableCell,{children:(0,c.jsx)("div",{className:"h-6 w-16 bg-muted animate-pulse rounded"})}),(0,c.jsx)(q.TableCell,{children:(0,c.jsx)("div",{className:"h-8 w-8 bg-muted animate-pulse rounded"})})]},b))})]})}):0===a.length?(0,c.jsxs)("div",{className:"rounded-lg border bg-card p-8 text-center",children:[(0,c.jsx)(l.Users,{className:"h-12 w-12 mx-auto text-muted-foreground/50"}),(0,c.jsx)("h3",{className:"mt-4 text-lg font-semibold",children:"Belum ada data pasien"}),(0,c.jsx)("p",{className:"mt-2 text-sm text-muted-foreground",children:'Klik tombol "Tambah Pasien" untuk mendaftarkan pasien baru.'})]}):(0,c.jsxs)("div",{className:"space-y-4",children:[(0,c.jsx)("div",{className:"rounded-lg border bg-card",children:(0,c.jsxs)(q.Table,{children:[(0,c.jsx)(q.TableHeader,{children:(0,c.jsxs)(q.TableRow,{children:[(0,c.jsx)(q.TableHead,{className:"w-[250px]",children:"Pasien"}),(0,c.jsx)(q.TableHead,{children:"No. RM"}),(0,c.jsx)(q.TableHead,{children:"NIK / BPJS"}),(0,c.jsx)(q.TableHead,{children:"Jenis"}),(0,c.jsx)(q.TableHead,{children:"Kontak"}),(0,c.jsx)(q.TableHead,{children:"Status"}),(0,c.jsx)(q.TableHead,{className:"w-[80px]",children:"Aksi"})]})}),(0,c.jsx)(q.TableBody,{children:a.map((a,b)=>(0,c.jsxs)(d.motion.tr,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.05*b},className:"group hover:bg-muted/50",children:[(0,c.jsx)(q.TableCell,{children:(0,c.jsxs)("div",{className:"flex items-center gap-3",children:[(0,c.jsx)("div",{className:`h-10 w-10 rounded-full flex items-center justify-center text-white font-medium ${"male"===a.gender?"bg-blue-500":"bg-pink-500"}`,children:a.name.charAt(0).toUpperCase()}),(0,c.jsxs)("div",{className:"min-w-0",children:[(0,c.jsx)("p",{className:"font-medium truncate",children:a.name}),(0,c.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,c.jsx)(n.Calendar,{className:"h-3 w-3"}),(0,c.jsx)("span",{children:u.default.formatAge(a.birth_date)}),(0,c.jsx)("span",{className:"text-muted-foreground/50",children:"|"}),(0,c.jsx)("span",{children:a.gender_label})]})]})]})}),(0,c.jsx)(q.TableCell,{children:(0,c.jsx)("code",{className:"text-sm bg-muted px-2 py-1 rounded",children:a.medical_record_number})}),(0,c.jsx)(q.TableCell,{children:(0,c.jsxs)("div",{className:"space-y-1 text-sm",children:[a.nik&&(0,c.jsxs)("div",{className:"text-muted-foreground",children:["NIK: ",a.nik]}),a.bpjs_number&&(0,c.jsxs)("div",{className:"text-green-600 dark:text-green-400",children:["BPJS: ",a.bpjs_number]}),!a.nik&&!a.bpjs_number&&(0,c.jsx)("span",{className:"text-muted-foreground",children:"-"})]})}),(0,c.jsx)(q.TableCell,{children:(0,c.jsx)(s.Badge,{className:u.default.getPatientTypeColorClass(a.patient_type),children:a.patient_type_label})}),(0,c.jsx)(q.TableCell,{children:a.phone?(0,c.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,c.jsx)(m.Phone,{className:"h-3 w-3 text-muted-foreground"}),(0,c.jsx)("span",{children:u.default.formatPhone(a.phone)})]}):(0,c.jsx)("span",{className:"text-muted-foreground",children:"-"})}),(0,c.jsx)(q.TableCell,{children:(0,c.jsx)(s.Badge,{variant:a.is_active?"success":"error",children:a.is_active?"Aktif":"Nonaktif"})}),(0,c.jsx)(q.TableCell,{children:(0,c.jsxs)(t.DropdownMenu,{children:[(0,c.jsx)(t.DropdownMenuTrigger,{asChild:!0,children:(0,c.jsx)(r.Button,{variant:"ghost",size:"icon",className:"h-8 w-8",children:(0,c.jsx)(h.MoreHorizontal,{className:"h-4 w-4"})})}),(0,c.jsxs)(t.DropdownMenuContent,{align:"end",children:[(0,c.jsxs)(t.DropdownMenuItem,{onClick:()=>{C.push(`/patients/${a.id}`)},children:[(0,c.jsx)(o.FileText,{className:"mr-2 h-4 w-4"}),"Riwayat Pengobatan"]}),(0,c.jsxs)(t.DropdownMenuItem,{onClick:()=>y(a),children:[(0,c.jsx)(e.Eye,{className:"mr-2 h-4 w-4"}),"Lihat Detail"]}),(0,c.jsxs)(t.DropdownMenuItem,{onClick:()=>z(a),children:[(0,c.jsx)(f.Pencil,{className:"mr-2 h-4 w-4"}),"Edit"]}),(0,c.jsxs)(t.DropdownMenuItem,{onClick:()=>B(a),children:[(0,c.jsx)(i.Power,{className:"mr-2 h-4 w-4"}),a.is_active?"Nonaktifkan":"Aktifkan"]}),(0,c.jsx)(t.DropdownMenuSeparator,{}),(0,c.jsxs)(t.DropdownMenuItem,{onClick:()=>A(a),className:"text-destructive focus:text-destructive",children:[(0,c.jsx)(g.Trash2,{className:"mr-2 h-4 w-4"}),"Hapus"]})]})]})})]},a.id))})]})}),w>1&&(0,c.jsxs)("div",{className:"flex items-center justify-between",children:[(0,c.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Halaman ",v," dari ",w]}),(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[(0,c.jsxs)(r.Button,{variant:"outline",size:"sm",onClick:()=>x(v-1),disabled:1===v,children:[(0,c.jsx)(j.ChevronLeft,{className:"h-4 w-4 mr-1"}),"Sebelumnya"]}),(0,c.jsxs)(r.Button,{variant:"outline",size:"sm",onClick:()=>x(v+1),disabled:v===w,children:["Selanjutnya",(0,c.jsx)(k.ChevronRight,{className:"h-4 w-4 ml-1"})]})]})]})]})}a.s(["PatientTable",()=>v],8797);var w=a.i(72131),x=a.i(95245),y=a.i(59501),z=a.i(62036),A=a.i(46842),B=a.i(11156),C=a.i(92258),D=a.i(24987),E=a.i(76472),F=a.i(3314),G=a.i(96221),H=a.i(92e3),I=a.i(14574),J=a.i(66718),K=a.i(70430),L=a.i(80701),M=a.i(75083),N=a.i(88780);let O=N.z.object({nik:N.z.string().length(16,"NIK harus 16 digit").regex(/^\d+$/,"NIK hanya boleh berisi angka").optional().or(N.z.literal("")),bpjs_number:N.z.string().max(13,"No. BPJS maksimal 13 karakter").optional().or(N.z.literal("")),name:N.z.string().min(1,"Nama wajib diisi").min(2,"Nama minimal 2 karakter").max(255,"Nama maksimal 255 karakter"),birth_place:N.z.string().max(255,"Tempat lahir maksimal 255 karakter").optional().or(N.z.literal("")),birth_date:N.z.string().min(1,"Tanggal lahir wajib diisi"),gender:N.z.enum(["male","female"],{required_error:"Jenis kelamin wajib dipilih",invalid_type_error:"Jenis kelamin tidak valid"}),blood_type:N.z.enum(["A","B","AB","O"]).optional().nullable(),religion:N.z.enum(["islam","kristen","katolik","hindu","buddha","konghucu","lainnya"]).optional().nullable(),marital_status:N.z.enum(["single","married","divorced","widowed"]).optional().nullable(),occupation:N.z.string().max(255,"Pekerjaan maksimal 255 karakter").optional().or(N.z.literal("")),education:N.z.string().max(255,"Pendidikan maksimal 255 karakter").optional().or(N.z.literal("")),phone:N.z.string().max(20,"No. telepon maksimal 20 karakter").optional().or(N.z.literal("")),email:N.z.string().email("Format email tidak valid").max(255,"Email maksimal 255 karakter").optional().or(N.z.literal("")),address:N.z.string().optional().or(N.z.literal("")),rt:N.z.string().max(5,"RT maksimal 5 karakter").optional().or(N.z.literal("")),rw:N.z.string().max(5,"RW maksimal 5 karakter").optional().or(N.z.literal("")),village:N.z.string().max(255,"Kelurahan maksimal 255 karakter").optional().or(N.z.literal("")),district:N.z.string().max(255,"Kecamatan maksimal 255 karakter").optional().or(N.z.literal("")),city:N.z.string().max(255,"Kota/Kabupaten maksimal 255 karakter").optional().or(N.z.literal("")),province:N.z.string().max(255,"Provinsi maksimal 255 karakter").optional().or(N.z.literal("")),postal_code:N.z.string().max(10,"Kode pos maksimal 10 karakter").optional().or(N.z.literal("")),emergency_contact_name:N.z.string().max(255,"Nama kontak darurat maksimal 255 karakter").optional().or(N.z.literal("")),emergency_contact_relation:N.z.string().max(255,"Hubungan maksimal 255 karakter").optional().or(N.z.literal("")),emergency_contact_phone:N.z.string().max(20,"No. telepon kontak darurat maksimal 20 karakter").optional().or(N.z.literal("")),allergies:N.z.string().optional().or(N.z.literal("")),medical_notes:N.z.string().optional().or(N.z.literal("")),patient_type:N.z.enum(["umum","bpjs","asuransi"],{required_error:"Jenis pasien wajib dipilih",invalid_type_error:"Jenis pasien tidak valid"}),insurance_name:N.z.string().max(255,"Nama asuransi maksimal 255 karakter").optional().or(N.z.literal("")),insurance_number:N.z.string().max(255,"No. polis maksimal 255 karakter").optional().or(N.z.literal("")),photo:N.z.string().optional().or(N.z.literal(""))});function P({open:a,onOpenChange:b,patient:e,onSuccess:f}){let g=!!e,[h,i]=(0,w.useState)(!1),[j,k]=(0,w.useState)("basic"),{register:l,handleSubmit:o,setValue:p,watch:q,reset:s,control:t,formState:{errors:v}}=(0,x.useForm)({resolver:(0,y.zodResolver)(O),defaultValues:{name:"",nik:"",bpjs_number:"",birth_place:"",birth_date:"",gender:"male",blood_type:null,religion:null,marital_status:null,occupation:"",education:"",phone:"",email:"",address:"",rt:"",rw:"",village:"",district:"",city:"",province:"",postal_code:"",emergency_contact_name:"",emergency_contact_relation:"",emergency_contact_phone:"",allergies:"",medical_notes:"",patient_type:"umum",insurance_name:"",insurance_number:""}}),N=q("patient_type"),P=q("gender");(0,w.useEffect)(()=>{a&&(k("basic"),e?s({name:e.name,nik:e.nik||"",bpjs_number:e.bpjs_number||"",birth_place:e.birth_place||"",birth_date:e.birth_date,gender:e.gender,blood_type:e.blood_type,religion:e.religion,marital_status:e.marital_status,occupation:e.occupation||"",education:e.education||"",phone:e.phone||"",email:e.email||"",address:e.address||"",rt:e.rt||"",rw:e.rw||"",village:e.village||"",district:e.district||"",city:e.city||"",province:e.province||"",postal_code:e.postal_code||"",emergency_contact_name:e.emergency_contact_name||"",emergency_contact_relation:e.emergency_contact_relation||"",emergency_contact_phone:e.emergency_contact_phone||"",allergies:e.allergies||"",medical_notes:e.medical_notes||"",patient_type:e.patient_type,insurance_name:e.insurance_name||"",insurance_number:e.insurance_number||""}):s({name:"",nik:"",bpjs_number:"",birth_place:"",birth_date:"",gender:"male",blood_type:null,religion:null,marital_status:null,occupation:"",education:"",phone:"",email:"",address:"",rt:"",rw:"",village:"",district:"",city:"",province:"",postal_code:"",emergency_contact_name:"",emergency_contact_relation:"",emergency_contact_phone:"",allergies:"",medical_notes:"",patient_type:"umum",insurance_name:"",insurance_number:""}))},[a,e,s]);let Q=async a=>{i(!0);try{let c=Object.fromEntries(Object.entries(a).map(([a,b])=>[a,""===b?null:b]));g&&e?await u.default.updatePatient(e.id,c):await u.default.createPatient(c),f(),b(!1)}catch(a){console.error("Error saving patient:",a)}finally{i(!1)}},R=u.default.getGenderOptions(),S=u.default.getPatientTypeOptions(),T=u.default.getReligionOptions(),U=u.default.getMaritalStatusOptions(),V=u.default.getBloodTypeOptions();return(0,c.jsx)(I.Dialog,{open:a,onOpenChange:b,children:(0,c.jsxs)(I.DialogContent,{className:"sm:max-w-[800px] max-h-[90vh] overflow-y-auto",children:[(0,c.jsxs)(I.DialogHeader,{children:[(0,c.jsx)(I.DialogTitle,{className:"text-xl",children:g?"Edit Data Pasien":"Registrasi Pasien Baru"}),(0,c.jsx)(I.DialogDescription,{children:g?"Perbarui informasi pasien.":"Isi data pasien baru untuk pendaftaran."})]}),(0,c.jsxs)("form",{onSubmit:o(Q),className:"space-y-4",children:[(0,c.jsx)(d.motion.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"flex items-center justify-center gap-4 py-2",children:(0,c.jsx)("div",{className:`h-16 w-16 rounded-full flex items-center justify-center text-white text-2xl font-bold ${"male"===P?"bg-blue-500":"bg-pink-500"}`,children:q("name")?.charAt(0)?.toUpperCase()||"?"})}),(0,c.jsxs)(M.Tabs,{value:j,onValueChange:k,children:[(0,c.jsxs)(M.TabsList,{className:"grid w-full grid-cols-4",children:[(0,c.jsx)(M.TabsTrigger,{value:"basic",children:"Data Diri"}),(0,c.jsx)(M.TabsTrigger,{value:"address",children:"Alamat"}),(0,c.jsx)(M.TabsTrigger,{value:"emergency",children:"Darurat"}),(0,c.jsx)(M.TabsTrigger,{value:"medical",children:"Medis"})]}),(0,c.jsxs)(M.TabsContent,{value:"basic",className:"space-y-4 mt-4",children:[(0,c.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsxs)(K.Label,{htmlFor:"name",children:["Nama Lengkap ",(0,c.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,c.jsxs)("div",{className:"relative",children:[(0,c.jsx)(A.User,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,c.jsx)(J.Input,{id:"name",placeholder:"Nama lengkap sesuai KTP",className:"pl-10",...l("name")})]}),v.name&&(0,c.jsxs)("p",{className:"text-sm text-destructive flex items-center gap-1",children:[(0,c.jsx)(H.AlertCircle,{className:"h-3 w-3"}),v.name.message]})]}),(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsxs)(K.Label,{children:["Jenis Kelamin ",(0,c.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,c.jsx)(x.Controller,{name:"gender",control:t,render:({field:a})=>(0,c.jsxs)(L.Select,{value:a.value,onValueChange:a.onChange,children:[(0,c.jsx)(L.SelectTrigger,{children:(0,c.jsx)(L.SelectValue,{placeholder:"Pilih jenis kelamin"})}),(0,c.jsx)(L.SelectContent,{children:R.map(a=>(0,c.jsx)(L.SelectItem,{value:a.value,children:a.label},a.value))})]})})]})]}),(0,c.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(K.Label,{htmlFor:"nik",children:"NIK (No. KTP)"}),(0,c.jsxs)("div",{className:"relative",children:[(0,c.jsx)(B.CreditCard,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,c.jsx)(J.Input,{id:"nik",placeholder:"16 digit NIK",maxLength:16,className:"pl-10",...l("nik")})]}),v.nik&&(0,c.jsxs)("p",{className:"text-sm text-destructive flex items-center gap-1",children:[(0,c.jsx)(H.AlertCircle,{className:"h-3 w-3"}),v.nik.message]})]}),(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(K.Label,{htmlFor:"bpjs_number",children:"No. BPJS"}),(0,c.jsxs)("div",{className:"relative",children:[(0,c.jsx)(F.Shield,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,c.jsx)(J.Input,{id:"bpjs_number",placeholder:"No. kartu BPJS",maxLength:13,className:"pl-10",...l("bpjs_number")})]})]})]}),(0,c.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(K.Label,{htmlFor:"birth_place",children:"Tempat Lahir"}),(0,c.jsx)(J.Input,{id:"birth_place",placeholder:"Kota tempat lahir",...l("birth_place")})]}),(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsxs)(K.Label,{htmlFor:"birth_date",children:["Tanggal Lahir ",(0,c.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,c.jsxs)("div",{className:"relative",children:[(0,c.jsx)(n.Calendar,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,c.jsx)(J.Input,{id:"birth_date",type:"date",className:"pl-10",...l("birth_date")})]}),v.birth_date&&(0,c.jsxs)("p",{className:"text-sm text-destructive flex items-center gap-1",children:[(0,c.jsx)(H.AlertCircle,{className:"h-3 w-3"}),v.birth_date.message]})]})]}),(0,c.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(K.Label,{htmlFor:"phone",children:"No. Telepon"}),(0,c.jsxs)("div",{className:"relative",children:[(0,c.jsx)(m.Phone,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,c.jsx)(J.Input,{id:"phone",placeholder:"08xxxxxxxxxx",className:"pl-10",...l("phone")})]})]}),(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(K.Label,{htmlFor:"email",children:"Email"}),(0,c.jsxs)("div",{className:"relative",children:[(0,c.jsx)(C.Mail,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,c.jsx)(J.Input,{id:"email",type:"email",placeholder:"email@example.com",className:"pl-10",...l("email")})]})]})]}),(0,c.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(K.Label,{children:"Gol. Darah"}),(0,c.jsx)(x.Controller,{name:"blood_type",control:t,render:({field:a})=>(0,c.jsxs)(L.Select,{value:a.value||"",onValueChange:b=>a.onChange(b||null),children:[(0,c.jsx)(L.SelectTrigger,{children:(0,c.jsx)(L.SelectValue,{placeholder:"-"})}),(0,c.jsx)(L.SelectContent,{children:V.map(a=>(0,c.jsx)(L.SelectItem,{value:a.value,children:a.label},a.value))})]})})]}),(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(K.Label,{children:"Agama"}),(0,c.jsx)(x.Controller,{name:"religion",control:t,render:({field:a})=>(0,c.jsxs)(L.Select,{value:a.value||"",onValueChange:b=>a.onChange(b||null),children:[(0,c.jsx)(L.SelectTrigger,{children:(0,c.jsx)(L.SelectValue,{placeholder:"-"})}),(0,c.jsx)(L.SelectContent,{children:T.map(a=>(0,c.jsx)(L.SelectItem,{value:a.value,children:a.label},a.value))})]})})]}),(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(K.Label,{children:"Status Pernikahan"}),(0,c.jsx)(x.Controller,{name:"marital_status",control:t,render:({field:a})=>(0,c.jsxs)(L.Select,{value:a.value||"",onValueChange:b=>a.onChange(b||null),children:[(0,c.jsx)(L.SelectTrigger,{children:(0,c.jsx)(L.SelectValue,{placeholder:"-"})}),(0,c.jsx)(L.SelectContent,{children:U.map(a=>(0,c.jsx)(L.SelectItem,{value:a.value,children:a.label},a.value))})]})})]}),(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsxs)(K.Label,{children:["Jenis Pasien ",(0,c.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,c.jsx)(x.Controller,{name:"patient_type",control:t,render:({field:a})=>(0,c.jsxs)(L.Select,{value:a.value,onValueChange:a.onChange,children:[(0,c.jsx)(L.SelectTrigger,{children:(0,c.jsx)(L.SelectValue,{placeholder:"Pilih jenis"})}),(0,c.jsx)(L.SelectContent,{children:S.map(a=>(0,c.jsx)(L.SelectItem,{value:a.value,children:a.label},a.value))})]})})]})]}),(0,c.jsx)(z.AnimatePresence,{children:"asuransi"===N&&(0,c.jsxs)(d.motion.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"grid grid-cols-2 gap-4",children:[(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(K.Label,{htmlFor:"insurance_name",children:"Nama Asuransi"}),(0,c.jsx)(J.Input,{id:"insurance_name",placeholder:"Prudential, Allianz, dll",...l("insurance_name")})]}),(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(K.Label,{htmlFor:"insurance_number",children:"No. Polis"}),(0,c.jsx)(J.Input,{id:"insurance_number",placeholder:"Nomor polis asuransi",...l("insurance_number")})]})]})}),(0,c.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(K.Label,{htmlFor:"occupation",children:"Pekerjaan"}),(0,c.jsx)(J.Input,{id:"occupation",placeholder:"Pekerjaan saat ini",...l("occupation")})]}),(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(K.Label,{htmlFor:"education",children:"Pendidikan Terakhir"}),(0,c.jsx)(J.Input,{id:"education",placeholder:"SD/SMP/SMA/D3/S1/S2/dll",...l("education")})]})]})]}),(0,c.jsxs)(M.TabsContent,{value:"address",className:"space-y-4 mt-4",children:[(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(K.Label,{htmlFor:"address",children:"Alamat Lengkap"}),(0,c.jsxs)("div",{className:"relative",children:[(0,c.jsx)(D.MapPin,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),(0,c.jsx)("textarea",{id:"address",placeholder:"Jalan, nomor rumah, gang, dll",className:"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 pl-10 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 resize-none",...l("address")})]})]}),(0,c.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(K.Label,{htmlFor:"rt",children:"RT"}),(0,c.jsx)(J.Input,{id:"rt",placeholder:"001",maxLength:5,...l("rt")})]}),(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(K.Label,{htmlFor:"rw",children:"RW"}),(0,c.jsx)(J.Input,{id:"rw",placeholder:"002",maxLength:5,...l("rw")})]}),(0,c.jsxs)("div",{className:"space-y-2 col-span-2",children:[(0,c.jsx)(K.Label,{htmlFor:"village",children:"Kelurahan/Desa"}),(0,c.jsx)(J.Input,{id:"village",placeholder:"Nama kelurahan",...l("village")})]})]}),(0,c.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(K.Label,{htmlFor:"district",children:"Kecamatan"}),(0,c.jsx)(J.Input,{id:"district",placeholder:"Nama kecamatan",...l("district")})]}),(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(K.Label,{htmlFor:"city",children:"Kota/Kabupaten"}),(0,c.jsx)(J.Input,{id:"city",placeholder:"Nama kota/kabupaten",...l("city")})]})]}),(0,c.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(K.Label,{htmlFor:"province",children:"Provinsi"}),(0,c.jsx)(J.Input,{id:"province",placeholder:"Nama provinsi",...l("province")})]}),(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(K.Label,{htmlFor:"postal_code",children:"Kode Pos"}),(0,c.jsx)(J.Input,{id:"postal_code",placeholder:"12345",maxLength:10,...l("postal_code")})]})]})]}),(0,c.jsxs)(M.TabsContent,{value:"emergency",className:"space-y-4 mt-4",children:[(0,c.jsx)("div",{className:"p-4 rounded-lg bg-orange-50 dark:bg-orange-950 border border-orange-200 dark:border-orange-800",children:(0,c.jsx)("p",{className:"text-sm text-orange-800 dark:text-orange-200",children:"Informasi kontak darurat akan digunakan jika terjadi keadaan darurat pada pasien."})}),(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(K.Label,{htmlFor:"emergency_contact_name",children:"Nama Kontak Darurat"}),(0,c.jsxs)("div",{className:"relative",children:[(0,c.jsx)(A.User,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,c.jsx)(J.Input,{id:"emergency_contact_name",placeholder:"Nama lengkap",className:"pl-10",...l("emergency_contact_name")})]})]}),(0,c.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(K.Label,{htmlFor:"emergency_contact_relation",children:"Hubungan"}),(0,c.jsx)(J.Input,{id:"emergency_contact_relation",placeholder:"Istri/Suami/Anak/Orang tua/dll",...l("emergency_contact_relation")})]}),(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(K.Label,{htmlFor:"emergency_contact_phone",children:"No. Telepon"}),(0,c.jsxs)("div",{className:"relative",children:[(0,c.jsx)(m.Phone,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,c.jsx)(J.Input,{id:"emergency_contact_phone",placeholder:"08xxxxxxxxxx",className:"pl-10",...l("emergency_contact_phone")})]})]})]})]}),(0,c.jsxs)(M.TabsContent,{value:"medical",className:"space-y-4 mt-4",children:[(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(K.Label,{htmlFor:"allergies",children:"Alergi"}),(0,c.jsxs)("div",{className:"relative",children:[(0,c.jsx)(E.Heart,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),(0,c.jsx)("textarea",{id:"allergies",placeholder:"Daftar alergi obat, makanan, dll (pisahkan dengan koma)",className:"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 pl-10 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 resize-none",...l("allergies")})]})]}),(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(K.Label,{htmlFor:"medical_notes",children:"Catatan Medis"}),(0,c.jsx)("textarea",{id:"medical_notes",placeholder:"Riwayat penyakit, kondisi khusus, catatan penting lainnya",className:"flex min-h-[120px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 resize-none",...l("medical_notes")})]})]})]}),(0,c.jsxs)(I.DialogFooter,{className:"gap-2 sm:gap-0 pt-4",children:[(0,c.jsx)(r.Button,{type:"button",variant:"outline",onClick:()=>b(!1),disabled:h,children:"Batal"}),(0,c.jsx)(r.Button,{type:"submit",disabled:h,className:"min-w-[120px]",children:h?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(G.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Menyimpan..."]}):g?"Simpan Perubahan":"Daftarkan Pasien"})]})]})]})})}N.z.object({q:N.z.string().min(2,"Minimal 2 karakter untuk pencarian")}),a.s(["PatientModal",()=>P],12612);var Q=a.i(16201),R=a.i(62722),S=a.i(24569),T=a.i(5084),U=a.i(68114);function V({open:a,onOpenChange:b,patient:e,onEdit:f,onToggleStatus:g}){return e?(0,c.jsx)(I.Dialog,{open:a,onOpenChange:b,children:(0,c.jsxs)(I.DialogContent,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[(0,c.jsx)(I.DialogHeader,{children:(0,c.jsx)(I.DialogTitle,{className:"text-xl",children:"Detail Pasien"})}),(0,c.jsxs)("div",{className:"py-4 space-y-6",children:[(0,c.jsxs)(d.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex flex-col items-center text-center",children:[(0,c.jsxs)("div",{className:"relative",children:[(0,c.jsx)("div",{className:`h-20 w-20 rounded-full flex items-center justify-center text-white text-3xl font-bold ${"male"===e.gender?"bg-blue-500":"bg-pink-500"}`,children:e.name.charAt(0).toUpperCase()}),(0,c.jsx)("div",{className:`absolute -bottom-1 -right-1 w-6 h-6 rounded-full border-2 border-background flex items-center justify-center ${e.is_active?"bg-emerald-500":"bg-gray-400"}`,children:e.is_active?(0,c.jsx)(Q.CheckCircle,{className:"h-4 w-4 text-white"}):(0,c.jsx)(R.XCircle,{className:"h-4 w-4 text-white"})})]}),(0,c.jsx)("h3",{className:"mt-4 text-lg font-semibold",children:e.name}),(0,c.jsx)("p",{className:"text-sm text-muted-foreground",children:e.medical_record_number}),(0,c.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,c.jsx)(s.Badge,{className:u.default.getPatientTypeColorClass(e.patient_type),children:e.patient_type_label}),(0,c.jsx)(s.Badge,{variant:e.is_active?"success":"error",children:e.is_active?"Aktif":"Nonaktif"})]})]}),(0,c.jsx)(T.Separator,{}),(0,c.jsxs)(d.motion.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"space-y-4",children:[(0,c.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,c.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[(0,c.jsx)("div",{className:"p-2 rounded-lg bg-blue-100 dark:bg-blue-950",children:(0,c.jsx)(n.Calendar,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"})}),(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"text-xs text-muted-foreground",children:"Tanggal Lahir"}),(0,c.jsxs)("p",{className:"text-sm font-medium",children:[(0,U.formatDate)(e.birth_date)," (",u.default.formatAge(e.birth_date),")"]})]})]}),(0,c.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[(0,c.jsx)("div",{className:"p-2 rounded-lg bg-pink-100 dark:bg-pink-950",children:(0,c.jsx)(A.User,{className:"h-4 w-4 text-pink-600 dark:text-pink-400"})}),(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"text-xs text-muted-foreground",children:"Jenis Kelamin"}),(0,c.jsx)("p",{className:"text-sm font-medium",children:e.gender_label})]})]})]}),(e.nik||e.bpjs_number)&&(0,c.jsxs)("div",{className:"p-3 rounded-lg bg-muted/50 space-y-2",children:[e.nik&&(0,c.jsxs)("div",{className:"flex items-center gap-3",children:[(0,c.jsx)(B.CreditCard,{className:"h-4 w-4 text-muted-foreground"}),(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"text-xs text-muted-foreground",children:"NIK"}),(0,c.jsx)("p",{className:"text-sm font-mono",children:e.nik})]})]}),e.bpjs_number&&(0,c.jsxs)("div",{className:"flex items-center gap-3",children:[(0,c.jsx)(F.Shield,{className:"h-4 w-4 text-green-600 dark:text-green-400"}),(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"text-xs text-muted-foreground",children:"No. BPJS"}),(0,c.jsx)("p",{className:"text-sm font-mono",children:e.bpjs_number})]})]})]}),(e.phone||e.email)&&(0,c.jsxs)("div",{className:"p-3 rounded-lg bg-muted/50 space-y-2",children:[e.phone&&(0,c.jsxs)("div",{className:"flex items-center gap-3",children:[(0,c.jsx)(m.Phone,{className:"h-4 w-4 text-muted-foreground"}),(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"text-xs text-muted-foreground",children:"Telepon"}),(0,c.jsx)("p",{className:"text-sm",children:u.default.formatPhone(e.phone)})]})]}),e.email&&(0,c.jsxs)("div",{className:"flex items-center gap-3",children:[(0,c.jsx)(C.Mail,{className:"h-4 w-4 text-muted-foreground"}),(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"text-xs text-muted-foreground",children:"Email"}),(0,c.jsx)("p",{className:"text-sm",children:e.email})]})]})]}),e.full_address&&(0,c.jsxs)("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-muted/50",children:[(0,c.jsx)(D.MapPin,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"text-xs text-muted-foreground",children:"Alamat"}),(0,c.jsx)("p",{className:"text-sm",children:e.full_address})]})]}),"asuransi"===e.patient_type&&e.insurance_name&&(0,c.jsxs)("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-purple-50 dark:bg-purple-950",children:[(0,c.jsx)(F.Shield,{className:"h-4 w-4 text-purple-600 dark:text-purple-400 mt-0.5"}),(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"text-xs text-muted-foreground",children:"Asuransi"}),(0,c.jsx)("p",{className:"text-sm font-medium",children:e.insurance_name}),e.insurance_number&&(0,c.jsxs)("p",{className:"text-xs text-muted-foreground",children:["No. Polis: ",e.insurance_number]})]})]}),e.emergency_contact_name&&(0,c.jsxs)("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-orange-50 dark:bg-orange-950",children:[(0,c.jsx)(l.Users,{className:"h-4 w-4 text-orange-600 dark:text-orange-400 mt-0.5"}),(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"text-xs text-muted-foreground",children:"Kontak Darurat"}),(0,c.jsx)("p",{className:"text-sm font-medium",children:e.emergency_contact_name}),(0,c.jsxs)("p",{className:"text-xs text-muted-foreground",children:[e.emergency_contact_relation,e.emergency_contact_phone&&` - ${u.default.formatPhone(e.emergency_contact_phone)}`]})]})]}),e.allergies&&(0,c.jsxs)("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-red-50 dark:bg-red-950",children:[(0,c.jsx)(E.Heart,{className:"h-4 w-4 text-red-600 dark:text-red-400 mt-0.5"}),(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"text-xs text-muted-foreground",children:"Alergi"}),(0,c.jsx)("p",{className:"text-sm",children:e.allergies})]})]}),e.medical_notes&&(0,c.jsxs)("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-muted/50",children:[(0,c.jsx)(o.FileText,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"text-xs text-muted-foreground",children:"Catatan Medis"}),(0,c.jsx)("p",{className:"text-sm",children:e.medical_notes})]})]}),(0,c.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[e.blood_type&&(0,c.jsxs)("div",{className:"p-2 rounded bg-muted/50",children:[(0,c.jsx)("span",{className:"text-muted-foreground",children:"Gol. Darah:"})," ",(0,c.jsx)("span",{className:"font-medium",children:e.blood_type})]}),e.religion_label&&(0,c.jsxs)("div",{className:"p-2 rounded bg-muted/50",children:[(0,c.jsx)("span",{className:"text-muted-foreground",children:"Agama:"})," ",(0,c.jsx)("span",{className:"font-medium",children:e.religion_label})]}),e.marital_status_label&&(0,c.jsxs)("div",{className:"p-2 rounded bg-muted/50",children:[(0,c.jsx)("span",{className:"text-muted-foreground",children:"Status:"})," ",(0,c.jsx)("span",{className:"font-medium",children:e.marital_status_label})]}),e.occupation&&(0,c.jsxs)("div",{className:"p-2 rounded bg-muted/50",children:[(0,c.jsx)("span",{className:"text-muted-foreground",children:"Pekerjaan:"})," ",(0,c.jsx)("span",{className:"font-medium",children:e.occupation})]})]}),(0,c.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[(0,c.jsx)("div",{className:"p-2 rounded-lg bg-gray-100 dark:bg-gray-800",children:(0,c.jsx)(n.Calendar,{className:"h-4 w-4 text-gray-600 dark:text-gray-400"})}),(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"text-xs text-muted-foreground",children:"Terdaftar Pada"}),(0,c.jsx)("p",{className:"text-sm font-medium",children:(0,U.formatDate)(e.created_at)})]})]})]}),(0,c.jsx)(T.Separator,{}),(0,c.jsxs)(d.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},className:"flex gap-2",children:[(0,c.jsxs)(r.Button,{variant:"outline",className:"flex-1",onClick:()=>{b(!1),f()},children:[(0,c.jsx)(S.Edit,{className:"mr-2 h-4 w-4"}),"Edit"]}),(0,c.jsxs)(r.Button,{variant:e.is_active?"destructive":"default",className:"flex-1",onClick:()=>{b(!1),g()},children:[(0,c.jsx)(i.Power,{className:"mr-2 h-4 w-4"}),e.is_active?"Nonaktifkan":"Aktifkan"]})]})]})]})}):null}a.s(["PatientDetailModal",()=>V],4690);var W=a.i(73570);function X({open:a,onOpenChange:b,patient:d,onSuccess:e}){let[f,g]=(0,w.useState)(!1),[h,i]=(0,w.useState)(null),j=async()=>{if(d){g(!0),i(null);try{await u.default.deletePatient(d.id),e(),b(!1)}catch(a){i(a.response?.data?.message||"Gagal menghapus pasien. Silakan coba lagi.")}finally{g(!1)}}};return d?(0,c.jsx)(I.Dialog,{open:a,onOpenChange:b,children:(0,c.jsxs)(I.DialogContent,{className:"sm:max-w-[425px]",children:[(0,c.jsx)(I.DialogHeader,{children:(0,c.jsxs)("div",{className:"flex items-center gap-4",children:[(0,c.jsx)("div",{className:"p-3 rounded-full bg-red-100 dark:bg-red-950",children:(0,c.jsx)(W.AlertTriangle,{className:"h-6 w-6 text-red-600 dark:text-red-400"})}),(0,c.jsxs)("div",{children:[(0,c.jsx)(I.DialogTitle,{children:"Hapus Pasien"}),(0,c.jsx)(I.DialogDescription,{children:"Tindakan ini tidak dapat dibatalkan."})]})]})}),(0,c.jsxs)("div",{className:"py-4",children:[(0,c.jsx)("p",{className:"text-sm text-muted-foreground",children:"Apakah Anda yakin ingin menghapus pasien berikut?"}),(0,c.jsxs)("div",{className:"mt-3 p-3 rounded-lg bg-muted",children:[(0,c.jsx)("p",{className:"font-medium",children:d.name}),(0,c.jsx)("p",{className:"text-sm text-muted-foreground",children:d.medical_record_number})]}),h&&(0,c.jsx)("div",{className:"mt-3 p-3 rounded-lg bg-red-50 dark:bg-red-950 text-red-600 dark:text-red-400 text-sm",children:h})]}),(0,c.jsxs)(I.DialogFooter,{className:"gap-2 sm:gap-0",children:[(0,c.jsx)(r.Button,{type:"button",variant:"outline",onClick:()=>b(!1),disabled:f,children:"Batal"}),(0,c.jsx)(r.Button,{type:"button",variant:"destructive",onClick:j,disabled:f,children:f?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(G.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Menghapus..."]}):"Hapus Pasien"})]})]})}):null}a.s(["DeleteConfirmModal",()=>X],93701),a.s([],7814)}];

//# sourceMappingURL=node_modules_lucide-react_dist_esm_icons_user-plus_c580f5c4.js.map
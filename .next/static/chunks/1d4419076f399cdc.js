(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,24687,e=>{"use strict";var a=e.i(43476),t=e.i(71645),r=e.i(75157);let s=t.forwardRef(({className:e,...t},s)=>(0,a.jsx)("textarea",{className:(0,r.cn)("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...t}));s.displayName="Textarea",e.s(["Textarea",()=>s])},88699,e=>{"use strict";let a=(0,e.i(75254).default)("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);e.s(["Pencil",()=>a],88699)},86536,e=>{"use strict";let a=(0,e.i(75254).default)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Eye",()=>a],86536)},97548,e=>{"use strict";let a=(0,e.i(75254).default)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);e.s(["Filter",()=>a],97548)},69638,e=>{"use strict";let a=(0,e.i(75254).default)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>a],69638)},73884,e=>{"use strict";let a=(0,e.i(75254).default)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);e.s(["XCircle",()=>a],73884)},7233,e=>{"use strict";let a=(0,e.i(75254).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>a],7233)},15288,e=>{"use strict";var a=e.i(43476),t=e.i(71645),r=e.i(75157);let s=t.forwardRef(({className:e,...t},s)=>(0,a.jsx)("div",{ref:s,className:(0,r.cn)("rounded-xl border bg-card text-card-foreground shadow",e),...t}));s.displayName="Card";let l=t.forwardRef(({className:e,...t},s)=>(0,a.jsx)("div",{ref:s,className:(0,r.cn)("flex flex-col space-y-1.5 p-6",e),...t}));l.displayName="CardHeader";let i=t.forwardRef(({className:e,...t},s)=>(0,a.jsx)("div",{ref:s,className:(0,r.cn)("font-semibold leading-none tracking-tight",e),...t}));i.displayName="CardTitle";let n=t.forwardRef(({className:e,...t},s)=>(0,a.jsx)("div",{ref:s,className:(0,r.cn)("text-sm text-muted-foreground",e),...t}));n.displayName="CardDescription";let d=t.forwardRef(({className:e,...t},s)=>(0,a.jsx)("div",{ref:s,className:(0,r.cn)("p-6 pt-0",e),...t}));d.displayName="CardContent",t.forwardRef(({className:e,...t},s)=>(0,a.jsx)("div",{ref:s,className:(0,r.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter",e.s(["Card",()=>s,"CardContent",()=>d,"CardDescription",()=>n,"CardHeader",()=>l,"CardTitle",()=>i])},87486,e=>{"use strict";var a=e.i(43476),t=e.i(25913),r=e.i(75157);let s=(0,t.cva)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-emerald-100 text-emerald-700 dark:bg-emerald-950 dark:text-emerald-400",warning:"border-transparent bg-amber-100 text-amber-700 dark:bg-amber-950 dark:text-amber-400",error:"border-transparent bg-red-100 text-red-700 dark:bg-red-950 dark:text-red-400",info:"border-transparent bg-blue-100 text-blue-700 dark:bg-blue-950 dark:text-blue-400",super_admin:"border-transparent bg-purple-100 text-purple-700 dark:bg-purple-950 dark:text-purple-400",admin_klinik:"border-transparent bg-blue-100 text-blue-700 dark:bg-blue-950 dark:text-blue-400",dokter:"border-transparent bg-green-100 text-green-700 dark:bg-green-950 dark:text-green-400",perawat:"border-transparent bg-teal-100 text-teal-700 dark:bg-teal-950 dark:text-teal-400",kasir:"border-transparent bg-orange-100 text-orange-700 dark:bg-orange-950 dark:text-orange-400",apoteker:"border-transparent bg-emerald-100 text-emerald-700 dark:bg-emerald-950 dark:text-emerald-400",pasien:"border-transparent bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-400"}},defaultVariants:{variant:"default"}});function l({className:e,variant:t,...l}){return(0,a.jsx)("div",{className:(0,r.cn)(s({variant:t}),e),...l})}e.s(["Badge",()=>l])},76639,26999,e=>{"use strict";let a,t;var r,s=e.i(43476),l=e.i(71645),i=e.i(81140),n=e.i(20783),d=e.i(10772),o=e.i(69340),c=e.i(26330),u=e.i(65491),m=e.i(74606),p=e.i(96626);function x(e){var a;let t,r=(a=e,(t=l.forwardRef((e,a)=>{let{children:t,...r}=e;if(l.isValidElement(t)){var s;let e,i,d=(s=t,(i=(e=Object.getOwnPropertyDescriptor(s.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?s.ref:(i=(e=Object.getOwnPropertyDescriptor(s,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?s.props.ref:s.props.ref||s.ref),o=function(e,a){let t={...a};for(let r in a){let s=e[r],l=a[r];/^on[A-Z]/.test(r)?s&&l?t[r]=(...e)=>{let a=l(...e);return s(...e),a}:s&&(t[r]=s):"style"===r?t[r]={...s,...l}:"className"===r&&(t[r]=[s,l].filter(Boolean).join(" "))}return{...e,...t}}(r,t.props);return t.type!==l.Fragment&&(o.ref=a?(0,n.composeRefs)(a,d):d),l.cloneElement(t,o)}return l.Children.count(t)>1?l.Children.only(null):null})).displayName=`${a}.SlotClone`,t),i=l.forwardRef((e,a)=>{let{children:t,...i}=e,n=l.Children.toArray(t),d=n.find(g);if(d){let e=d.props.children,t=n.map(a=>a!==d?a:l.Children.count(e)>1?l.Children.only(null):l.isValidElement(e)?e.props.children:null);return(0,s.jsx)(r,{...i,ref:a,children:l.isValidElement(e)?l.cloneElement(e,void 0,t):null})}return(0,s.jsx)(r,{...i,ref:a,children:t})});return i.displayName=`${e}.Slot`,i}e.i(74080);var h=Symbol("radix.slottable");function g(e){return l.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===h}var f=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,a)=>{let t=x(`Primitive.${a}`),r=l.forwardRef((e,r)=>{let{asChild:l,...i}=e;return"u">typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,s.jsx)(l?t:a,{...i,ref:r})});return r.displayName=`Primitive.${a}`,{...e,[a]:r}},{}),j=e.i(3536),b=e.i(85369),y=e.i(86312),v="Dialog",[N,w]=function(e,a=[]){let t=[],r=()=>{let a=t.map(e=>l.createContext(e));return function(t){let r=t?.[e]||a;return l.useMemo(()=>({[`__scope${e}`]:{...t,[e]:r}}),[t,r])}};return r.scopeName=e,[function(a,r){let i=l.createContext(r),n=t.length;t=[...t,r];let d=a=>{let{scope:t,children:r,...d}=a,o=t?.[e]?.[n]||i,c=l.useMemo(()=>d,Object.values(d));return(0,s.jsx)(o.Provider,{value:c,children:r})};return d.displayName=a+"Provider",[d,function(t,s){let d=s?.[e]?.[n]||i,o=l.useContext(d);if(o)return o;if(void 0!==r)return r;throw Error(`\`${t}\` must be used within \`${a}\``)}]},function(...e){let a=e[0];if(1===e.length)return a;let t=()=>{let t=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let r=t.reduce((a,{useScope:t,scopeName:r})=>{let s=t(e)[`__scope${r}`];return{...a,...s}},{});return l.useMemo(()=>({[`__scope${a.scopeName}`]:r}),[r])}};return t.scopeName=a.scopeName,t}(r,...a)]}(v),[_,C]=N(v),S=e=>{let{__scopeDialog:a,children:t,open:r,defaultOpen:i,onOpenChange:n,modal:c=!0}=e,u=l.useRef(null),m=l.useRef(null),[p,x]=(0,o.useControllableState)({prop:r,defaultProp:i??!1,onChange:n,caller:v});return(0,s.jsx)(_,{scope:a,triggerRef:u,contentRef:m,contentId:(0,d.useId)(),titleId:(0,d.useId)(),descriptionId:(0,d.useId)(),open:p,onOpenChange:x,onOpenToggle:l.useCallback(()=>x(e=>!e),[x]),modal:c,children:t})};S.displayName=v;var k="DialogTrigger",D=l.forwardRef((e,a)=>{let{__scopeDialog:t,...r}=e,l=C(k,t),d=(0,n.useComposedRefs)(a,l.triggerRef);return(0,s.jsx)(f.button,{type:"button","aria-haspopup":"dialog","aria-expanded":l.open,"aria-controls":l.contentId,"data-state":X(l.open),...r,ref:d,onClick:(0,i.composeEventHandlers)(e.onClick,l.onOpenToggle)})});D.displayName=k;var T="DialogPortal",[O,P]=N(T,{forceMount:void 0}),R=e=>{let{__scopeDialog:a,forceMount:t,children:r,container:i}=e,n=C(T,a);return(0,s.jsx)(O,{scope:a,forceMount:t,children:l.Children.map(r,e=>(0,s.jsx)(p.Presence,{present:t||n.open,children:(0,s.jsx)(m.Portal,{asChild:!0,container:i,children:e})}))})};R.displayName=T;var A="DialogOverlay",I=l.forwardRef((e,a)=>{let t=P(A,e.__scopeDialog),{forceMount:r=t.forceMount,...l}=e,i=C(A,e.__scopeDialog);return i.modal?(0,s.jsx)(p.Presence,{present:r||i.open,children:(0,s.jsx)(F,{...l,ref:a})}):null});I.displayName=A;var M=x("DialogOverlay.RemoveScroll"),F=l.forwardRef((e,a)=>{let{__scopeDialog:t,...r}=e,l=C(A,t);return(0,s.jsx)(b.RemoveScroll,{as:M,allowPinchZoom:!0,shards:[l.contentRef],children:(0,s.jsx)(f.div,{"data-state":X(l.open),...r,ref:a,style:{pointerEvents:"auto",...r.style}})})}),H="DialogContent",E=l.forwardRef((e,a)=>{let t=P(H,e.__scopeDialog),{forceMount:r=t.forceMount,...l}=e,i=C(H,e.__scopeDialog);return(0,s.jsx)(p.Presence,{present:r||i.open,children:i.modal?(0,s.jsx)(B,{...l,ref:a}):(0,s.jsx)(z,{...l,ref:a})})});E.displayName=H;var B=l.forwardRef((e,a)=>{let t=C(H,e.__scopeDialog),r=l.useRef(null),d=(0,n.useComposedRefs)(a,t.contentRef,r);return l.useEffect(()=>{let e=r.current;if(e)return(0,y.hideOthers)(e)},[]),(0,s.jsx)(L,{...e,ref:d,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,i.composeEventHandlers)(e.onCloseAutoFocus,e=>{e.preventDefault(),t.triggerRef.current?.focus()}),onPointerDownOutside:(0,i.composeEventHandlers)(e.onPointerDownOutside,e=>{let a=e.detail.originalEvent,t=0===a.button&&!0===a.ctrlKey;(2===a.button||t)&&e.preventDefault()}),onFocusOutside:(0,i.composeEventHandlers)(e.onFocusOutside,e=>e.preventDefault())})}),z=l.forwardRef((e,a)=>{let t=C(H,e.__scopeDialog),r=l.useRef(!1),i=l.useRef(!1);return(0,s.jsx)(L,{...e,ref:a,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{e.onCloseAutoFocus?.(a),a.defaultPrevented||(r.current||t.triggerRef.current?.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{e.onInteractOutside?.(a),a.defaultPrevented||(r.current=!0,"pointerdown"===a.detail.originalEvent.type&&(i.current=!0));let s=a.target;t.triggerRef.current?.contains(s)&&a.preventDefault(),"focusin"===a.detail.originalEvent.type&&i.current&&a.preventDefault()}})}),L=l.forwardRef((e,a)=>{let{__scopeDialog:t,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:d,...o}=e,m=C(H,t),p=l.useRef(null),x=(0,n.useComposedRefs)(a,p);return(0,j.useFocusGuards)(),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(u.FocusScope,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:d,children:(0,s.jsx)(c.DismissableLayer,{role:"dialog",id:m.contentId,"aria-describedby":m.descriptionId,"aria-labelledby":m.titleId,"data-state":X(m.open),...o,ref:x,onDismiss:()=>m.onOpenChange(!1)})}),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(Q,{titleId:m.titleId}),(0,s.jsx)(Y,{contentRef:p,descriptionId:m.descriptionId})]})]})}),$="DialogTitle",V=l.forwardRef((e,a)=>{let{__scopeDialog:t,...r}=e,l=C($,t);return(0,s.jsx)(f.h2,{id:l.titleId,...r,ref:a})});V.displayName=$;var q="DialogDescription",G=l.forwardRef((e,a)=>{let{__scopeDialog:t,...r}=e,l=C(q,t);return(0,s.jsx)(f.p,{id:l.descriptionId,...r,ref:a})});G.displayName=q;var U="DialogClose",W=l.forwardRef((e,a)=>{let{__scopeDialog:t,...r}=e,l=C(U,t);return(0,s.jsx)(f.button,{type:"button",...r,ref:a,onClick:(0,i.composeEventHandlers)(e.onClick,()=>l.onOpenChange(!1))})});function X(e){return e?"open":"closed"}W.displayName=U;var K="DialogTitleWarning",[J,Z]=(r={contentName:H,titleName:$,docsSlug:"dialog"},a=l.createContext(r),(t=e=>{let{children:t,...r}=e,i=l.useMemo(()=>r,Object.values(r));return(0,s.jsx)(a.Provider,{value:i,children:t})}).displayName=K+"Provider",[t,function(e){let t=l.useContext(a);if(t)return t;if(void 0!==r)return r;throw Error(`\`${e}\` must be used within \`${K}\``)}]),Q=({titleId:e})=>{let a=Z(K),t=`\`${a.contentName}\` requires a \`${a.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${a.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${a.docsSlug}`;return l.useEffect(()=>{e&&(document.getElementById(e)||console.error(t))},[t,e]),null},Y=({contentRef:e,descriptionId:a})=>{let t=Z("DialogDescriptionWarning"),r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${t.contentName}}.`;return l.useEffect(()=>{let t=e.current?.getAttribute("aria-describedby");a&&t&&(document.getElementById(a)||console.warn(r))},[r,e,a]),null};e.s(["Close",()=>W,"Content",()=>E,"Description",()=>G,"Overlay",()=>I,"Portal",()=>R,"Root",()=>S,"Title",()=>V,"Trigger",()=>D,"WarningProvider",()=>J,"createDialogScope",()=>w],26999);var ee=e.i(37727),ea=e.i(75157);let et=l.forwardRef(({className:e,...a},t)=>(0,s.jsx)(I,{ref:t,className:(0,ea.cn)("fixed inset-0 z-50 bg-black/50 backdrop-blur-sm","data-[state=open]:animate-in data-[state=closed]:animate-out","data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...a}));et.displayName=I.displayName;let er=l.forwardRef(({className:e,children:a,showNeonBorder:t=!0,...r},l)=>(0,s.jsx)(R,{children:(0,s.jsx)(et,{className:"flex items-center justify-center p-4",children:(0,s.jsxs)(E,{ref:l,className:(0,ea.cn)("relative z-50 w-full max-w-lg","data-[state=open]:animate-in data-[state=closed]:animate-out","data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0","data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95",e),...r,children:[t&&(0,s.jsx)("div",{className:"neon-border-glow"}),(0,s.jsxs)("div",{className:(0,ea.cn)("relative bg-background border border-border rounded-2xl p-6 shadow-2xl","max-h-[85vh] overflow-y-auto","grid gap-4"),children:[a,(0,s.jsxs)(W,{className:"absolute right-4 top-4 rounded-full p-1.5 opacity-70 ring-offset-background transition-all hover:opacity-100 hover:bg-muted focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[(0,s.jsx)(ee.X,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})})}));er.displayName=E.displayName;let es=({className:e,...a})=>(0,s.jsx)("div",{className:(0,ea.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...a});es.displayName="DialogHeader";let el=({className:e,...a})=>(0,s.jsx)("div",{className:(0,ea.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...a});el.displayName="DialogFooter";let ei=l.forwardRef(({className:e,...a},t)=>(0,s.jsx)(V,{ref:t,className:(0,ea.cn)("text-lg font-semibold leading-none tracking-tight",e),...a}));ei.displayName=V.displayName;let en=l.forwardRef(({className:e,...a},t)=>(0,s.jsx)(G,{ref:t,className:(0,ea.cn)("text-sm text-muted-foreground",e),...a}));en.displayName=G.displayName,e.s(["Dialog",()=>S,"DialogContent",()=>er,"DialogDescription",()=>en,"DialogFooter",()=>el,"DialogHeader",()=>es,"DialogTitle",()=>ei],76639)},84774,e=>{"use strict";var a=e.i(43476),t=e.i(71645),r=e.i(75157);let s=t.forwardRef(({className:e,...t},s)=>(0,a.jsx)("div",{className:"relative w-full overflow-auto",children:(0,a.jsx)("table",{ref:s,className:(0,r.cn)("w-full caption-bottom text-sm",e),...t})}));s.displayName="Table";let l=t.forwardRef(({className:e,...t},s)=>(0,a.jsx)("thead",{ref:s,className:(0,r.cn)("[&_tr]:border-b",e),...t}));l.displayName="TableHeader";let i=t.forwardRef(({className:e,...t},s)=>(0,a.jsx)("tbody",{ref:s,className:(0,r.cn)("[&_tr:last-child]:border-0",e),...t}));i.displayName="TableBody",t.forwardRef(({className:e,...t},s)=>(0,a.jsx)("tfoot",{ref:s,className:(0,r.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t})).displayName="TableFooter";let n=t.forwardRef(({className:e,...t},s)=>(0,a.jsx)("tr",{ref:s,className:(0,r.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));n.displayName="TableRow";let d=t.forwardRef(({className:e,...t},s)=>(0,a.jsx)("th",{ref:s,className:(0,r.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));d.displayName="TableHead";let o=t.forwardRef(({className:e,...t},s)=>(0,a.jsx)("td",{ref:s,className:(0,r.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));o.displayName="TableCell",t.forwardRef(({className:e,...t},s)=>(0,a.jsx)("caption",{ref:s,className:(0,r.cn)("mt-4 text-sm text-muted-foreground",e),...t})).displayName="TableCaption",e.s(["Table",()=>s,"TableBody",()=>i,"TableCell",()=>o,"TableHead",()=>d,"TableHeader",()=>l,"TableRow",()=>n])},41071,e=>{"use strict";let a=(0,e.i(75254).default)("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);e.s(["MoreHorizontal",()=>a],41071)},27612,e=>{"use strict";let a=(0,e.i(75254).default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);e.s(["Trash2",()=>a],27612)},26224,e=>{"use strict";e.s(["GR_STATUS_COLORS",0,{draft:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300",completed:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",cancelled:"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300"},"GR_STATUS_LABELS",0,{draft:"Draft",completed:"Selesai",cancelled:"Dibatalkan"},"MOVEMENT_REASON_LABELS",0,{purchase:"Pembelian",sales:"Penjualan/Penyerahan",adjustment_plus:"Penyesuaian (+)",adjustment_minus:"Penyesuaian (-)",return_supplier:"Retur ke Supplier",return_patient:"Retur dari Pasien",expired:"Kadaluarsa",damage:"Rusak/Pecah",transfer_in:"Mutasi Masuk",transfer_out:"Mutasi Keluar",initial_stock:"Stok Awal",other:"Lainnya"},"PO_STATUS_COLORS",0,{draft:"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300",pending_approval:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300",approved:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300",rejected:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300",ordered:"bg-indigo-100 text-indigo-800 dark:bg-indigo-900 dark:text-indigo-300",partial_received:"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-300",completed:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",cancelled:"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300"},"PO_STATUS_LABELS",0,{draft:"Draft",pending_approval:"Menunggu Persetujuan",approved:"Disetujui",rejected:"Ditolak",ordered:"Dipesan",partial_received:"Diterima Sebagian",completed:"Selesai",cancelled:"Dibatalkan"}])},68499,e=>{"use strict";let a;var t=e.i(43476),r=e.i(71645),s=e.i(20783),l=e.i(26999),i=e.i(81140),n=Symbol("radix.slottable"),d="AlertDialog",[o,c]=function(e,a=[]){let s=[],l=()=>{let a=s.map(e=>r.createContext(e));return function(t){let s=t?.[e]||a;return r.useMemo(()=>({[`__scope${e}`]:{...t,[e]:s}}),[t,s])}};return l.scopeName=e,[function(a,l){let i=r.createContext(l),n=s.length;s=[...s,l];let d=a=>{let{scope:s,children:l,...d}=a,o=s?.[e]?.[n]||i,c=r.useMemo(()=>d,Object.values(d));return(0,t.jsx)(o.Provider,{value:c,children:l})};return d.displayName=a+"Provider",[d,function(t,s){let d=s?.[e]?.[n]||i,o=r.useContext(d);if(o)return o;if(void 0!==l)return l;throw Error(`\`${t}\` must be used within \`${a}\``)}]},function(...e){let a=e[0];if(1===e.length)return a;let t=()=>{let t=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let s=t.reduce((a,{useScope:t,scopeName:r})=>{let s=t(e)[`__scope${r}`];return{...a,...s}},{});return r.useMemo(()=>({[`__scope${a.scopeName}`]:s}),[s])}};return t.scopeName=a.scopeName,t}(l,...a)]}(d,[l.createDialogScope]),u=(0,l.createDialogScope)(),m=e=>{let{__scopeAlertDialog:a,...r}=e,s=u(a);return(0,t.jsx)(l.Root,{...s,...r,modal:!0})};m.displayName=d,r.forwardRef((e,a)=>{let{__scopeAlertDialog:r,...s}=e,i=u(r);return(0,t.jsx)(l.Trigger,{...i,...s,ref:a})}).displayName="AlertDialogTrigger";var p=e=>{let{__scopeAlertDialog:a,...r}=e,s=u(a);return(0,t.jsx)(l.Portal,{...s,...r})};p.displayName="AlertDialogPortal";var x=r.forwardRef((e,a)=>{let{__scopeAlertDialog:r,...s}=e,i=u(r);return(0,t.jsx)(l.Overlay,{...i,...s,ref:a})});x.displayName="AlertDialogOverlay";var h="AlertDialogContent",[g,f]=o(h),j=((a=({children:e})=>(0,t.jsx)(t.Fragment,{children:e})).displayName="AlertDialogContent.Slottable",a.__radixId=n,a),b=r.forwardRef((e,a)=>{let{__scopeAlertDialog:n,children:d,...o}=e,c=u(n),m=r.useRef(null),p=(0,s.useComposedRefs)(a,m),x=r.useRef(null);return(0,t.jsx)(l.WarningProvider,{contentName:h,titleName:y,docsSlug:"alert-dialog",children:(0,t.jsx)(g,{scope:n,cancelRef:x,children:(0,t.jsxs)(l.Content,{role:"alertdialog",...c,...o,ref:p,onOpenAutoFocus:(0,i.composeEventHandlers)(o.onOpenAutoFocus,e=>{e.preventDefault(),x.current?.focus({preventScroll:!0})}),onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:[(0,t.jsx)(j,{children:d}),(0,t.jsx)(k,{contentRef:m})]})})})});b.displayName=h;var y="AlertDialogTitle",v=r.forwardRef((e,a)=>{let{__scopeAlertDialog:r,...s}=e,i=u(r);return(0,t.jsx)(l.Title,{...i,...s,ref:a})});v.displayName=y;var N="AlertDialogDescription",w=r.forwardRef((e,a)=>{let{__scopeAlertDialog:r,...s}=e,i=u(r);return(0,t.jsx)(l.Description,{...i,...s,ref:a})});w.displayName=N;var _=r.forwardRef((e,a)=>{let{__scopeAlertDialog:r,...s}=e,i=u(r);return(0,t.jsx)(l.Close,{...i,...s,ref:a})});_.displayName="AlertDialogAction";var C="AlertDialogCancel",S=r.forwardRef((e,a)=>{let{__scopeAlertDialog:r,...i}=e,{cancelRef:n}=f(C,r),d=u(r),o=(0,s.useComposedRefs)(a,n);return(0,t.jsx)(l.Close,{...d,...i,ref:o})});S.displayName=C;var k=({contentRef:e})=>{let a=`\`${h}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${h}\` by passing a \`${N}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${h}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return r.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(a)},[a,e]),null},D=e.i(75157),T=e.i(19455);let O=r.forwardRef(({className:e,...a},r)=>(0,t.jsx)(x,{className:(0,D.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...a,ref:r}));O.displayName=x.displayName;let P=r.forwardRef(({className:e,...a},r)=>(0,t.jsxs)(p,{children:[(0,t.jsx)(O,{}),(0,t.jsx)(b,{ref:r,className:(0,D.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...a})]}));P.displayName=b.displayName;let R=({className:e,...a})=>(0,t.jsx)("div",{className:(0,D.cn)("flex flex-col space-y-2 text-center sm:text-left",e),...a});R.displayName="AlertDialogHeader";let A=({className:e,...a})=>(0,t.jsx)("div",{className:(0,D.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...a});A.displayName="AlertDialogFooter";let I=r.forwardRef(({className:e,...a},r)=>(0,t.jsx)(v,{ref:r,className:(0,D.cn)("text-lg font-semibold",e),...a}));I.displayName=v.displayName;let M=r.forwardRef(({className:e,...a},r)=>(0,t.jsx)(w,{ref:r,className:(0,D.cn)("text-sm text-muted-foreground",e),...a}));M.displayName=w.displayName;let F=r.forwardRef(({className:e,...a},r)=>(0,t.jsx)(_,{ref:r,className:(0,D.cn)((0,T.buttonVariants)(),e),...a}));F.displayName=_.displayName;let H=r.forwardRef(({className:e,...a},r)=>(0,t.jsx)(S,{ref:r,className:(0,D.cn)((0,T.buttonVariants)({variant:"outline"}),"mt-2 sm:mt-0",e),...a}));H.displayName=S.displayName,e.s(["AlertDialog",()=>m,"AlertDialogAction",()=>F,"AlertDialogCancel",()=>H,"AlertDialogContent",()=>P,"AlertDialogDescription",()=>M,"AlertDialogFooter",()=>A,"AlertDialogHeader",()=>R,"AlertDialogTitle",()=>I],68499)},2205,e=>{"use strict";var a=e.i(43476),t=e.i(71645),r=e.i(53145),s=e.i(94814),l=e.i(50270),i=e.i(1851),n=e.i(42956),d=e.i(7233),o=e.i(55436),c=e.i(97548),u=e.i(41071),m=e.i(86536),p=e.i(88699),x=e.i(27612);let h=(0,e.i(75254).default)("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);var g=e.i(69638),f=e.i(73884),j=e.i(1928),b=e.i(88844),y=e.i(78583),v=e.i(31278),N=e.i(37727),w=e.i(46696),_=e.i(19455),C=e.i(93479),S=e.i(10204),k=e.i(24687),D=e.i(87486),T=e.i(15288),O=e.i(84774),P=e.i(76639),R=e.i(55146),A=e.i(67489),I=e.i(68499),M=e.i(58512),F=e.i(2747),H=e.i(45983),E=e.i(26224);let B=l.z.object({medicine_id:l.z.number().min(1,"Pilih obat"),quantity:l.z.number().min(1,"Jumlah minimal 1"),unit:l.z.string().min(1,"Unit harus diisi"),unit_price:l.z.number().min(0,"Harga tidak boleh negatif"),discount_percent:l.z.number().min(0).max(100).optional(),tax_percent:l.z.number().min(0).max(100).optional(),notes:l.z.string().optional()}),z=l.z.object({supplier_id:l.z.number().min(1,"Pilih supplier"),order_date:l.z.string().min(1,"Tanggal order harus diisi"),expected_delivery_date:l.z.string().optional(),notes:l.z.string().optional(),items:l.z.array(B).min(1,"Minimal 1 item")});function L(){let e,[l,B]=(0,t.useState)([]),[L,$]=(0,t.useState)(null),[V,q]=(0,t.useState)([]),[G,U]=(0,t.useState)([]),[W,X]=(0,t.useState)(!0),[K,J]=(0,t.useState)(!0),[Z,Q]=(0,t.useState)(1),[Y,ee]=(0,t.useState)(1),[ea,et]=(0,t.useState)(0),[er,es]=(0,t.useState)({search:"",status:"all",supplier_id:void 0,page:1,per_page:10}),[el,ei]=(0,t.useState)(!1),[en,ed]=(0,t.useState)(!1),[eo,ec]=(0,t.useState)(!1),[eu,em]=(0,t.useState)(!1),[ep,ex]=(0,t.useState)(!1),[eh,eg]=(0,t.useState)(!1),[ef,ej]=(0,t.useState)(null),[eb,ey]=(0,t.useState)(!1),[ev,eN]=(0,t.useState)(""),[ew,e_]=(0,t.useState)(""),eC=(0,r.useForm)({resolver:(0,s.zodResolver)(z),defaultValues:{supplier_id:0,order_date:(0,i.format)(new Date,"yyyy-MM-dd"),expected_delivery_date:"",notes:"",items:[{medicine_id:0,quantity:1,unit:"",unit_price:0,discount_percent:0,tax_percent:0,notes:""}]}}),{fields:eS,append:ek,remove:eD}=(0,r.useFieldArray)({control:eC.control,name:"items"}),eT=(0,t.useCallback)(async()=>{X(!0);try{let e=await H.purchaseOrderService.getPurchaseOrders({...er,page:Z});B(e.data),ee(e.last_page),et(e.total)}catch(e){console.error("Error fetching purchase orders:",e),w.toast.error("Gagal memuat data purchase order")}finally{X(!1)}},[er,Z]),eO=async()=>{J(!0);try{let e=await H.purchaseOrderService.getPurchaseOrderStats();$(e)}catch(e){console.error("Error fetching stats:",e)}finally{J(!1)}},eP=async()=>{try{let e=await H.supplierService.getActiveSuppliers();q(e.data)}catch(e){console.error("Error fetching suppliers:",e)}},eR=async()=>{try{let e=await H.medicineService.getMedicines({status:"active",per_page:1e3});console.log("Medicines data:",e.data),U(e.data)}catch(e){console.error("Error fetching medicines:",e)}};(0,t.useEffect)(()=>{eT(),eO(),eP(),eR()},[eT]);let eA=async e=>{if(e)try{let a=await H.purchaseOrderService.getPurchaseOrderById(e.id);ej(a),eC.reset({supplier_id:a.supplier_id,order_date:a.order_date,expected_delivery_date:a.expected_delivery_date||"",notes:a.notes||"",items:a.items?.map(e=>({medicine_id:e.medicine_id,quantity:e.quantity,unit:e.unit,unit_price:e.unit_price,discount_percent:e.discount_percent,tax_percent:e.tax_percent,notes:e.notes||""}))||[]}),ed(!0)}catch(e){w.toast.error("Gagal memuat detail PO")}else ej(null),eC.reset({supplier_id:0,order_date:(0,i.format)(new Date,"yyyy-MM-dd"),expected_delivery_date:"",notes:"",items:[{medicine_id:0,quantity:1,unit:"",unit_price:0,discount_percent:0,tax_percent:0,notes:""}]}),ed(!0)},eI=async e=>{try{let a=await H.purchaseOrderService.getPurchaseOrderById(e.id);ej(a),ec(!0)}catch(e){w.toast.error("Gagal memuat detail PO")}},eM=async e=>{ey(!0);try{let a={supplier_id:e.supplier_id,order_date:e.order_date,expected_delivery_date:e.expected_delivery_date||void 0,notes:e.notes||void 0,items:e.items.map(e=>({medicine_id:e.medicine_id,quantity:e.quantity,unit:e.unit,unit_price:e.unit_price,discount_percent:e.discount_percent,tax_percent:e.tax_percent,notes:e.notes}))};ef?(await H.purchaseOrderService.updatePurchaseOrder(ef.id,a),w.toast.success("Purchase order berhasil diupdate")):(await H.purchaseOrderService.createPurchaseOrder(a),w.toast.success("Purchase order berhasil dibuat")),ed(!1),eT(),eO()}catch(e){w.toast.error(e?.response?.data?.message||"Gagal menyimpan purchase order")}finally{ey(!1)}},eF=async()=>{if(ef){ey(!0);try{await H.purchaseOrderService.deletePurchaseOrder(ef.id),w.toast.success("Purchase order berhasil dihapus"),em(!1),ej(null),eT(),eO()}catch(e){w.toast.error(e?.response?.data?.message||"Gagal menghapus purchase order")}finally{ey(!1)}}},eH=async e=>{try{await H.purchaseOrderService.submitForApproval(e.id),w.toast.success("PO berhasil diajukan untuk persetujuan"),eT(),eO()}catch(e){w.toast.error(e?.response?.data?.message||"Gagal mengajukan PO")}},eE=async()=>{if(ef){ey(!0);try{await H.purchaseOrderService.approve(ef.id,ew||void 0),w.toast.success("PO berhasil disetujui"),ex(!1),ej(null),e_(""),eT(),eO()}catch(e){w.toast.error(e?.response?.data?.message||"Gagal menyetujui PO")}finally{ey(!1)}}},eB=async()=>{if(ef&&ev){ey(!0);try{await H.purchaseOrderService.reject(ef.id,ev),w.toast.success("PO berhasil ditolak"),eg(!1),ej(null),eN(""),eT(),eO()}catch(e){w.toast.error(e?.response?.data?.message||"Gagal menolak PO")}finally{ey(!1)}}},ez=async e=>{try{await H.purchaseOrderService.markAsOrdered(e.id),w.toast.success("Status PO berhasil diubah menjadi dipesan"),eT(),eO()}catch(e){w.toast.error(e?.response?.data?.message||"Gagal mengubah status PO")}},eL=async e=>{try{await H.purchaseOrderService.cancel(e.id),w.toast.success("PO berhasil dibatalkan"),eT(),eO()}catch(e){w.toast.error(e?.response?.data?.message||"Gagal membatalkan PO")}},e$=e=>{let a=eC.watch(`items.${e}`);if(!a)return 0;let t=Number(a.quantity)||0,r=Number(a.unit_price)||0,s=Number(a.discount_percent)||0,l=Number(a.tax_percent)||0,i=t*r,n=i-s/100*i;return n+l/100*n},eV=e=>{let a=Number(e)||0;return new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(a)},eq=e=>(0,a.jsx)(D.Badge,{className:E.PO_STATUS_COLORS[e],children:E.PO_STATUS_LABELS[e]});return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold tracking-tight",children:"Purchase Order"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Kelola pesanan pembelian obat ke supplier"})]}),(0,a.jsxs)(_.Button,{onClick:()=>eA(),children:[(0,a.jsx)(d.Plus,{className:"mr-2 h-4 w-4"}),"Buat PO Baru"]})]}),(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-4",children:[(0,a.jsxs)(T.Card,{children:[(0,a.jsxs)(T.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(T.CardTitle,{className:"text-sm font-medium",children:"Total PO"}),(0,a.jsx)(y.FileText,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsx)(T.CardContent,{children:K?(0,a.jsx)(F.Skeleton,{className:"h-8 w-20"}):(0,a.jsx)("div",{className:"text-2xl font-bold",children:L?.total||0})})]}),(0,a.jsxs)(T.Card,{children:[(0,a.jsxs)(T.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(T.CardTitle,{className:"text-sm font-medium",children:"Menunggu Approval"}),(0,a.jsx)(j.ShoppingCart,{className:"h-4 w-4 text-yellow-500"})]}),(0,a.jsx)(T.CardContent,{children:K?(0,a.jsx)(F.Skeleton,{className:"h-8 w-20"}):(0,a.jsx)("div",{className:"text-2xl font-bold text-yellow-600",children:L?.pending_approval||0})})]}),(0,a.jsxs)(T.Card,{children:[(0,a.jsxs)(T.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(T.CardTitle,{className:"text-sm font-medium",children:"Perlu Diterima"}),(0,a.jsx)(b.Package,{className:"h-4 w-4 text-blue-500"})]}),(0,a.jsx)(T.CardContent,{children:K?(0,a.jsx)(F.Skeleton,{className:"h-8 w-20"}):(0,a.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:(L?.ordered||0)+(L?.partial_received||0)})})]}),(0,a.jsxs)(T.Card,{children:[(0,a.jsxs)(T.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(T.CardTitle,{className:"text-sm font-medium",children:"Nilai Bulan Ini"}),(0,a.jsx)(y.FileText,{className:"h-4 w-4 text-green-500"})]}),(0,a.jsx)(T.CardContent,{children:K?(0,a.jsx)(F.Skeleton,{className:"h-8 w-20"}):(0,a.jsx)("div",{className:"text-2xl font-bold text-green-600",children:eV(L?.total_value_this_month||0)})})]})]}),(0,a.jsx)(T.Card,{children:(0,a.jsxs)(T.CardContent,{className:"pt-6",children:[(0,a.jsx)("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:(0,a.jsxs)("div",{className:"flex flex-1 items-center gap-2",children:[(0,a.jsxs)("div",{className:"relative flex-1 md:max-w-sm",children:[(0,a.jsx)(o.Search,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),(0,a.jsx)(C.Input,{placeholder:"Cari no. PO...",value:er.search,onChange:e=>{var a;return a=e.target.value,void(es(e=>({...e,search:a})),Q(1))},className:"pl-9"})]}),(0,a.jsx)(_.Button,{variant:"outline",size:"icon",onClick:()=>ei(!el),children:(0,a.jsx)(c.Filter,{className:"h-4 w-4"})})]})}),el&&(0,a.jsxs)("div",{className:"mt-4 grid gap-4 md:grid-cols-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(S.Label,{children:"Status"}),(0,a.jsxs)(A.Select,{value:er.status||"all",onValueChange:e=>{es(a=>({...a,status:e})),Q(1)},children:[(0,a.jsx)(A.SelectTrigger,{children:(0,a.jsx)(A.SelectValue,{placeholder:"Semua Status"})}),(0,a.jsxs)(A.SelectContent,{children:[(0,a.jsx)(A.SelectItem,{value:"all",children:"Semua Status"}),(0,a.jsx)(A.SelectItem,{value:"draft",children:"Draft"}),(0,a.jsx)(A.SelectItem,{value:"pending_approval",children:"Menunggu Approval"}),(0,a.jsx)(A.SelectItem,{value:"approved",children:"Disetujui"}),(0,a.jsx)(A.SelectItem,{value:"rejected",children:"Ditolak"}),(0,a.jsx)(A.SelectItem,{value:"ordered",children:"Dipesan"}),(0,a.jsx)(A.SelectItem,{value:"partial_received",children:"Diterima Sebagian"}),(0,a.jsx)(A.SelectItem,{value:"completed",children:"Selesai"}),(0,a.jsx)(A.SelectItem,{value:"cancelled",children:"Dibatalkan"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(S.Label,{children:"Supplier"}),(0,a.jsxs)(A.Select,{value:er.supplier_id?.toString()||"all",onValueChange:e=>{es(a=>({...a,supplier_id:e&&"all"!==e?parseInt(e):void 0})),Q(1)},children:[(0,a.jsx)(A.SelectTrigger,{children:(0,a.jsx)(A.SelectValue,{placeholder:"Semua Supplier"})}),(0,a.jsxs)(A.SelectContent,{children:[(0,a.jsx)(A.SelectItem,{value:"all",children:"Semua Supplier"}),V.map(e=>(0,a.jsx)(A.SelectItem,{value:e.id.toString(),children:e.name},e.id))]})]})]}),(0,a.jsx)("div",{className:"flex items-end",children:(0,a.jsxs)(_.Button,{variant:"outline",size:"sm",onClick:()=>{es({search:"",status:"all",supplier_id:void 0,page:1,per_page:10}),Q(1)},children:[(0,a.jsx)(N.X,{className:"mr-2 h-4 w-4"}),"Reset Filter"]})})]})]})}),(0,a.jsxs)(T.Card,{children:[(0,a.jsx)(T.CardContent,{className:"p-0",children:(0,a.jsxs)(O.Table,{children:[(0,a.jsx)(O.TableHeader,{children:(0,a.jsxs)(O.TableRow,{children:[(0,a.jsx)(O.TableHead,{children:"No. PO"}),(0,a.jsx)(O.TableHead,{children:"Tanggal"}),(0,a.jsx)(O.TableHead,{children:"Supplier"}),(0,a.jsx)(O.TableHead,{children:"Total"}),(0,a.jsx)(O.TableHead,{children:"Status"}),(0,a.jsx)(O.TableHead,{children:"Dibuat Oleh"}),(0,a.jsx)(O.TableHead,{className:"text-right",children:"Aksi"})]})}),(0,a.jsx)(O.TableBody,{children:W?[void 0,void 0,void 0,void 0,void 0].map((e,t)=>(0,a.jsx)(O.TableRow,{children:(0,a.jsx)(O.TableCell,{colSpan:7,children:(0,a.jsx)(F.Skeleton,{className:"h-12 w-full"})})},t)):0===l.length?(0,a.jsx)(O.TableRow,{children:(0,a.jsx)(O.TableCell,{colSpan:7,className:"text-center py-8",children:(0,a.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,a.jsx)(y.FileText,{className:"h-8 w-8 text-muted-foreground"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Belum ada purchase order"})]})})}):l.map(e=>(0,a.jsxs)(O.TableRow,{children:[(0,a.jsx)(O.TableCell,{className:"font-medium",children:e.po_number}),(0,a.jsx)(O.TableCell,{children:(0,i.format)(new Date(e.order_date),"dd MMM yyyy",{locale:n.id})}),(0,a.jsx)(O.TableCell,{children:e.supplier?.name||"-"}),(0,a.jsx)(O.TableCell,{children:eV(e.total_amount)}),(0,a.jsx)(O.TableCell,{children:eq(e.status)}),(0,a.jsx)(O.TableCell,{children:e.creator?.name||"-"}),(0,a.jsx)(O.TableCell,{className:"text-right",children:(0,a.jsxs)(R.DropdownMenu,{children:[(0,a.jsx)(R.DropdownMenuTrigger,{asChild:!0,children:(0,a.jsx)(_.Button,{variant:"ghost",size:"icon",children:(0,a.jsx)(u.MoreHorizontal,{className:"h-4 w-4"})})}),(0,a.jsxs)(R.DropdownMenuContent,{align:"end",children:[(0,a.jsx)(R.DropdownMenuLabel,{children:"Aksi"}),(0,a.jsx)(R.DropdownMenuSeparator,{}),(0,a.jsxs)(R.DropdownMenuItem,{onClick:()=>eI(e),children:[(0,a.jsx)(m.Eye,{className:"mr-2 h-4 w-4"}),"Lihat Detail"]}),"draft"===e.status&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(R.DropdownMenuItem,{onClick:()=>eA(e),children:[(0,a.jsx)(p.Pencil,{className:"mr-2 h-4 w-4"}),"Edit"]}),(0,a.jsxs)(R.DropdownMenuItem,{onClick:()=>eH(e),children:[(0,a.jsx)(h,{className:"mr-2 h-4 w-4"}),"Ajukan Approval"]}),(0,a.jsx)(R.DropdownMenuSeparator,{}),(0,a.jsxs)(R.DropdownMenuItem,{className:"text-red-600",onClick:()=>{ej(e),em(!0)},children:[(0,a.jsx)(x.Trash2,{className:"mr-2 h-4 w-4"}),"Hapus"]})]}),"pending_approval"===e.status&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(R.DropdownMenuItem,{onClick:()=>{ej(e),ex(!0)},children:[(0,a.jsx)(g.CheckCircle,{className:"mr-2 h-4 w-4 text-green-600"}),"Setujui"]}),(0,a.jsxs)(R.DropdownMenuItem,{onClick:()=>{ej(e),eg(!0)},children:[(0,a.jsx)(f.XCircle,{className:"mr-2 h-4 w-4 text-red-600"}),"Tolak"]})]}),"approved"===e.status&&(0,a.jsxs)(R.DropdownMenuItem,{onClick:()=>ez(e),children:[(0,a.jsx)(j.ShoppingCart,{className:"mr-2 h-4 w-4"}),"Tandai Sudah Dipesan"]}),["draft","pending_approval","approved"].includes(e.status)&&(0,a.jsxs)(R.DropdownMenuItem,{className:"text-red-600",onClick:()=>eL(e),children:[(0,a.jsx)(f.XCircle,{className:"mr-2 h-4 w-4"}),"Batalkan"]})]})]})})]},e.id))})]})}),Y>1&&(0,a.jsxs)("div",{className:"flex items-center justify-between px-4 py-4 border-t",children:[(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Menampilkan ",l.length," dari ",ea," data"]}),(0,a.jsx)(M.Pagination,{currentPage:Z,totalPages:Y,onPageChange:Q})]})]}),(0,a.jsx)(P.Dialog,{open:en,onOpenChange:ed,children:(0,a.jsxs)(P.DialogContent,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)(P.DialogHeader,{children:[(0,a.jsx)(P.DialogTitle,{children:ef?"Edit Purchase Order":"Buat Purchase Order Baru"}),(0,a.jsx)(P.DialogDescription,{children:ef?"Ubah data purchase order":"Buat pesanan pembelian obat ke supplier"})]}),(0,a.jsxs)("form",{onSubmit:eC.handleSubmit(eM),className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(S.Label,{htmlFor:"supplier_id",children:["Supplier ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsxs)(A.Select,{value:eC.watch("supplier_id")?.toString()||"",onValueChange:e=>eC.setValue("supplier_id",parseInt(e)),children:[(0,a.jsx)(A.SelectTrigger,{children:(0,a.jsx)(A.SelectValue,{placeholder:"Pilih Supplier"})}),(0,a.jsx)(A.SelectContent,{children:V.map(e=>(0,a.jsx)(A.SelectItem,{value:e.id.toString(),children:e.name},e.id))})]}),eC.formState.errors.supplier_id&&(0,a.jsx)("p",{className:"text-sm text-red-500",children:eC.formState.errors.supplier_id.message})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(S.Label,{htmlFor:"order_date",children:["Tanggal Order ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)(C.Input,{type:"date",...eC.register("order_date")}),eC.formState.errors.order_date&&(0,a.jsx)("p",{className:"text-sm text-red-500",children:eC.formState.errors.order_date.message})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(S.Label,{htmlFor:"expected_delivery_date",children:"Estimasi Pengiriman"}),(0,a.jsx)(C.Input,{type:"date",...eC.register("expected_delivery_date")})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(S.Label,{htmlFor:"notes",children:"Catatan"}),(0,a.jsx)(k.Textarea,{...eC.register("notes"),placeholder:"Catatan tambahan...",rows:2})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(S.Label,{children:"Item Pesanan"}),(0,a.jsxs)(_.Button,{type:"button",variant:"outline",size:"sm",onClick:()=>ek({medicine_id:0,quantity:1,unit:"",unit_price:0,discount_percent:0,tax_percent:0,notes:""}),children:[(0,a.jsx)(d.Plus,{className:"mr-2 h-4 w-4"}),"Tambah Item"]})]}),(0,a.jsx)("div",{className:"space-y-4",children:eS.map((e,t)=>(G.find(e=>e.id===eC.watch(`items.${t}.medicine_id`)),(0,a.jsx)(T.Card,{className:"p-4",children:(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-6",children:[(0,a.jsxs)("div",{className:"md:col-span-2 space-y-2",children:[(0,a.jsx)(S.Label,{children:"Obat"}),(0,a.jsxs)(A.Select,{value:eC.watch(`items.${t}.medicine_id`)?.toString()||"",onValueChange:e=>{let a=G.find(a=>a.id===parseInt(e));console.log("Selected medicine:",a),console.log("Purchase price:",a?.purchase_price),eC.setValue(`items.${t}.medicine_id`,parseInt(e)),a&&(eC.setValue(`items.${t}.unit`,a.unit||""),eC.setValue(`items.${t}.unit_price`,Number(a.purchase_price)||0))},children:[(0,a.jsx)(A.SelectTrigger,{children:(0,a.jsx)(A.SelectValue,{placeholder:"Pilih Obat"})}),(0,a.jsx)(A.SelectContent,{children:G.map(e=>(0,a.jsx)(A.SelectItem,{value:e.id.toString(),children:e.name},e.id))})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(S.Label,{children:"Jumlah"}),(0,a.jsx)(C.Input,{type:"number",min:"1",...eC.register(`items.${t}.quantity`,{valueAsNumber:!0})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(S.Label,{children:"Unit"}),(0,a.jsx)(C.Input,{...eC.register(`items.${t}.unit`),placeholder:"Unit"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(S.Label,{children:"Harga Satuan"}),(0,a.jsx)(C.Input,{type:"number",min:"0",value:eC.watch(`items.${t}.unit_price`)||0,onChange:e=>{eC.setValue(`items.${t}.unit_price`,Number(e.target.value)||0)}})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(S.Label,{children:"Total"}),(0,a.jsx)("div",{className:"h-10 px-3 py-2 border rounded-md bg-muted text-sm",children:eV(e$(t))})]}),eS.length>1&&(0,a.jsx)("div",{className:"flex items-end",children:(0,a.jsx)(_.Button,{type:"button",variant:"ghost",size:"icon",onClick:()=>eD(t),children:(0,a.jsx)(N.X,{className:"h-4 w-4 text-red-500"})})})]})},e.id)))}),eC.formState.errors.items&&(0,a.jsx)("p",{className:"text-sm text-red-500",children:eC.formState.errors.items.message}),(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Grand Total"}),(0,a.jsx)("p",{className:"text-2xl font-bold",children:eV((e=eC.watch("items"))&&0!==e.length?e.reduce((e,a,t)=>e+e$(t),0):0)})]})})]}),(0,a.jsxs)(P.DialogFooter,{children:[(0,a.jsx)(_.Button,{type:"button",variant:"outline",onClick:()=>ed(!1),children:"Batal"}),(0,a.jsxs)(_.Button,{type:"submit",disabled:eb,children:[eb&&(0,a.jsx)(v.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),ef?"Simpan Perubahan":"Buat PO"]})]})]})]})}),(0,a.jsx)(P.Dialog,{open:eo,onOpenChange:ec,children:(0,a.jsxs)(P.DialogContent,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)(P.DialogHeader,{children:[(0,a.jsx)(P.DialogTitle,{children:"Detail Purchase Order"}),(0,a.jsx)(P.DialogDescription,{children:ef?.po_number})]}),ef&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Supplier"}),(0,a.jsx)("p",{className:"font-medium",children:ef.supplier?.name})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Status"}),eq(ef.status)]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Tanggal Order"}),(0,a.jsx)("p",{className:"font-medium",children:(0,i.format)(new Date(ef.order_date),"dd MMMM yyyy",{locale:n.id})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Dibuat Oleh"}),(0,a.jsx)("p",{className:"font-medium",children:ef.creator?.name})]}),ef.approved_by&&(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Disetujui Oleh"}),(0,a.jsx)("p",{className:"font-medium",children:ef.approver?.name})]}),ef.rejection_reason&&(0,a.jsxs)("div",{className:"md:col-span-2",children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Alasan Penolakan"}),(0,a.jsx)("p",{className:"font-medium text-red-600",children:ef.rejection_reason})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium mb-2",children:"Item Pesanan"}),(0,a.jsxs)(O.Table,{children:[(0,a.jsx)(O.TableHeader,{children:(0,a.jsxs)(O.TableRow,{children:[(0,a.jsx)(O.TableHead,{children:"Obat"}),(0,a.jsx)(O.TableHead,{className:"text-right",children:"Qty"}),(0,a.jsx)(O.TableHead,{className:"text-right",children:"Harga"}),(0,a.jsx)(O.TableHead,{className:"text-right",children:"Diterima"}),(0,a.jsx)(O.TableHead,{className:"text-right",children:"Total"})]})}),(0,a.jsx)(O.TableBody,{children:ef.items?.map(e=>(0,a.jsxs)(O.TableRow,{children:[(0,a.jsx)(O.TableCell,{children:e.medicine?.name}),(0,a.jsxs)(O.TableCell,{className:"text-right",children:[e.quantity," ",e.unit]}),(0,a.jsx)(O.TableCell,{className:"text-right",children:eV(e.unit_price)}),(0,a.jsxs)(O.TableCell,{className:"text-right",children:[e.received_quantity," / ",e.quantity]}),(0,a.jsx)(O.TableCell,{className:"text-right",children:eV(e.total_price)})]},e.id))})]})]}),(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Total"}),(0,a.jsx)("p",{className:"text-2xl font-bold",children:eV(ef.total_amount)})]})})]})]})}),(0,a.jsx)(I.AlertDialog,{open:eu,onOpenChange:em,children:(0,a.jsxs)(I.AlertDialogContent,{children:[(0,a.jsxs)(I.AlertDialogHeader,{children:[(0,a.jsx)(I.AlertDialogTitle,{children:"Hapus Purchase Order?"}),(0,a.jsxs)(I.AlertDialogDescription,{children:["PO ",ef?.po_number," akan dihapus permanen. Tindakan ini tidak dapat dibatalkan."]})]}),(0,a.jsxs)(I.AlertDialogFooter,{children:[(0,a.jsx)(I.AlertDialogCancel,{children:"Batal"}),(0,a.jsxs)(I.AlertDialogAction,{onClick:eF,className:"bg-red-600 hover:bg-red-700",disabled:eb,children:[eb&&(0,a.jsx)(v.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Hapus"]})]})]})}),(0,a.jsx)(I.AlertDialog,{open:ep,onOpenChange:ex,children:(0,a.jsxs)(I.AlertDialogContent,{children:[(0,a.jsxs)(I.AlertDialogHeader,{children:[(0,a.jsx)(I.AlertDialogTitle,{children:"Setujui Purchase Order?"}),(0,a.jsxs)(I.AlertDialogDescription,{children:["PO ",ef?.po_number," dengan total"," ",eV(ef?.total_amount||0)," akan disetujui."]})]}),(0,a.jsxs)("div",{className:"py-4",children:[(0,a.jsx)(S.Label,{htmlFor:"approval_notes",children:"Catatan (Opsional)"}),(0,a.jsx)(k.Textarea,{id:"approval_notes",value:ew,onChange:e=>e_(e.target.value),placeholder:"Catatan persetujuan...",className:"mt-2"})]}),(0,a.jsxs)(I.AlertDialogFooter,{children:[(0,a.jsx)(I.AlertDialogCancel,{children:"Batal"}),(0,a.jsxs)(I.AlertDialogAction,{onClick:eE,className:"bg-green-600 hover:bg-green-700",disabled:eb,children:[eb&&(0,a.jsx)(v.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Setujui"]})]})]})}),(0,a.jsx)(I.AlertDialog,{open:eh,onOpenChange:eg,children:(0,a.jsxs)(I.AlertDialogContent,{children:[(0,a.jsxs)(I.AlertDialogHeader,{children:[(0,a.jsx)(I.AlertDialogTitle,{children:"Tolak Purchase Order?"}),(0,a.jsxs)(I.AlertDialogDescription,{children:["PO ",ef?.po_number," akan ditolak. Mohon berikan alasan penolakan."]})]}),(0,a.jsxs)("div",{className:"py-4",children:[(0,a.jsxs)(S.Label,{htmlFor:"reject_reason",children:["Alasan Penolakan ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)(k.Textarea,{id:"reject_reason",value:ev,onChange:e=>eN(e.target.value),placeholder:"Alasan penolakan...",className:"mt-2"})]}),(0,a.jsxs)(I.AlertDialogFooter,{children:[(0,a.jsx)(I.AlertDialogCancel,{children:"Batal"}),(0,a.jsxs)(I.AlertDialogAction,{onClick:eB,className:"bg-red-600 hover:bg-red-700",disabled:eb||!ev,children:[eb&&(0,a.jsx)(v.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Tolak"]})]})]})})]})}e.s(["default",()=>L],2205)}]);
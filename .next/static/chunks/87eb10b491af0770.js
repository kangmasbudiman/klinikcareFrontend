(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,37625,e=>{"use strict";var a=e.i(43476),t=e.i(71645),s=e.i(46932),i=e.i(46696),l=e.i(7486),n=e.i(69638),r=e.i(73884),d=e.i(61911),c=e.i(55436),o=e.i(7233),m=e.i(16715),x=e.i(97548),u=e.i(15288),h=e.i(19455),p=e.i(93479),j=e.i(67489),g=e.i(53145),f=e.i(94814),v=e.i(88653),y=e.i(88081),N=e.i(78583),b=e.i(47780),k=e.i(31278),w=e.i(63209),C=e.i(20286),_=e.i(76639),S=e.i(10204),D=e.i(99375),T=e.i(50270);let z=["blue","green","red","yellow","purple","pink","indigo","cyan","orange","teal"],M=["stethoscope","tooth","baby","heart","eye","ear","hand","flask","scan","pill","syringe","bandage","hospital","activity"],A=T.z.object({code:T.z.string().min(1,"Kode wajib diisi").max(20,"Kode maksimal 20 karakter").regex(/^[A-Z0-9-]+$/,"Kode hanya boleh huruf kapital, angka, dan strip"),name:T.z.string().min(1,"Nama wajib diisi").min(2,"Nama minimal 2 karakter").max(100,"Nama maksimal 100 karakter"),description:T.z.string().max(500,"Deskripsi maksimal 500 karakter").optional().or(T.z.literal("")),icon:T.z.enum(M).optional(),color:T.z.enum(z).default("blue"),quota_per_day:T.z.number().min(1,"Kuota minimal 1").max(1e3,"Kuota maksimal 1000").default(30),default_service_id:T.z.number().nullable().optional(),is_active:T.z.boolean().default(!0)}),P=T.z.object({code:T.z.string().min(1,"Kode wajib diisi").max(20,"Kode maksimal 20 karakter").regex(/^[A-Z0-9-]+$/,"Kode hanya boleh huruf kapital, angka, dan strip"),name:T.z.string().min(1,"Nama wajib diisi").min(2,"Nama minimal 2 karakter").max(100,"Nama maksimal 100 karakter"),description:T.z.string().max(500,"Deskripsi maksimal 500 karakter").optional().or(T.z.literal("")),icon:T.z.enum(M).optional(),color:T.z.enum(z).default("blue"),quota_per_day:T.z.number().min(1,"Kuota minimal 1").max(1e3,"Kuota maksimal 1000").default(30),default_service_id:T.z.number().nullable().optional(),is_active:T.z.boolean().default(!0)});var B=e.i(90893),L=e.i(70481),H=e.i(75254);let E=(0,H.default)("Baby",[["path",{d:"M9 12h.01",key:"157uk2"}],["path",{d:"M15 12h.01",key:"1k8ypt"}],["path",{d:"M10 16c.5.3 1.2.5 2 .5s1.5-.2 2-.5",key:"1u7htd"}],["path",{d:"M19 6.3a9 9 0 0 1 1.8 3.9 2 2 0 0 1 0 3.6 9 9 0 0 1-17.6 0 2 2 0 0 1 0-3.6A9 9 0 0 1 12 3c2 0 3.5 1.1 3.5 2.5s-.9 2.5-2 2.5c-.8 0-1.5-.4-1.5-1",key:"5yv0yz"}]]);var I=e.i(90597),K=e.i(86536),F=e.i(11447);let q=(0,H.default)("Hand",[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1fvzgz"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"1kc0my"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8",key:"10h0bg"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]]),V=(0,H.default)("FlaskConical",[["path",{d:"M14 2v6a2 2 0 0 0 .245.96l5.51 10.08A2 2 0 0 1 18 22H6a2 2 0 0 1-1.755-2.96l5.51-10.08A2 2 0 0 0 10 8V2",key:"18mbvz"}],["path",{d:"M6.453 15h11.094",key:"3shlmq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}]]);var $=e.i(15338),O=e.i(12156),R=e.i(6575);let U=(0,H.default)("Hospital",[["path",{d:"M12 6v4",key:"16clxf"}],["path",{d:"M14 14h-4",key:"esezmu"}],["path",{d:"M14 18h-4",key:"16mqa2"}],["path",{d:"M14 8h-4",key:"z8ypaz"}],["path",{d:"M18 12h2a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-9a2 2 0 0 1 2-2h2",key:"b1k337"}],["path",{d:"M18 22V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v18",key:"16g51d"}]]);var G=e.i(21218),W=e.i(84529);let X={stethoscope:C.Stethoscope,tooth:function({className:e}){return(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:(0,a.jsx)("path",{d:"M12 2C9.5 2 7.5 3 7 5c-.5 2-1 4-1 6 0 3 .5 5 1 7s1 4 2 4c1.5 0 2-2 3-2s1.5 2 3 2c1 0 1.5-2 2-4s1-4 1-7c0-2-.5-4-1-6-.5-2-2.5-3-5-3z"})})},baby:E,heart:I.Heart,eye:K.Eye,ear:F.Ear,hand:q,flask:V,scan:$.Scan,pill:O.Pill,syringe:R.Syringe,bandage:function({className:e}){return(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[(0,a.jsx)("path",{d:"M18.5 5.5 5.5 18.5"}),(0,a.jsx)("path",{d:"m15 9 .01.01"}),(0,a.jsx)("path",{d:"m9 15 .01.01"}),(0,a.jsx)("path",{d:"M5.5 5.5 18.5 18.5"}),(0,a.jsx)("path",{d:"M5.5 18.5 2 22"}),(0,a.jsx)("path",{d:"m22 2-3.5 3.5"})]})},hospital:U,activity:G.Activity};function Z({icon:e,className:t}){if(!e||!X[e])return(0,a.jsx)(W.CircleDot,{className:t});let s=X[e];return(0,a.jsx)(s,{className:t})}function J({open:e,onOpenChange:i,department:n,onSuccess:r}){let c=!!n,[o,m]=(0,t.useState)(!1),[x,u]=(0,t.useState)([]),[T,z]=(0,t.useState)(!1),{register:M,handleSubmit:H,setValue:E,watch:I,reset:K,control:F,formState:{errors:q}}=(0,g.useForm)({resolver:(0,f.zodResolver)(c?P:A),defaultValues:{code:"",name:"",description:"",icon:"stethoscope",color:"blue",quota_per_day:30,default_service_id:null,is_active:!0}}),V=I("color"),$=I("icon"),O=I("is_active");I("default_service_id"),(0,t.useEffect)(()=>{let a=async()=>{z(!0);try{let e=await L.default.getActiveServices({category:"konsultasi"});u(e.data)}catch(e){console.error("Error loading services:",e)}finally{z(!1)}};e&&a()},[e]),(0,t.useEffect)(()=>{e&&(n?K({code:n.code,name:n.name,description:n.description||"",icon:n.icon||"stethoscope",color:n.color||"blue",quota_per_day:n.quota_per_day,default_service_id:n.default_service_id,is_active:n.is_active}):K({code:"",name:"",description:"",icon:"stethoscope",color:"blue",quota_per_day:30,default_service_id:null,is_active:!0}))},[e,n,K]);let R=async e=>{m(!0);try{c&&n?await B.default.updateDepartment(n.id,e):await B.default.createDepartment(e),r(),i(!1)}catch(e){console.error("Error saving department:",e)}finally{m(!1)}},U=B.default.getColorOptions(),G=B.default.getIconOptions();return(0,a.jsx)(_.Dialog,{open:e,onOpenChange:i,children:(0,a.jsxs)(_.DialogContent,{className:"sm:max-w-[500px]",children:[(0,a.jsxs)(_.DialogHeader,{children:[(0,a.jsx)(_.DialogTitle,{className:"text-xl",children:c?"Edit Departemen":"Tambah Departemen Baru"}),(0,a.jsx)(_.DialogDescription,{children:c?"Perbarui informasi departemen di bawah ini.":"Isi informasi departemen baru di bawah ini."})]}),(0,a.jsxs)("form",{onSubmit:H(R),className:"space-y-5 py-4",children:[(0,a.jsxs)(s.motion.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"flex flex-col items-center gap-3",children:[(0,a.jsx)("div",{className:`p-4 rounded-2xl ${B.default.getColorClass(V||"blue")}`,children:(0,a.jsx)(Z,{icon:$||"stethoscope",className:"h-10 w-10"})}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Preview ikon dan warna departemen"})]}),(0,a.jsxs)(s.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},className:"space-y-2",children:[(0,a.jsxs)(S.Label,{htmlFor:"code",className:"text-sm font-medium",children:["Kode Departemen ",(0,a.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(y.Hash,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,a.jsx)(p.Input,{id:"code",placeholder:"POLI-001",className:"pl-10 uppercase",...M("code"),onChange:e=>E("code",e.target.value.toUpperCase())})]}),(0,a.jsx)(v.AnimatePresence,{children:q.code&&(0,a.jsxs)(s.motion.p,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"text-sm text-destructive flex items-center gap-1",children:[(0,a.jsx)(w.AlertCircle,{className:"h-3 w-3"}),q.code.message]})})]}),(0,a.jsxs)(s.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.15},className:"space-y-2",children:[(0,a.jsxs)(S.Label,{htmlFor:"name",className:"text-sm font-medium",children:["Nama Departemen ",(0,a.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(l.Building2,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,a.jsx)(p.Input,{id:"name",placeholder:"Poli Umum",className:"pl-10",...M("name")})]}),(0,a.jsx)(v.AnimatePresence,{children:q.name&&(0,a.jsxs)(s.motion.p,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"text-sm text-destructive flex items-center gap-1",children:[(0,a.jsx)(w.AlertCircle,{className:"h-3 w-3"}),q.name.message]})})]}),(0,a.jsxs)(s.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},className:"space-y-2",children:[(0,a.jsx)(S.Label,{htmlFor:"description",className:"text-sm font-medium",children:"Deskripsi"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(N.FileText,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),(0,a.jsx)("textarea",{id:"description",placeholder:"Deskripsi singkat departemen...",className:"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 pl-10 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 resize-none",...M("description")})]}),(0,a.jsx)(v.AnimatePresence,{children:q.description&&(0,a.jsxs)(s.motion.p,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"text-sm text-destructive flex items-center gap-1",children:[(0,a.jsx)(w.AlertCircle,{className:"h-3 w-3"}),q.description.message]})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)(s.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.25},className:"space-y-2",children:[(0,a.jsx)(S.Label,{htmlFor:"icon",className:"text-sm font-medium",children:"Ikon"}),(0,a.jsx)(g.Controller,{name:"icon",control:F,render:({field:e})=>(0,a.jsxs)(j.Select,{value:e.value,onValueChange:e.onChange,children:[(0,a.jsx)(j.SelectTrigger,{children:(0,a.jsx)(j.SelectValue,{placeholder:"Pilih ikon",children:e.value&&(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(Z,{icon:e.value,className:"h-4 w-4"}),(0,a.jsx)("span",{children:G.find(a=>a.value===e.value)?.label})]})})}),(0,a.jsx)(j.SelectContent,{children:G.map(e=>(0,a.jsx)(j.SelectItem,{value:e.value,children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(Z,{icon:e.value,className:"h-4 w-4"}),(0,a.jsx)("span",{children:e.label})]})},e.value))})]})})]}),(0,a.jsxs)(s.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},className:"space-y-2",children:[(0,a.jsx)(S.Label,{htmlFor:"color",className:"text-sm font-medium",children:"Warna"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(b.Palette,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground z-10"}),(0,a.jsx)(g.Controller,{name:"color",control:F,render:({field:e})=>(0,a.jsxs)(j.Select,{value:e.value,onValueChange:e.onChange,children:[(0,a.jsx)(j.SelectTrigger,{className:"pl-10",children:(0,a.jsx)(j.SelectValue,{placeholder:"Pilih warna",children:e.value&&(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:`w-4 h-4 rounded-full ${U.find(a=>a.value===e.value)?.class}`}),(0,a.jsx)("span",{children:U.find(a=>a.value===e.value)?.label})]})})}),(0,a.jsx)(j.SelectContent,{children:U.map(e=>(0,a.jsx)(j.SelectItem,{value:e.value,children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:`w-4 h-4 rounded-full ${e.class}`}),(0,a.jsx)("span",{children:e.label})]})},e.value))})]})})]})]})]}),(0,a.jsxs)(s.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.35},className:"space-y-2",children:[(0,a.jsxs)(S.Label,{htmlFor:"quota_per_day",className:"text-sm font-medium",children:["Kuota Per Hari ",(0,a.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(d.Users,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,a.jsx)(p.Input,{id:"quota_per_day",type:"number",min:1,max:1e3,placeholder:"30",className:"pl-10",...M("quota_per_day",{valueAsNumber:!0})})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Jumlah maksimal pasien yang dapat dilayani per hari"}),(0,a.jsx)(v.AnimatePresence,{children:q.quota_per_day&&(0,a.jsxs)(s.motion.p,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"text-sm text-destructive flex items-center gap-1",children:[(0,a.jsx)(w.AlertCircle,{className:"h-3 w-3"}),q.quota_per_day.message]})})]}),(0,a.jsxs)(s.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.37},className:"space-y-2",children:[(0,a.jsx)(S.Label,{htmlFor:"default_service_id",className:"text-sm font-medium",children:"Layanan Konsultasi Default"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(C.Stethoscope,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground z-10"}),(0,a.jsx)(g.Controller,{name:"default_service_id",control:F,render:({field:e})=>(0,a.jsxs)(j.Select,{value:e.value?.toString()||"none",onValueChange:a=>e.onChange("none"===a?null:parseInt(a)),disabled:T,children:[(0,a.jsx)(j.SelectTrigger,{className:"pl-10",children:(0,a.jsx)(j.SelectValue,{placeholder:T?"Memuat...":"Pilih layanan konsultasi",children:e.value?(0,a.jsx)("span",{children:x.find(a=>a.id===e.value)?.name||"Layanan terpilih"}):(0,a.jsx)("span",{className:"text-muted-foreground",children:"Tidak ada"})})}),(0,a.jsxs)(j.SelectContent,{children:[(0,a.jsx)(j.SelectItem,{value:"none",children:(0,a.jsx)("span",{className:"text-muted-foreground",children:"Tidak ada layanan default"})}),x.map(e=>(0,a.jsx)(j.SelectItem,{value:e.id.toString(),children:(0,a.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,a.jsx)("span",{children:e.name}),(0,a.jsxs)("span",{className:"text-xs text-muted-foreground",children:["Rp"," ",e.total_price?.toLocaleString("id-ID")||0]})]})},e.id))]})]})})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Layanan ini akan otomatis ditambahkan saat dokter memulai pemeriksaan"})]}),(0,a.jsxs)(s.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4},className:"flex items-center justify-between rounded-lg border p-4",children:[(0,a.jsxs)("div",{className:"space-y-0.5",children:[(0,a.jsx)(S.Label,{htmlFor:"is_active",className:"text-sm font-medium",children:"Status Aktif"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:O?"Departemen tersedia untuk pelayanan":"Departemen tidak tersedia"})]}),(0,a.jsx)(D.Switch,{id:"is_active",checked:O,onCheckedChange:e=>E("is_active",e)})]})]}),(0,a.jsxs)(_.DialogFooter,{className:"gap-2 sm:gap-0",children:[(0,a.jsx)(h.Button,{type:"button",variant:"outline",onClick:()=>i(!1),disabled:o,children:"Batal"}),(0,a.jsx)(h.Button,{type:"submit",onClick:H(R),disabled:o,className:"min-w-[100px]",children:o?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(k.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Menyimpan..."]}):c?"Simpan Perubahan":"Tambah Departemen"})]})]})})}var Y=e.i(87316),Q=e.i(88511),ee=e.i(81203),ea=e.i(87486),et=e.i(72436),es=e.i(75157);function ei({open:e,onOpenChange:t,department:i,onEdit:l,onToggleStatus:c}){return i?(0,a.jsx)(_.Dialog,{open:e,onOpenChange:t,children:(0,a.jsxs)(_.DialogContent,{className:"sm:max-w-[450px]",children:[(0,a.jsx)(_.DialogHeader,{children:(0,a.jsx)(_.DialogTitle,{className:"text-xl",children:"Detail Departemen"})}),(0,a.jsxs)("div",{className:"py-4 space-y-6",children:[(0,a.jsxs)(s.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex flex-col items-center text-center",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:`p-5 rounded-2xl ${B.default.getColorClass(i.color)}`,children:(0,a.jsx)(Z,{icon:i.icon,className:"h-12 w-12"})}),(0,a.jsx)("div",{className:`absolute -bottom-1 -right-1 w-6 h-6 rounded-full border-2 border-background flex items-center justify-center ${i.is_active?"bg-emerald-500":"bg-gray-400"}`,children:i.is_active?(0,a.jsx)(n.CheckCircle,{className:"h-4 w-4 text-white"}):(0,a.jsx)(r.XCircle,{className:"h-4 w-4 text-white"})})]}),(0,a.jsx)("h3",{className:"mt-4 text-lg font-semibold",children:i.name}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:i.code}),(0,a.jsx)("div",{className:"flex items-center gap-2 mt-2",children:(0,a.jsx)(ea.Badge,{variant:i.is_active?"success":"error",children:i.is_active?"Aktif":"Nonaktif"})})]}),(0,a.jsx)(et.Separator,{}),(0,a.jsxs)(s.motion.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[(0,a.jsx)("div",{className:"p-2 rounded-lg bg-blue-100 dark:bg-blue-950",children:(0,a.jsx)(y.Hash,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Kode"}),(0,a.jsx)("p",{className:"text-sm font-medium",children:i.code})]})]}),i.description&&(0,a.jsxs)("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-muted/50",children:[(0,a.jsx)("div",{className:"p-2 rounded-lg bg-purple-100 dark:bg-purple-950",children:(0,a.jsx)(N.FileText,{className:"h-4 w-4 text-purple-600 dark:text-purple-400"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Deskripsi"}),(0,a.jsx)("p",{className:"text-sm font-medium",children:i.description})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[(0,a.jsx)("div",{className:"p-2 rounded-lg bg-green-100 dark:bg-green-950",children:(0,a.jsx)(d.Users,{className:"h-4 w-4 text-green-600 dark:text-green-400"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Kuota Per Hari"}),(0,a.jsxs)("p",{className:"text-sm font-medium",children:[i.quota_per_day," pasien"]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[(0,a.jsx)("div",{className:"p-2 rounded-lg bg-orange-100 dark:bg-orange-950",children:(0,a.jsx)(Y.Calendar,{className:"h-4 w-4 text-orange-600 dark:text-orange-400"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Dibuat Pada"}),(0,a.jsx)("p",{className:"text-sm font-medium",children:(0,es.formatDate)(i.created_at)})]})]})]}),(0,a.jsx)(et.Separator,{}),(0,a.jsxs)(s.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},className:"flex gap-2",children:[(0,a.jsxs)(h.Button,{variant:"outline",className:"flex-1",onClick:()=>{t(!1),l()},children:[(0,a.jsx)(Q.Edit,{className:"mr-2 h-4 w-4"}),"Edit"]}),(0,a.jsxs)(h.Button,{variant:i.is_active?"destructive":"default",className:"flex-1",onClick:()=>{t(!1),c()},children:[(0,a.jsx)(ee.Power,{className:"mr-2 h-4 w-4"}),i.is_active?"Nonaktifkan":"Aktifkan"]})]})]})]})}):null}var el=e.i(27612),en=e.i(41071),er=e.i(73375),ed=e.i(63059),ec=e.i(84774),eo=e.i(55146);function em(){return(0,a.jsxs)(ec.TableRow,{children:[(0,a.jsx)(ec.TableCell,{children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"h-10 w-10 rounded-xl bg-muted animate-pulse"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("div",{className:"h-4 w-32 bg-muted animate-pulse rounded"}),(0,a.jsx)("div",{className:"h-3 w-20 bg-muted animate-pulse rounded"})]})]})}),(0,a.jsx)(ec.TableCell,{children:(0,a.jsx)("div",{className:"h-4 w-40 bg-muted animate-pulse rounded"})}),(0,a.jsx)(ec.TableCell,{children:(0,a.jsx)("div",{className:"h-4 w-16 bg-muted animate-pulse rounded"})}),(0,a.jsx)(ec.TableCell,{children:(0,a.jsx)("div",{className:"h-6 w-16 bg-muted animate-pulse rounded-full"})}),(0,a.jsx)(ec.TableCell,{children:(0,a.jsx)("div",{className:"h-8 w-8 bg-muted animate-pulse rounded"})})]})}function ex(){return(0,a.jsx)(ec.TableRow,{children:(0,a.jsx)(ec.TableCell,{colSpan:5,className:"h-48",children:(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center text-center",children:[(0,a.jsx)("div",{className:"p-4 rounded-full bg-muted/50 mb-4",children:(0,a.jsx)(l.Building2,{className:"h-8 w-8 text-muted-foreground"})}),(0,a.jsx)("h3",{className:"font-semibold text-lg",children:"Tidak ada departemen"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"Belum ada departemen yang sesuai dengan filter"})]})})})}function eu({departments:e,isLoading:t=!1,currentPage:i,totalPages:l,onPageChange:n,onView:r,onEdit:c,onDelete:o,onToggleStatus:m}){return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("div",{className:"rounded-xl border bg-card overflow-hidden",children:(0,a.jsxs)(ec.Table,{children:[(0,a.jsx)(ec.TableHeader,{children:(0,a.jsxs)(ec.TableRow,{className:"bg-muted/50 hover:bg-muted/50",children:[(0,a.jsx)(ec.TableHead,{className:"font-semibold",children:"Departemen"}),(0,a.jsx)(ec.TableHead,{className:"font-semibold",children:"Deskripsi"}),(0,a.jsx)(ec.TableHead,{className:"font-semibold",children:"Kuota/Hari"}),(0,a.jsx)(ec.TableHead,{className:"font-semibold",children:"Status"}),(0,a.jsx)(ec.TableHead,{className:"font-semibold w-[80px]",children:"Aksi"})]})}),(0,a.jsx)(ec.TableBody,{children:t?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(em,{}),(0,a.jsx)(em,{}),(0,a.jsx)(em,{}),(0,a.jsx)(em,{}),(0,a.jsx)(em,{})]}):0===e.length?(0,a.jsx)(ex,{}):e.map((e,t)=>(0,a.jsxs)(s.motion.tr,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.05*t},className:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",children:[(0,a.jsx)(ec.TableCell,{children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:`p-2 rounded-xl ${B.default.getColorClass(e.color)}`,children:(0,a.jsx)(Z,{icon:e.icon,className:"h-5 w-5"})}),(0,a.jsxs)("div",{className:"min-w-0",children:[(0,a.jsx)("p",{className:"font-medium truncate",children:e.name}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground truncate",children:e.code})]})]})}),(0,a.jsx)(ec.TableCell,{className:"max-w-[200px]",children:(0,a.jsx)("p",{className:"text-sm text-muted-foreground truncate",children:e.description||"-"})}),(0,a.jsx)(ec.TableCell,{children:(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(d.Users,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsx)("span",{className:"font-medium",children:e.quota_per_day})]})}),(0,a.jsx)(ec.TableCell,{children:(0,a.jsx)(ea.Badge,{variant:e.is_active?"success":"error",children:e.is_active?"Aktif":"Nonaktif"})}),(0,a.jsx)(ec.TableCell,{children:(0,a.jsxs)(eo.DropdownMenu,{children:[(0,a.jsx)(eo.DropdownMenuTrigger,{asChild:!0,children:(0,a.jsxs)(h.Button,{variant:"ghost",size:"icon",className:"h-8 w-8",children:[(0,a.jsx)(en.MoreHorizontal,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Buka menu"})]})}),(0,a.jsxs)(eo.DropdownMenuContent,{align:"end",className:"w-48",children:[(0,a.jsxs)(eo.DropdownMenuItem,{onClick:()=>r(e),children:[(0,a.jsx)(K.Eye,{className:"mr-2 h-4 w-4"}),"Lihat Detail"]}),(0,a.jsxs)(eo.DropdownMenuItem,{onClick:()=>c(e),children:[(0,a.jsx)(Q.Edit,{className:"mr-2 h-4 w-4"}),"Edit"]}),(0,a.jsxs)(eo.DropdownMenuItem,{onClick:()=>m(e),children:[(0,a.jsx)(ee.Power,{className:"mr-2 h-4 w-4"}),e.is_active?"Nonaktifkan":"Aktifkan"]}),(0,a.jsx)(eo.DropdownMenuSeparator,{}),(0,a.jsxs)(eo.DropdownMenuItem,{onClick:()=>o(e),className:"text-destructive focus:text-destructive",children:[(0,a.jsx)(el.Trash2,{className:"mr-2 h-4 w-4"}),"Hapus"]})]})]})})]},e.id))})]})}),l>1&&(0,a.jsxs)("div",{className:"flex items-center justify-between px-2",children:[(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Halaman ",i," dari ",l]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(h.Button,{variant:"outline",size:"sm",onClick:()=>n(i-1),disabled:i<=1,children:[(0,a.jsx)(er.ChevronLeft,{className:"h-4 w-4 mr-1"}),"Sebelumnya"]}),(0,a.jsxs)(h.Button,{variant:"outline",size:"sm",onClick:()=>n(i+1),disabled:i>=l,children:["Selanjutnya",(0,a.jsx)(ed.ChevronRight,{className:"h-4 w-4 ml-1"})]})]})]})]})}var eh=e.i(78894);function ep({open:e,onOpenChange:i,department:l,onConfirm:n}){let[r,d]=(0,t.useState)(!1);if(!l)return null;let c=async()=>{d(!0);try{await n(),i(!1)}catch(e){console.error("Error deleting department:",e)}finally{d(!1)}};return(0,a.jsx)(_.Dialog,{open:e,onOpenChange:i,children:(0,a.jsxs)(_.DialogContent,{className:"sm:max-w-[400px]",children:[(0,a.jsxs)(_.DialogHeader,{children:[(0,a.jsxs)(_.DialogTitle,{className:"text-xl text-destructive flex items-center gap-2",children:[(0,a.jsx)(eh.AlertTriangle,{className:"h-5 w-5"}),"Hapus Departemen"]}),(0,a.jsx)(_.DialogDescription,{children:"Tindakan ini tidak dapat dibatalkan. Data departemen akan dihapus secara permanen."})]}),(0,a.jsxs)(s.motion.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"py-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 p-4 rounded-xl bg-destructive/10 border border-destructive/20",children:[(0,a.jsx)("div",{className:`p-3 rounded-xl ${B.default.getColorClass(l.color)}`,children:(0,a.jsx)(Z,{icon:l.icon,className:"h-8 w-8"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("h4",{className:"font-semibold truncate",children:l.name}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground truncate",children:l.code}),(0,a.jsx)("div",{className:"mt-1",children:(0,a.jsx)(ea.Badge,{variant:l.is_active?"success":"error",children:l.is_active?"Aktif":"Nonaktif"})})]})]}),(0,a.jsx)("p",{className:"mt-4 text-sm text-muted-foreground text-center",children:"Apakah Anda yakin ingin menghapus departemen ini?"})]}),(0,a.jsxs)(_.DialogFooter,{className:"gap-2 sm:gap-0",children:[(0,a.jsx)(h.Button,{type:"button",variant:"outline",onClick:()=>i(!1),disabled:r,children:"Batal"}),(0,a.jsx)(h.Button,{type:"button",variant:"destructive",onClick:c,disabled:r,className:"min-w-[100px]",children:r?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(k.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Menghapus..."]}):"Ya, Hapus"})]})]})})}let ej=[{key:"total",title:"Total Departemen",icon:l.Building2,gradient:"from-blue-500 to-blue-600",bgLight:"bg-blue-50 dark:bg-blue-950/50",iconColor:"text-blue-600 dark:text-blue-400"},{key:"active",title:"Departemen Aktif",icon:n.CheckCircle,gradient:"from-emerald-500 to-emerald-600",bgLight:"bg-emerald-50 dark:bg-emerald-950/50",iconColor:"text-emerald-600 dark:text-emerald-400"},{key:"inactive",title:"Departemen Nonaktif",icon:r.XCircle,gradient:"from-red-500 to-red-600",bgLight:"bg-red-50 dark:bg-red-950/50",iconColor:"text-red-600 dark:text-red-400"},{key:"total_quota",title:"Total Kuota/Hari",icon:d.Users,gradient:"from-purple-500 to-purple-600",bgLight:"bg-purple-50 dark:bg-purple-950/50",iconColor:"text-purple-600 dark:text-purple-400"}];function eg(){let[e,l]=(0,t.useState)([]),[n,r]=(0,t.useState)(null),[d,g]=(0,t.useState)(!0),[f,v]=(0,t.useState)(!1),[y,N]=(0,t.useState)(1),[b,k]=(0,t.useState)(1),[w,C]=(0,t.useState)({search:"",status:"all",page:1,per_page:10}),[_,S]=(0,t.useState)(!1),[D,T]=(0,t.useState)(!1),[z,M]=(0,t.useState)(!1),[A,P]=(0,t.useState)(null),L=(0,t.useCallback)(async()=>{try{let e=await B.default.getDepartments(w);l(e.data),N(e.meta.current_page),k(e.meta.last_page)}catch(e){console.error("Error fetching departments:",e),i.toast.error("Gagal memuat data departemen")}},[w]),H=(0,t.useCallback)(async()=>{try{let e=await B.default.getDepartmentStats();r(e.data)}catch(e){console.error("Error fetching stats:",e)}},[]);(0,t.useEffect)(()=>{(async()=>{g(!0),await Promise.all([L(),H()]),g(!1)})()},[L,H]);let E=async()=>{v(!0),await Promise.all([L(),H()]),v(!1),i.toast.success("Data berhasil diperbarui")};(0,t.useEffect)(()=>{let e=setTimeout(()=>{C(e=>({...e,page:1}))},300);return()=>clearTimeout(e)},[w.search]);let I=(e,a)=>{C(t=>({...t,[e]:a,page:1}))},K=async e=>{try{await B.default.toggleDepartmentStatus(e.id),i.toast.success(e.is_active?"Departemen berhasil dinonaktifkan":"Departemen berhasil diaktifkan"),await Promise.all([L(),H()])}catch(e){console.error("Error toggling status:",e),i.toast.error("Gagal mengubah status departemen")}},F=async()=>{i.toast.success(A?"Departemen berhasil diperbarui":"Departemen berhasil dibuat"),await Promise.all([L(),H()])},q=async()=>{if(A)try{await B.default.deleteDepartment(A.id),i.toast.success("Departemen berhasil dihapus"),await Promise.all([L(),H()])}catch(e){throw console.error("Error deleting department:",e),i.toast.error("Gagal menghapus departemen"),e}},V={hidden:{opacity:0,y:20},show:{opacity:1,y:0}};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)(s.motion.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl md:text-3xl font-bold",children:"Master Departemen"}),(0,a.jsx)("p",{className:"text-muted-foreground mt-1",children:"Kelola data departemen dan poliklinik"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(h.Button,{variant:"outline",size:"sm",onClick:E,disabled:f,children:[(0,a.jsx)(m.RefreshCw,{className:`h-4 w-4 mr-2 ${f?"animate-spin":""}`}),"Refresh"]}),(0,a.jsxs)(h.Button,{size:"sm",onClick:()=>{P(null),S(!0)},children:[(0,a.jsx)(o.Plus,{className:"h-4 w-4 mr-2"}),"Tambah Departemen"]})]})]}),(0,a.jsx)(s.motion.div,{variants:{hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1}}},initial:"hidden",animate:"show",className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:ej.map(e=>{var t;return(0,a.jsx)(s.motion.div,{variants:V,children:(0,a.jsxs)(u.Card,{className:"relative overflow-hidden hover:shadow-lg transition-shadow",children:[(0,a.jsxs)(u.CardHeader,{className:"flex flex-row items-center justify-between pb-2",children:[(0,a.jsx)(u.CardTitle,{className:"text-sm font-medium text-muted-foreground",children:e.title}),(0,a.jsx)("div",{className:`p-2.5 rounded-xl ${e.bgLight}`,children:(0,a.jsx)(e.icon,{className:`h-5 w-5 ${e.iconColor}`})})]}),(0,a.jsx)(u.CardContent,{children:(0,a.jsx)("div",{className:"text-2xl md:text-3xl font-bold",children:d?(0,a.jsx)("div",{className:"h-8 w-16 bg-muted animate-pulse rounded"}):(t=e.key,n?n[t]:0)})}),(0,a.jsx)("div",{className:`absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r ${e.gradient}`})]})},e.key)})}),(0,a.jsx)(s.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},children:(0,a.jsx)(u.Card,{children:(0,a.jsx)(u.CardContent,{className:"pt-6",children:(0,a.jsxs)("div",{className:"flex flex-col gap-4 md:flex-row md:items-center",children:[(0,a.jsxs)("div",{className:"relative flex-1",children:[(0,a.jsx)(c.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,a.jsx)(p.Input,{placeholder:"Cari kode atau nama departemen...",className:"pl-10",value:w.search,onChange:e=>I("search",e.target.value)})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(x.Filter,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsxs)(j.Select,{value:w.status,onValueChange:e=>I("status",e),children:[(0,a.jsx)(j.SelectTrigger,{className:"w-[160px]",children:(0,a.jsx)(j.SelectValue,{placeholder:"Semua Status"})}),(0,a.jsxs)(j.SelectContent,{children:[(0,a.jsx)(j.SelectItem,{value:"all",children:"Semua Status"}),(0,a.jsx)(j.SelectItem,{value:"active",children:"Aktif"}),(0,a.jsx)(j.SelectItem,{value:"inactive",children:"Nonaktif"})]})]})]})]})})})}),(0,a.jsx)(s.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},children:(0,a.jsx)(eu,{departments:e,isLoading:d,currentPage:y,totalPages:b,onPageChange:e=>{C(a=>({...a,page:e}))},onView:e=>{P(e),T(!0)},onEdit:e=>{P(e),S(!0)},onDelete:e=>{P(e),M(!0)},onToggleStatus:K})}),(0,a.jsx)(J,{open:_,onOpenChange:S,department:A,onSuccess:F}),(0,a.jsx)(ei,{open:D,onOpenChange:T,department:A,onEdit:()=>{T(!1),S(!0)},onToggleStatus:()=>{A&&K(A)}}),(0,a.jsx)(ep,{open:z,onOpenChange:M,department:A,onConfirm:q})]})}e.s(["default",()=>eg],37625)}]);
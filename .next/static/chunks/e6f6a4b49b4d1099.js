(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,24687,e=>{"use strict";var a=e.i(43476),t=e.i(71645),r=e.i(75157);let s=t.forwardRef(({className:e,...t},s)=>(0,a.jsx)("textarea",{className:(0,r.cn)("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...t}));s.displayName="Textarea",e.s(["Textarea",()=>s])},88699,e=>{"use strict";let a=(0,e.i(75254).default)("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);e.s(["Pencil",()=>a],88699)},86536,e=>{"use strict";let a=(0,e.i(75254).default)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Eye",()=>a],86536)},97548,e=>{"use strict";let a=(0,e.i(75254).default)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);e.s(["Filter",()=>a],97548)},69638,e=>{"use strict";let a=(0,e.i(75254).default)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>a],69638)},73884,e=>{"use strict";let a=(0,e.i(75254).default)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);e.s(["XCircle",()=>a],73884)},7233,e=>{"use strict";let a=(0,e.i(75254).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>a],7233)},15288,e=>{"use strict";var a=e.i(43476),t=e.i(71645),r=e.i(75157);let s=t.forwardRef(({className:e,...t},s)=>(0,a.jsx)("div",{ref:s,className:(0,r.cn)("rounded-xl border bg-card text-card-foreground shadow",e),...t}));s.displayName="Card";let i=t.forwardRef(({className:e,...t},s)=>(0,a.jsx)("div",{ref:s,className:(0,r.cn)("flex flex-col space-y-1.5 p-6",e),...t}));i.displayName="CardHeader";let l=t.forwardRef(({className:e,...t},s)=>(0,a.jsx)("div",{ref:s,className:(0,r.cn)("font-semibold leading-none tracking-tight",e),...t}));l.displayName="CardTitle";let n=t.forwardRef(({className:e,...t},s)=>(0,a.jsx)("div",{ref:s,className:(0,r.cn)("text-sm text-muted-foreground",e),...t}));n.displayName="CardDescription";let d=t.forwardRef(({className:e,...t},s)=>(0,a.jsx)("div",{ref:s,className:(0,r.cn)("p-6 pt-0",e),...t}));d.displayName="CardContent",t.forwardRef(({className:e,...t},s)=>(0,a.jsx)("div",{ref:s,className:(0,r.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter",e.s(["Card",()=>s,"CardContent",()=>d,"CardDescription",()=>n,"CardHeader",()=>i,"CardTitle",()=>l])},87486,e=>{"use strict";var a=e.i(43476),t=e.i(25913),r=e.i(75157);let s=(0,t.cva)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-emerald-100 text-emerald-700 dark:bg-emerald-950 dark:text-emerald-400",warning:"border-transparent bg-amber-100 text-amber-700 dark:bg-amber-950 dark:text-amber-400",error:"border-transparent bg-red-100 text-red-700 dark:bg-red-950 dark:text-red-400",info:"border-transparent bg-blue-100 text-blue-700 dark:bg-blue-950 dark:text-blue-400",super_admin:"border-transparent bg-purple-100 text-purple-700 dark:bg-purple-950 dark:text-purple-400",admin_klinik:"border-transparent bg-blue-100 text-blue-700 dark:bg-blue-950 dark:text-blue-400",dokter:"border-transparent bg-green-100 text-green-700 dark:bg-green-950 dark:text-green-400",perawat:"border-transparent bg-teal-100 text-teal-700 dark:bg-teal-950 dark:text-teal-400",kasir:"border-transparent bg-orange-100 text-orange-700 dark:bg-orange-950 dark:text-orange-400",apoteker:"border-transparent bg-emerald-100 text-emerald-700 dark:bg-emerald-950 dark:text-emerald-400",pasien:"border-transparent bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-400"}},defaultVariants:{variant:"default"}});function i({className:e,variant:t,...i}){return(0,a.jsx)("div",{className:(0,r.cn)(s({variant:t}),e),...i})}e.s(["Badge",()=>i])},76639,26999,e=>{"use strict";let a,t;var r,s=e.i(43476),i=e.i(71645),l=e.i(81140),n=e.i(20783),d=e.i(10772),o=e.i(69340),c=e.i(26330),u=e.i(65491),m=e.i(74606),p=e.i(96626);function x(e){var a;let t,r=(a=e,(t=i.forwardRef((e,a)=>{let{children:t,...r}=e;if(i.isValidElement(t)){var s;let e,l,d=(s=t,(l=(e=Object.getOwnPropertyDescriptor(s.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?s.ref:(l=(e=Object.getOwnPropertyDescriptor(s,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?s.props.ref:s.props.ref||s.ref),o=function(e,a){let t={...a};for(let r in a){let s=e[r],i=a[r];/^on[A-Z]/.test(r)?s&&i?t[r]=(...e)=>{let a=i(...e);return s(...e),a}:s&&(t[r]=s):"style"===r?t[r]={...s,...i}:"className"===r&&(t[r]=[s,i].filter(Boolean).join(" "))}return{...e,...t}}(r,t.props);return t.type!==i.Fragment&&(o.ref=a?(0,n.composeRefs)(a,d):d),i.cloneElement(t,o)}return i.Children.count(t)>1?i.Children.only(null):null})).displayName=`${a}.SlotClone`,t),l=i.forwardRef((e,a)=>{let{children:t,...l}=e,n=i.Children.toArray(t),d=n.find(g);if(d){let e=d.props.children,t=n.map(a=>a!==d?a:i.Children.count(e)>1?i.Children.only(null):i.isValidElement(e)?e.props.children:null);return(0,s.jsx)(r,{...l,ref:a,children:i.isValidElement(e)?i.cloneElement(e,void 0,t):null})}return(0,s.jsx)(r,{...l,ref:a,children:t})});return l.displayName=`${e}.Slot`,l}e.i(74080);var h=Symbol("radix.slottable");function g(e){return i.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===h}var f=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,a)=>{let t=x(`Primitive.${a}`),r=i.forwardRef((e,r)=>{let{asChild:i,...l}=e;return"u">typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,s.jsx)(i?t:a,{...l,ref:r})});return r.displayName=`Primitive.${a}`,{...e,[a]:r}},{}),b=e.i(3536),j=e.i(85369),y=e.i(86312),v="Dialog",[N,_]=function(e,a=[]){let t=[],r=()=>{let a=t.map(e=>i.createContext(e));return function(t){let r=t?.[e]||a;return i.useMemo(()=>({[`__scope${e}`]:{...t,[e]:r}}),[t,r])}};return r.scopeName=e,[function(a,r){let l=i.createContext(r),n=t.length;t=[...t,r];let d=a=>{let{scope:t,children:r,...d}=a,o=t?.[e]?.[n]||l,c=i.useMemo(()=>d,Object.values(d));return(0,s.jsx)(o.Provider,{value:c,children:r})};return d.displayName=a+"Provider",[d,function(t,s){let d=s?.[e]?.[n]||l,o=i.useContext(d);if(o)return o;if(void 0!==r)return r;throw Error(`\`${t}\` must be used within \`${a}\``)}]},function(...e){let a=e[0];if(1===e.length)return a;let t=()=>{let t=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let r=t.reduce((a,{useScope:t,scopeName:r})=>{let s=t(e)[`__scope${r}`];return{...a,...s}},{});return i.useMemo(()=>({[`__scope${a.scopeName}`]:r}),[r])}};return t.scopeName=a.scopeName,t}(r,...a)]}(v),[w,C]=N(v),k=e=>{let{__scopeDialog:a,children:t,open:r,defaultOpen:l,onOpenChange:n,modal:c=!0}=e,u=i.useRef(null),m=i.useRef(null),[p,x]=(0,o.useControllableState)({prop:r,defaultProp:l??!1,onChange:n,caller:v});return(0,s.jsx)(w,{scope:a,triggerRef:u,contentRef:m,contentId:(0,d.useId)(),titleId:(0,d.useId)(),descriptionId:(0,d.useId)(),open:p,onOpenChange:x,onOpenToggle:i.useCallback(()=>x(e=>!e),[x]),modal:c,children:t})};k.displayName=v;var S="DialogTrigger",D=i.forwardRef((e,a)=>{let{__scopeDialog:t,...r}=e,i=C(S,t),d=(0,n.useComposedRefs)(a,i.triggerRef);return(0,s.jsx)(f.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":K(i.open),...r,ref:d,onClick:(0,l.composeEventHandlers)(e.onClick,i.onOpenToggle)})});D.displayName=S;var T="DialogPortal",[R,P]=N(T,{forceMount:void 0}),A=e=>{let{__scopeDialog:a,forceMount:t,children:r,container:l}=e,n=C(T,a);return(0,s.jsx)(R,{scope:a,forceMount:t,children:i.Children.map(r,e=>(0,s.jsx)(p.Presence,{present:t||n.open,children:(0,s.jsx)(m.Portal,{asChild:!0,container:l,children:e})}))})};A.displayName=T;var I="DialogOverlay",M=i.forwardRef((e,a)=>{let t=P(I,e.__scopeDialog),{forceMount:r=t.forceMount,...i}=e,l=C(I,e.__scopeDialog);return l.modal?(0,s.jsx)(p.Presence,{present:r||l.open,children:(0,s.jsx)(H,{...i,ref:a})}):null});M.displayName=I;var O=x("DialogOverlay.RemoveScroll"),H=i.forwardRef((e,a)=>{let{__scopeDialog:t,...r}=e,i=C(I,t);return(0,s.jsx)(j.RemoveScroll,{as:O,allowPinchZoom:!0,shards:[i.contentRef],children:(0,s.jsx)(f.div,{"data-state":K(i.open),...r,ref:a,style:{pointerEvents:"auto",...r.style}})})}),F="DialogContent",E=i.forwardRef((e,a)=>{let t=P(F,e.__scopeDialog),{forceMount:r=t.forceMount,...i}=e,l=C(F,e.__scopeDialog);return(0,s.jsx)(p.Presence,{present:r||l.open,children:l.modal?(0,s.jsx)(B,{...i,ref:a}):(0,s.jsx)(z,{...i,ref:a})})});E.displayName=F;var B=i.forwardRef((e,a)=>{let t=C(F,e.__scopeDialog),r=i.useRef(null),d=(0,n.useComposedRefs)(a,t.contentRef,r);return i.useEffect(()=>{let e=r.current;if(e)return(0,y.hideOthers)(e)},[]),(0,s.jsx)($,{...e,ref:d,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,l.composeEventHandlers)(e.onCloseAutoFocus,e=>{e.preventDefault(),t.triggerRef.current?.focus()}),onPointerDownOutside:(0,l.composeEventHandlers)(e.onPointerDownOutside,e=>{let a=e.detail.originalEvent,t=0===a.button&&!0===a.ctrlKey;(2===a.button||t)&&e.preventDefault()}),onFocusOutside:(0,l.composeEventHandlers)(e.onFocusOutside,e=>e.preventDefault())})}),z=i.forwardRef((e,a)=>{let t=C(F,e.__scopeDialog),r=i.useRef(!1),l=i.useRef(!1);return(0,s.jsx)($,{...e,ref:a,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{e.onCloseAutoFocus?.(a),a.defaultPrevented||(r.current||t.triggerRef.current?.focus(),a.preventDefault()),r.current=!1,l.current=!1},onInteractOutside:a=>{e.onInteractOutside?.(a),a.defaultPrevented||(r.current=!0,"pointerdown"===a.detail.originalEvent.type&&(l.current=!0));let s=a.target;t.triggerRef.current?.contains(s)&&a.preventDefault(),"focusin"===a.detail.originalEvent.type&&l.current&&a.preventDefault()}})}),$=i.forwardRef((e,a)=>{let{__scopeDialog:t,trapFocus:r,onOpenAutoFocus:l,onCloseAutoFocus:d,...o}=e,m=C(F,t),p=i.useRef(null),x=(0,n.useComposedRefs)(a,p);return(0,b.useFocusGuards)(),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(u.FocusScope,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:l,onUnmountAutoFocus:d,children:(0,s.jsx)(c.DismissableLayer,{role:"dialog",id:m.contentId,"aria-describedby":m.descriptionId,"aria-labelledby":m.titleId,"data-state":K(m.open),...o,ref:x,onDismiss:()=>m.onOpenChange(!1)})}),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(Q,{titleId:m.titleId}),(0,s.jsx)(Y,{contentRef:p,descriptionId:m.descriptionId})]})]})}),L="DialogTitle",V=i.forwardRef((e,a)=>{let{__scopeDialog:t,...r}=e,i=C(L,t);return(0,s.jsx)(f.h2,{id:i.titleId,...r,ref:a})});V.displayName=L;var G="DialogDescription",q=i.forwardRef((e,a)=>{let{__scopeDialog:t,...r}=e,i=C(G,t);return(0,s.jsx)(f.p,{id:i.descriptionId,...r,ref:a})});q.displayName=G;var U="DialogClose",W=i.forwardRef((e,a)=>{let{__scopeDialog:t,...r}=e,i=C(U,t);return(0,s.jsx)(f.button,{type:"button",...r,ref:a,onClick:(0,l.composeEventHandlers)(e.onClick,()=>i.onOpenChange(!1))})});function K(e){return e?"open":"closed"}W.displayName=U;var X="DialogTitleWarning",[J,Z]=(r={contentName:F,titleName:L,docsSlug:"dialog"},a=i.createContext(r),(t=e=>{let{children:t,...r}=e,l=i.useMemo(()=>r,Object.values(r));return(0,s.jsx)(a.Provider,{value:l,children:t})}).displayName=X+"Provider",[t,function(e){let t=i.useContext(a);if(t)return t;if(void 0!==r)return r;throw Error(`\`${e}\` must be used within \`${X}\``)}]),Q=({titleId:e})=>{let a=Z(X),t=`\`${a.contentName}\` requires a \`${a.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${a.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${a.docsSlug}`;return i.useEffect(()=>{e&&(document.getElementById(e)||console.error(t))},[t,e]),null},Y=({contentRef:e,descriptionId:a})=>{let t=Z("DialogDescriptionWarning"),r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${t.contentName}}.`;return i.useEffect(()=>{let t=e.current?.getAttribute("aria-describedby");a&&t&&(document.getElementById(a)||console.warn(r))},[r,e,a]),null};e.s(["Close",()=>W,"Content",()=>E,"Description",()=>q,"Overlay",()=>M,"Portal",()=>A,"Root",()=>k,"Title",()=>V,"Trigger",()=>D,"WarningProvider",()=>J,"createDialogScope",()=>_],26999);var ee=e.i(37727),ea=e.i(75157);let et=i.forwardRef(({className:e,...a},t)=>(0,s.jsx)(M,{ref:t,className:(0,ea.cn)("fixed inset-0 z-50 bg-black/50 backdrop-blur-sm","data-[state=open]:animate-in data-[state=closed]:animate-out","data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...a}));et.displayName=M.displayName;let er=i.forwardRef(({className:e,children:a,showNeonBorder:t=!0,...r},i)=>(0,s.jsx)(A,{children:(0,s.jsx)(et,{className:"flex items-center justify-center p-4",children:(0,s.jsxs)(E,{ref:i,className:(0,ea.cn)("relative z-50 w-full max-w-lg","data-[state=open]:animate-in data-[state=closed]:animate-out","data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0","data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95",e),...r,children:[t&&(0,s.jsx)("div",{className:"neon-border-glow"}),(0,s.jsxs)("div",{className:(0,ea.cn)("relative bg-background border border-border rounded-2xl p-6 shadow-2xl","max-h-[85vh] overflow-y-auto","grid gap-4"),children:[a,(0,s.jsxs)(W,{className:"absolute right-4 top-4 rounded-full p-1.5 opacity-70 ring-offset-background transition-all hover:opacity-100 hover:bg-muted focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[(0,s.jsx)(ee.X,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})})}));er.displayName=E.displayName;let es=({className:e,...a})=>(0,s.jsx)("div",{className:(0,ea.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...a});es.displayName="DialogHeader";let ei=({className:e,...a})=>(0,s.jsx)("div",{className:(0,ea.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...a});ei.displayName="DialogFooter";let el=i.forwardRef(({className:e,...a},t)=>(0,s.jsx)(V,{ref:t,className:(0,ea.cn)("text-lg font-semibold leading-none tracking-tight",e),...a}));el.displayName=V.displayName;let en=i.forwardRef(({className:e,...a},t)=>(0,s.jsx)(q,{ref:t,className:(0,ea.cn)("text-sm text-muted-foreground",e),...a}));en.displayName=q.displayName,e.s(["Dialog",()=>k,"DialogContent",()=>er,"DialogDescription",()=>en,"DialogFooter",()=>ei,"DialogHeader",()=>es,"DialogTitle",()=>el],76639)},84774,e=>{"use strict";var a=e.i(43476),t=e.i(71645),r=e.i(75157);let s=t.forwardRef(({className:e,...t},s)=>(0,a.jsx)("div",{className:"relative w-full overflow-auto",children:(0,a.jsx)("table",{ref:s,className:(0,r.cn)("w-full caption-bottom text-sm",e),...t})}));s.displayName="Table";let i=t.forwardRef(({className:e,...t},s)=>(0,a.jsx)("thead",{ref:s,className:(0,r.cn)("[&_tr]:border-b",e),...t}));i.displayName="TableHeader";let l=t.forwardRef(({className:e,...t},s)=>(0,a.jsx)("tbody",{ref:s,className:(0,r.cn)("[&_tr:last-child]:border-0",e),...t}));l.displayName="TableBody",t.forwardRef(({className:e,...t},s)=>(0,a.jsx)("tfoot",{ref:s,className:(0,r.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t})).displayName="TableFooter";let n=t.forwardRef(({className:e,...t},s)=>(0,a.jsx)("tr",{ref:s,className:(0,r.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));n.displayName="TableRow";let d=t.forwardRef(({className:e,...t},s)=>(0,a.jsx)("th",{ref:s,className:(0,r.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));d.displayName="TableHead";let o=t.forwardRef(({className:e,...t},s)=>(0,a.jsx)("td",{ref:s,className:(0,r.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));o.displayName="TableCell",t.forwardRef(({className:e,...t},s)=>(0,a.jsx)("caption",{ref:s,className:(0,r.cn)("mt-4 text-sm text-muted-foreground",e),...t})).displayName="TableCaption",e.s(["Table",()=>s,"TableBody",()=>l,"TableCell",()=>o,"TableHead",()=>d,"TableHeader",()=>i,"TableRow",()=>n])},41071,e=>{"use strict";let a=(0,e.i(75254).default)("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);e.s(["MoreHorizontal",()=>a],41071)},27612,e=>{"use strict";let a=(0,e.i(75254).default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);e.s(["Trash2",()=>a],27612)},26224,e=>{"use strict";e.s(["GR_STATUS_COLORS",0,{draft:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300",completed:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",cancelled:"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300"},"GR_STATUS_LABELS",0,{draft:"Draft",completed:"Selesai",cancelled:"Dibatalkan"},"MOVEMENT_REASON_LABELS",0,{purchase:"Pembelian",sales:"Penjualan/Penyerahan",adjustment_plus:"Penyesuaian (+)",adjustment_minus:"Penyesuaian (-)",return_supplier:"Retur ke Supplier",return_patient:"Retur dari Pasien",expired:"Kadaluarsa",damage:"Rusak/Pecah",transfer_in:"Mutasi Masuk",transfer_out:"Mutasi Keluar",initial_stock:"Stok Awal",other:"Lainnya"},"PO_STATUS_COLORS",0,{draft:"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300",pending_approval:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300",approved:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300",rejected:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300",ordered:"bg-indigo-100 text-indigo-800 dark:bg-indigo-900 dark:text-indigo-300",partial_received:"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-300",completed:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",cancelled:"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300"},"PO_STATUS_LABELS",0,{draft:"Draft",pending_approval:"Menunggu Persetujuan",approved:"Disetujui",rejected:"Ditolak",ordered:"Dipesan",partial_received:"Diterima Sebagian",completed:"Selesai",cancelled:"Dibatalkan"}])},68499,e=>{"use strict";let a;var t=e.i(43476),r=e.i(71645),s=e.i(20783),i=e.i(26999),l=e.i(81140),n=Symbol("radix.slottable"),d="AlertDialog",[o,c]=function(e,a=[]){let s=[],i=()=>{let a=s.map(e=>r.createContext(e));return function(t){let s=t?.[e]||a;return r.useMemo(()=>({[`__scope${e}`]:{...t,[e]:s}}),[t,s])}};return i.scopeName=e,[function(a,i){let l=r.createContext(i),n=s.length;s=[...s,i];let d=a=>{let{scope:s,children:i,...d}=a,o=s?.[e]?.[n]||l,c=r.useMemo(()=>d,Object.values(d));return(0,t.jsx)(o.Provider,{value:c,children:i})};return d.displayName=a+"Provider",[d,function(t,s){let d=s?.[e]?.[n]||l,o=r.useContext(d);if(o)return o;if(void 0!==i)return i;throw Error(`\`${t}\` must be used within \`${a}\``)}]},function(...e){let a=e[0];if(1===e.length)return a;let t=()=>{let t=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let s=t.reduce((a,{useScope:t,scopeName:r})=>{let s=t(e)[`__scope${r}`];return{...a,...s}},{});return r.useMemo(()=>({[`__scope${a.scopeName}`]:s}),[s])}};return t.scopeName=a.scopeName,t}(i,...a)]}(d,[i.createDialogScope]),u=(0,i.createDialogScope)(),m=e=>{let{__scopeAlertDialog:a,...r}=e,s=u(a);return(0,t.jsx)(i.Root,{...s,...r,modal:!0})};m.displayName=d,r.forwardRef((e,a)=>{let{__scopeAlertDialog:r,...s}=e,l=u(r);return(0,t.jsx)(i.Trigger,{...l,...s,ref:a})}).displayName="AlertDialogTrigger";var p=e=>{let{__scopeAlertDialog:a,...r}=e,s=u(a);return(0,t.jsx)(i.Portal,{...s,...r})};p.displayName="AlertDialogPortal";var x=r.forwardRef((e,a)=>{let{__scopeAlertDialog:r,...s}=e,l=u(r);return(0,t.jsx)(i.Overlay,{...l,...s,ref:a})});x.displayName="AlertDialogOverlay";var h="AlertDialogContent",[g,f]=o(h),b=((a=({children:e})=>(0,t.jsx)(t.Fragment,{children:e})).displayName="AlertDialogContent.Slottable",a.__radixId=n,a),j=r.forwardRef((e,a)=>{let{__scopeAlertDialog:n,children:d,...o}=e,c=u(n),m=r.useRef(null),p=(0,s.useComposedRefs)(a,m),x=r.useRef(null);return(0,t.jsx)(i.WarningProvider,{contentName:h,titleName:y,docsSlug:"alert-dialog",children:(0,t.jsx)(g,{scope:n,cancelRef:x,children:(0,t.jsxs)(i.Content,{role:"alertdialog",...c,...o,ref:p,onOpenAutoFocus:(0,l.composeEventHandlers)(o.onOpenAutoFocus,e=>{e.preventDefault(),x.current?.focus({preventScroll:!0})}),onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:[(0,t.jsx)(b,{children:d}),(0,t.jsx)(S,{contentRef:m})]})})})});j.displayName=h;var y="AlertDialogTitle",v=r.forwardRef((e,a)=>{let{__scopeAlertDialog:r,...s}=e,l=u(r);return(0,t.jsx)(i.Title,{...l,...s,ref:a})});v.displayName=y;var N="AlertDialogDescription",_=r.forwardRef((e,a)=>{let{__scopeAlertDialog:r,...s}=e,l=u(r);return(0,t.jsx)(i.Description,{...l,...s,ref:a})});_.displayName=N;var w=r.forwardRef((e,a)=>{let{__scopeAlertDialog:r,...s}=e,l=u(r);return(0,t.jsx)(i.Close,{...l,...s,ref:a})});w.displayName="AlertDialogAction";var C="AlertDialogCancel",k=r.forwardRef((e,a)=>{let{__scopeAlertDialog:r,...l}=e,{cancelRef:n}=f(C,r),d=u(r),o=(0,s.useComposedRefs)(a,n);return(0,t.jsx)(i.Close,{...d,...l,ref:o})});k.displayName=C;var S=({contentRef:e})=>{let a=`\`${h}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${h}\` by passing a \`${N}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${h}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return r.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(a)},[a,e]),null},D=e.i(75157),T=e.i(19455);let R=r.forwardRef(({className:e,...a},r)=>(0,t.jsx)(x,{className:(0,D.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...a,ref:r}));R.displayName=x.displayName;let P=r.forwardRef(({className:e,...a},r)=>(0,t.jsxs)(p,{children:[(0,t.jsx)(R,{}),(0,t.jsx)(j,{ref:r,className:(0,D.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...a})]}));P.displayName=j.displayName;let A=({className:e,...a})=>(0,t.jsx)("div",{className:(0,D.cn)("flex flex-col space-y-2 text-center sm:text-left",e),...a});A.displayName="AlertDialogHeader";let I=({className:e,...a})=>(0,t.jsx)("div",{className:(0,D.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...a});I.displayName="AlertDialogFooter";let M=r.forwardRef(({className:e,...a},r)=>(0,t.jsx)(v,{ref:r,className:(0,D.cn)("text-lg font-semibold",e),...a}));M.displayName=v.displayName;let O=r.forwardRef(({className:e,...a},r)=>(0,t.jsx)(_,{ref:r,className:(0,D.cn)("text-sm text-muted-foreground",e),...a}));O.displayName=_.displayName;let H=r.forwardRef(({className:e,...a},r)=>(0,t.jsx)(w,{ref:r,className:(0,D.cn)((0,T.buttonVariants)(),e),...a}));H.displayName=w.displayName;let F=r.forwardRef(({className:e,...a},r)=>(0,t.jsx)(k,{ref:r,className:(0,D.cn)((0,T.buttonVariants)({variant:"outline"}),"mt-2 sm:mt-0",e),...a}));F.displayName=k.displayName,e.s(["AlertDialog",()=>m,"AlertDialogAction",()=>H,"AlertDialogCancel",()=>F,"AlertDialogContent",()=>P,"AlertDialogDescription",()=>O,"AlertDialogFooter",()=>I,"AlertDialogHeader",()=>A,"AlertDialogTitle",()=>M],68499)},60486,e=>{"use strict";var a=e.i(43476),t=e.i(71645),r=e.i(53145),s=e.i(94814),i=e.i(50270),l=e.i(1851),n=e.i(42956),d=e.i(7233),o=e.i(55436),c=e.i(97548),u=e.i(41071),m=e.i(86536),p=e.i(88699),x=e.i(27612),h=e.i(69638),g=e.i(73884),f=e.i(95729),b=e.i(88844),j=e.i(78583),y=e.i(31278),v=e.i(37727),N=e.i(78894),_=e.i(46696),w=e.i(19455),C=e.i(93479),k=e.i(10204),S=e.i(24687),D=e.i(87486),T=e.i(15288),R=e.i(84774),P=e.i(76639),A=e.i(55146),I=e.i(67489),M=e.i(68499),O=e.i(58512),H=e.i(2747),F=e.i(45983),E=e.i(26224);let B=i.z.object({purchase_order_item_id:i.z.number().optional(),medicine_id:i.z.number().min(1,"Pilih obat"),quantity:i.z.number().min(1,"Jumlah minimal 1"),unit:i.z.string().min(1,"Unit harus diisi"),unit_price:i.z.number().min(0,"Harga tidak boleh negatif"),batch_number:i.z.string().min(1,"No. batch harus diisi"),expiry_date:i.z.string().min(1,"Tanggal kadaluarsa harus diisi"),notes:i.z.string().optional()}),z=i.z.object({purchase_order_id:i.z.number().optional(),supplier_id:i.z.number().min(1,"Pilih supplier"),receipt_date:i.z.string().min(1,"Tanggal penerimaan harus diisi"),supplier_invoice_number:i.z.string().optional(),supplier_invoice_date:i.z.string().optional(),notes:i.z.string().optional(),items:i.z.array(B).min(1,"Minimal 1 item")});function $(){let[e,i]=(0,t.useState)([]),[B,$]=(0,t.useState)(null),[L,V]=(0,t.useState)([]),[G,q]=(0,t.useState)([]),[U,W]=(0,t.useState)([]),[K,X]=(0,t.useState)(!0),[J,Z]=(0,t.useState)(!0),[Q,Y]=(0,t.useState)(1),[ee,ea]=(0,t.useState)(1),[et,er]=(0,t.useState)(0),[es,ei]=(0,t.useState)({search:"",status:"all",supplier_id:void 0,page:1,per_page:10}),[el,en]=(0,t.useState)(!1),[ed,eo]=(0,t.useState)(!1),[ec,eu]=(0,t.useState)(!1),[em,ep]=(0,t.useState)(!1),[ex,eh]=(0,t.useState)(!1),[eg,ef]=(0,t.useState)(!1),[eb,ej]=(0,t.useState)(null),[ey,ev]=(0,t.useState)(!1),eN=(0,r.useForm)({resolver:(0,s.zodResolver)(z),defaultValues:{purchase_order_id:void 0,supplier_id:0,receipt_date:(0,l.format)(new Date,"yyyy-MM-dd"),supplier_invoice_number:"",supplier_invoice_date:"",notes:"",items:[{medicine_id:0,quantity:1,unit:"",unit_price:0,batch_number:"",expiry_date:"",notes:""}]}}),{fields:e_,append:ew,remove:eC,replace:ek}=(0,r.useFieldArray)({control:eN.control,name:"items"}),eS=(0,t.useCallback)(async()=>{X(!0);try{let e=await F.goodsReceiptService.getGoodsReceipts({...es,page:Q});i(e.data),ea(e.last_page),er(e.total)}catch(e){console.error("Error fetching goods receipts:",e),_.toast.error("Gagal memuat data penerimaan barang")}finally{X(!1)}},[es,Q]),eD=async()=>{Z(!0);try{let e=await F.goodsReceiptService.getGoodsReceiptStats();$(e)}catch(e){console.error("Error fetching stats:",e)}finally{Z(!1)}},eT=async()=>{try{let e=await F.supplierService.getActiveSuppliers();V(e.data)}catch(e){console.error("Error fetching suppliers:",e)}},eR=async()=>{try{let e=await F.medicineService.getActiveMedicines({});q(e.data)}catch(e){console.error("Error fetching medicines:",e)}},eP=async()=>{try{let e=await F.purchaseOrderService.getNeedsReceiving();W(e)}catch(e){console.error("Error fetching pending POs:",e)}};(0,t.useEffect)(()=>{eS(),eD(),eT(),eR(),eP()},[eS]);let eA=e=>{e?(ej(e),eN.reset({purchase_order_id:e.purchase_order_id||void 0,supplier_id:e.supplier_id,receipt_date:e.receipt_date,supplier_invoice_number:e.supplier_invoice_number||"",supplier_invoice_date:e.supplier_invoice_date||"",notes:e.notes||"",items:e.items?.map(e=>({purchase_order_item_id:e.purchase_order_item_id||void 0,medicine_id:e.medicine_id,quantity:e.quantity,unit:e.unit,unit_price:e.unit_price,batch_number:e.batch_number,expiry_date:e.expiry_date,notes:e.notes||""}))||[]})):(ej(null),eN.reset({purchase_order_id:void 0,supplier_id:0,receipt_date:(0,l.format)(new Date,"yyyy-MM-dd"),supplier_invoice_number:"",supplier_invoice_date:"",notes:"",items:[{medicine_id:0,quantity:1,unit:"",unit_price:0,batch_number:"",expiry_date:"",notes:""}]})),eo(!0)},eI=async e=>{try{let a=await F.goodsReceiptService.createFromPo(e.id);eN.reset({purchase_order_id:e.id,supplier_id:e.supplier_id,receipt_date:(0,l.format)(new Date,"yyyy-MM-dd"),supplier_invoice_number:"",supplier_invoice_date:"",notes:"",items:a.items.map(e=>({purchase_order_item_id:e.purchase_order_item_id,medicine_id:e.medicine_id,quantity:e.quantity,unit:e.unit,unit_price:e.unit_price,batch_number:"",expiry_date:"",notes:""}))}),ef(!1),eo(!0)}catch(e){_.toast.error("Gagal memuat data dari PO")}},eM=async e=>{try{let a=await F.goodsReceiptService.getGoodsReceiptById(e.id);ej(a),eu(!0)}catch(e){_.toast.error("Gagal memuat detail penerimaan")}},eO=async e=>{ev(!0);try{let a={purchase_order_id:e.purchase_order_id,supplier_id:e.supplier_id,receipt_date:e.receipt_date,supplier_invoice_number:e.supplier_invoice_number||void 0,supplier_invoice_date:e.supplier_invoice_date||void 0,notes:e.notes||void 0,items:e.items.map(e=>({purchase_order_item_id:e.purchase_order_item_id,medicine_id:e.medicine_id,quantity:e.quantity,unit:e.unit,unit_price:e.unit_price,batch_number:e.batch_number,expiry_date:e.expiry_date,notes:e.notes}))};eb?(await F.goodsReceiptService.updateGoodsReceipt(eb.id,a),_.toast.success("Penerimaan barang berhasil diupdate")):(await F.goodsReceiptService.createGoodsReceipt(a),_.toast.success("Penerimaan barang berhasil dibuat")),eo(!1),eS(),eD(),eP()}catch(e){_.toast.error(e?.response?.data?.message||"Gagal menyimpan penerimaan barang")}finally{ev(!1)}},eH=async()=>{if(eb){ev(!0);try{await F.goodsReceiptService.deleteGoodsReceipt(eb.id),_.toast.success("Penerimaan barang berhasil dihapus"),ep(!1),ej(null),eS(),eD()}catch(e){_.toast.error(e?.response?.data?.message||"Gagal menghapus penerimaan barang")}finally{ev(!1)}}},eF=async()=>{if(eb){ev(!0);try{await F.goodsReceiptService.complete(eb.id),_.toast.success("Penerimaan barang selesai. Stok telah diupdate."),eh(!1),ej(null),eS(),eD(),eP()}catch(e){_.toast.error(e?.response?.data?.message||"Gagal menyelesaikan penerimaan")}finally{ev(!1)}}},eE=async e=>{try{await F.goodsReceiptService.cancel(e.id),_.toast.success("Penerimaan barang berhasil dibatalkan"),eS(),eD()}catch(e){_.toast.error(e?.response?.data?.message||"Gagal membatalkan penerimaan")}},eB=e=>{let a=eN.watch(`items.${e}`);return a?a.quantity*a.unit_price:0},ez=e=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(e),e$=e=>(0,a.jsx)(D.Badge,{className:E.GR_STATUS_COLORS[e],children:E.GR_STATUS_LABELS[e]});return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold tracking-tight",children:"Penerimaan Barang"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Kelola penerimaan barang dari supplier"})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[U.length>0&&(0,a.jsxs)(w.Button,{variant:"outline",onClick:()=>ef(!0),children:[(0,a.jsx)(b.Package,{className:"mr-2 h-4 w-4"}),"Dari PO (",U.length,")"]}),(0,a.jsxs)(w.Button,{onClick:()=>eA(),children:[(0,a.jsx)(d.Plus,{className:"mr-2 h-4 w-4"}),"Penerimaan Baru"]})]})]}),(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-4",children:[(0,a.jsxs)(T.Card,{children:[(0,a.jsxs)(T.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(T.CardTitle,{className:"text-sm font-medium",children:"Total Penerimaan"}),(0,a.jsx)(j.FileText,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsx)(T.CardContent,{children:J?(0,a.jsx)(H.Skeleton,{className:"h-8 w-20"}):(0,a.jsx)("div",{className:"text-2xl font-bold",children:B?.total||0})})]}),(0,a.jsxs)(T.Card,{children:[(0,a.jsxs)(T.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(T.CardTitle,{className:"text-sm font-medium",children:"Draft"}),(0,a.jsx)(f.PackageCheck,{className:"h-4 w-4 text-yellow-500"})]}),(0,a.jsx)(T.CardContent,{children:J?(0,a.jsx)(H.Skeleton,{className:"h-8 w-20"}):(0,a.jsx)("div",{className:"text-2xl font-bold text-yellow-600",children:B?.draft||0})})]}),(0,a.jsxs)(T.Card,{children:[(0,a.jsxs)(T.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(T.CardTitle,{className:"text-sm font-medium",children:"Hari Ini"}),(0,a.jsx)(b.Package,{className:"h-4 w-4 text-blue-500"})]}),(0,a.jsx)(T.CardContent,{children:J?(0,a.jsx)(H.Skeleton,{className:"h-8 w-20"}):(0,a.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:B?.total_today||0})})]}),(0,a.jsxs)(T.Card,{children:[(0,a.jsxs)(T.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(T.CardTitle,{className:"text-sm font-medium",children:"Nilai Bulan Ini"}),(0,a.jsx)(j.FileText,{className:"h-4 w-4 text-green-500"})]}),(0,a.jsx)(T.CardContent,{children:J?(0,a.jsx)(H.Skeleton,{className:"h-8 w-20"}):(0,a.jsx)("div",{className:"text-2xl font-bold text-green-600",children:ez(B?.total_value_this_month||0)})})]})]}),(0,a.jsx)(T.Card,{children:(0,a.jsxs)(T.CardContent,{className:"pt-6",children:[(0,a.jsx)("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:(0,a.jsxs)("div",{className:"flex flex-1 items-center gap-2",children:[(0,a.jsxs)("div",{className:"relative flex-1 md:max-w-sm",children:[(0,a.jsx)(o.Search,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),(0,a.jsx)(C.Input,{placeholder:"Cari no. penerimaan...",value:es.search,onChange:e=>{var a;return a=e.target.value,void(ei(e=>({...e,search:a})),Y(1))},className:"pl-9"})]}),(0,a.jsx)(w.Button,{variant:"outline",size:"icon",onClick:()=>en(!el),children:(0,a.jsx)(c.Filter,{className:"h-4 w-4"})})]})}),el&&(0,a.jsxs)("div",{className:"mt-4 grid gap-4 md:grid-cols-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(k.Label,{children:"Status"}),(0,a.jsxs)(I.Select,{value:es.status,onValueChange:e=>{ei(a=>({...a,status:e})),Y(1)},children:[(0,a.jsx)(I.SelectTrigger,{children:(0,a.jsx)(I.SelectValue,{placeholder:"Semua Status"})}),(0,a.jsxs)(I.SelectContent,{children:[(0,a.jsx)(I.SelectItem,{value:"all",children:"Semua Status"}),(0,a.jsx)(I.SelectItem,{value:"draft",children:"Draft"}),(0,a.jsx)(I.SelectItem,{value:"completed",children:"Selesai"}),(0,a.jsx)(I.SelectItem,{value:"cancelled",children:"Dibatalkan"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(k.Label,{children:"Supplier"}),(0,a.jsxs)(I.Select,{value:es.supplier_id?.toString()||"",onValueChange:e=>{ei(a=>({...a,supplier_id:e?parseInt(e):void 0})),Y(1)},children:[(0,a.jsx)(I.SelectTrigger,{children:(0,a.jsx)(I.SelectValue,{placeholder:"Semua Supplier"})}),(0,a.jsxs)(I.SelectContent,{children:[(0,a.jsx)(I.SelectItem,{value:"",children:"Semua Supplier"}),L.map(e=>(0,a.jsx)(I.SelectItem,{value:e.id.toString(),children:e.name},e.id))]})]})]})]})]})}),(0,a.jsxs)(T.Card,{children:[(0,a.jsx)(T.CardContent,{className:"p-0",children:(0,a.jsxs)(R.Table,{children:[(0,a.jsx)(R.TableHeader,{children:(0,a.jsxs)(R.TableRow,{children:[(0,a.jsx)(R.TableHead,{children:"No. Penerimaan"}),(0,a.jsx)(R.TableHead,{children:"Tanggal"}),(0,a.jsx)(R.TableHead,{children:"Supplier"}),(0,a.jsx)(R.TableHead,{children:"No. PO"}),(0,a.jsx)(R.TableHead,{children:"Total"}),(0,a.jsx)(R.TableHead,{children:"Status"}),(0,a.jsx)(R.TableHead,{className:"text-right",children:"Aksi"})]})}),(0,a.jsx)(R.TableBody,{children:K?[void 0,void 0,void 0,void 0,void 0].map((e,t)=>(0,a.jsx)(R.TableRow,{children:(0,a.jsx)(R.TableCell,{colSpan:7,children:(0,a.jsx)(H.Skeleton,{className:"h-12 w-full"})})},t)):0===e.length?(0,a.jsx)(R.TableRow,{children:(0,a.jsx)(R.TableCell,{colSpan:7,className:"text-center py-8",children:(0,a.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,a.jsx)(f.PackageCheck,{className:"h-8 w-8 text-muted-foreground"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Belum ada penerimaan barang"})]})})}):e.map(e=>(0,a.jsxs)(R.TableRow,{children:[(0,a.jsx)(R.TableCell,{className:"font-medium",children:e.receipt_number}),(0,a.jsx)(R.TableCell,{children:(0,l.format)(new Date(e.receipt_date),"dd MMM yyyy",{locale:n.id})}),(0,a.jsx)(R.TableCell,{children:e.supplier?.name||"-"}),(0,a.jsx)(R.TableCell,{children:e.purchase_order?.po_number||"-"}),(0,a.jsx)(R.TableCell,{children:ez(e.total_amount)}),(0,a.jsx)(R.TableCell,{children:e$(e.status)}),(0,a.jsx)(R.TableCell,{className:"text-right",children:(0,a.jsxs)(A.DropdownMenu,{children:[(0,a.jsx)(A.DropdownMenuTrigger,{asChild:!0,children:(0,a.jsx)(w.Button,{variant:"ghost",size:"icon",children:(0,a.jsx)(u.MoreHorizontal,{className:"h-4 w-4"})})}),(0,a.jsxs)(A.DropdownMenuContent,{align:"end",children:[(0,a.jsx)(A.DropdownMenuLabel,{children:"Aksi"}),(0,a.jsx)(A.DropdownMenuSeparator,{}),(0,a.jsxs)(A.DropdownMenuItem,{onClick:()=>eM(e),children:[(0,a.jsx)(m.Eye,{className:"mr-2 h-4 w-4"}),"Lihat Detail"]}),"draft"===e.status&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(A.DropdownMenuItem,{onClick:()=>eA(e),children:[(0,a.jsx)(p.Pencil,{className:"mr-2 h-4 w-4"}),"Edit"]}),(0,a.jsxs)(A.DropdownMenuItem,{onClick:()=>{ej(e),eh(!0)},children:[(0,a.jsx)(h.CheckCircle,{className:"mr-2 h-4 w-4 text-green-600"}),"Selesaikan"]}),(0,a.jsx)(A.DropdownMenuSeparator,{}),(0,a.jsxs)(A.DropdownMenuItem,{className:"text-red-600",onClick:()=>eE(e),children:[(0,a.jsx)(g.XCircle,{className:"mr-2 h-4 w-4"}),"Batalkan"]}),(0,a.jsxs)(A.DropdownMenuItem,{className:"text-red-600",onClick:()=>{ej(e),ep(!0)},children:[(0,a.jsx)(x.Trash2,{className:"mr-2 h-4 w-4"}),"Hapus"]})]})]})]})})]},e.id))})]})}),ee>1&&(0,a.jsxs)("div",{className:"flex items-center justify-between px-4 py-4 border-t",children:[(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Menampilkan ",e.length," dari ",et," data"]}),(0,a.jsx)(O.Pagination,{currentPage:Q,totalPages:ee,onPageChange:Y})]})]}),(0,a.jsx)(P.Dialog,{open:eg,onOpenChange:ef,children:(0,a.jsxs)(P.DialogContent,{className:"max-w-2xl",children:[(0,a.jsxs)(P.DialogHeader,{children:[(0,a.jsx)(P.DialogTitle,{children:"Pilih Purchase Order"}),(0,a.jsx)(P.DialogDescription,{children:"Pilih PO yang akan diterima barangnya"})]}),(0,a.jsx)("div",{className:"max-h-96 overflow-y-auto",children:(0,a.jsxs)(R.Table,{children:[(0,a.jsx)(R.TableHeader,{children:(0,a.jsxs)(R.TableRow,{children:[(0,a.jsx)(R.TableHead,{children:"No. PO"}),(0,a.jsx)(R.TableHead,{children:"Supplier"}),(0,a.jsx)(R.TableHead,{children:"Tanggal"}),(0,a.jsx)(R.TableHead,{className:"text-right",children:"Aksi"})]})}),(0,a.jsx)(R.TableBody,{children:U.map(e=>(0,a.jsxs)(R.TableRow,{children:[(0,a.jsx)(R.TableCell,{className:"font-medium",children:e.po_number}),(0,a.jsx)(R.TableCell,{children:e.supplier?.name}),(0,a.jsx)(R.TableCell,{children:(0,l.format)(new Date(e.order_date),"dd MMM yyyy",{locale:n.id})}),(0,a.jsx)(R.TableCell,{className:"text-right",children:(0,a.jsx)(w.Button,{size:"sm",onClick:()=>eI(e),children:"Pilih"})})]},e.id))})]})})]})}),(0,a.jsx)(P.Dialog,{open:ed,onOpenChange:eo,children:(0,a.jsxs)(P.DialogContent,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)(P.DialogHeader,{children:[(0,a.jsx)(P.DialogTitle,{children:eb?"Edit Penerimaan Barang":"Penerimaan Barang Baru"}),(0,a.jsx)(P.DialogDescription,{children:eb?"Ubah data penerimaan barang":"Input penerimaan barang dari supplier"})]}),(0,a.jsxs)("form",{onSubmit:eN.handleSubmit(eO),className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(k.Label,{htmlFor:"supplier_id",children:["Supplier ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsxs)(I.Select,{value:eN.watch("supplier_id")?.toString()||"",onValueChange:e=>eN.setValue("supplier_id",parseInt(e)),disabled:!!eN.watch("purchase_order_id"),children:[(0,a.jsx)(I.SelectTrigger,{children:(0,a.jsx)(I.SelectValue,{placeholder:"Pilih Supplier"})}),(0,a.jsx)(I.SelectContent,{children:L.map(e=>(0,a.jsx)(I.SelectItem,{value:e.id.toString(),children:e.name},e.id))})]}),eN.formState.errors.supplier_id&&(0,a.jsx)("p",{className:"text-sm text-red-500",children:eN.formState.errors.supplier_id.message})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(k.Label,{htmlFor:"receipt_date",children:["Tanggal Penerimaan ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)(C.Input,{type:"date",...eN.register("receipt_date")}),eN.formState.errors.receipt_date&&(0,a.jsx)("p",{className:"text-sm text-red-500",children:eN.formState.errors.receipt_date.message})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(k.Label,{htmlFor:"supplier_invoice_number",children:"No. Faktur Supplier"}),(0,a.jsx)(C.Input,{...eN.register("supplier_invoice_number"),placeholder:"Nomor faktur dari supplier"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(k.Label,{htmlFor:"supplier_invoice_date",children:"Tanggal Faktur"}),(0,a.jsx)(C.Input,{type:"date",...eN.register("supplier_invoice_date")})]}),(0,a.jsxs)("div",{className:"md:col-span-2 space-y-2",children:[(0,a.jsx)(k.Label,{htmlFor:"notes",children:"Catatan"}),(0,a.jsx)(S.Textarea,{...eN.register("notes"),placeholder:"Catatan tambahan...",rows:2})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(k.Label,{children:"Item Penerimaan"}),(0,a.jsxs)(w.Button,{type:"button",variant:"outline",size:"sm",onClick:()=>ew({medicine_id:0,quantity:1,unit:"",unit_price:0,batch_number:"",expiry_date:"",notes:""}),children:[(0,a.jsx)(d.Plus,{className:"mr-2 h-4 w-4"}),"Tambah Item"]})]}),(0,a.jsx)("div",{className:"space-y-4",children:e_.map((e,t)=>{let r=eN.watch(`items.${t}.expiry_date`),s=r&&new Date(r)<new Date(Date.now()+7776e6);return(0,a.jsxs)(T.Card,{className:"p-4",children:[(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-6",children:[(0,a.jsxs)("div",{className:"md:col-span-2 space-y-2",children:[(0,a.jsx)(k.Label,{children:"Obat"}),(0,a.jsxs)(I.Select,{value:eN.watch(`items.${t}.medicine_id`)?.toString()||"",onValueChange:e=>{let a=G.find(a=>a.id===parseInt(e));eN.setValue(`items.${t}.medicine_id`,parseInt(e)),a&&(eN.setValue(`items.${t}.unit`,a.unit),eN.setValue(`items.${t}.unit_price`,a.purchase_price))},children:[(0,a.jsx)(I.SelectTrigger,{children:(0,a.jsx)(I.SelectValue,{placeholder:"Pilih Obat"})}),(0,a.jsx)(I.SelectContent,{children:G.map(e=>(0,a.jsx)(I.SelectItem,{value:e.id.toString(),children:e.name},e.id))})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(k.Label,{children:"Jumlah"}),(0,a.jsx)(C.Input,{type:"number",min:"1",...eN.register(`items.${t}.quantity`,{valueAsNumber:!0})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(k.Label,{children:"Harga Satuan"}),(0,a.jsx)(C.Input,{type:"number",min:"0",...eN.register(`items.${t}.unit_price`,{valueAsNumber:!0})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(k.Label,{children:["No. Batch ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)(C.Input,{...eN.register(`items.${t}.batch_number`),placeholder:"No. Batch"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(k.Label,{children:["Kadaluarsa ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(C.Input,{type:"date",...eN.register(`items.${t}.expiry_date`),className:s?"border-yellow-500":""}),s&&(0,a.jsx)(N.AlertTriangle,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-yellow-500"})]})]}),e_.length>1&&(0,a.jsx)("div",{className:"flex items-end",children:(0,a.jsx)(w.Button,{type:"button",variant:"ghost",size:"icon",onClick:()=>eC(t),children:(0,a.jsx)(v.X,{className:"h-4 w-4 text-red-500"})})})]}),(0,a.jsx)("div",{className:"mt-2 flex justify-end",children:(0,a.jsxs)("span",{className:"text-sm text-muted-foreground",children:["Subtotal: ",ez(eB(t))]})})]},e.id)})}),eN.formState.errors.items&&(0,a.jsx)("p",{className:"text-sm text-red-500",children:eN.formState.errors.items.message}),(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Grand Total"}),(0,a.jsx)("p",{className:"text-2xl font-bold",children:ez(eN.watch("items").reduce((e,a,t)=>e+eB(t),0))})]})})]}),(0,a.jsxs)(P.DialogFooter,{children:[(0,a.jsx)(w.Button,{type:"button",variant:"outline",onClick:()=>eo(!1),children:"Batal"}),(0,a.jsxs)(w.Button,{type:"submit",disabled:ey,children:[ey&&(0,a.jsx)(y.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),eb?"Simpan Perubahan":"Simpan Draft"]})]})]})]})}),(0,a.jsx)(P.Dialog,{open:ec,onOpenChange:eu,children:(0,a.jsxs)(P.DialogContent,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)(P.DialogHeader,{children:[(0,a.jsx)(P.DialogTitle,{children:"Detail Penerimaan Barang"}),(0,a.jsx)(P.DialogDescription,{children:eb?.receipt_number})]}),eb&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Supplier"}),(0,a.jsx)("p",{className:"font-medium",children:eb.supplier?.name})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Status"}),e$(eb.status)]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Tanggal Penerimaan"}),(0,a.jsx)("p",{className:"font-medium",children:(0,l.format)(new Date(eb.receipt_date),"dd MMMM yyyy",{locale:n.id})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"No. PO"}),(0,a.jsx)("p",{className:"font-medium",children:eb.purchase_order?.po_number||"-"})]}),eb.supplier_invoice_number&&(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"No. Faktur Supplier"}),(0,a.jsx)("p",{className:"font-medium",children:eb.supplier_invoice_number})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Diterima Oleh"}),(0,a.jsx)("p",{className:"font-medium",children:eb.receiver?.name})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium mb-2",children:"Item Penerimaan"}),(0,a.jsxs)(R.Table,{children:[(0,a.jsx)(R.TableHeader,{children:(0,a.jsxs)(R.TableRow,{children:[(0,a.jsx)(R.TableHead,{children:"Obat"}),(0,a.jsx)(R.TableHead,{children:"No. Batch"}),(0,a.jsx)(R.TableHead,{children:"Kadaluarsa"}),(0,a.jsx)(R.TableHead,{className:"text-right",children:"Qty"}),(0,a.jsx)(R.TableHead,{className:"text-right",children:"Harga"}),(0,a.jsx)(R.TableHead,{className:"text-right",children:"Total"})]})}),(0,a.jsx)(R.TableBody,{children:eb.items?.map(e=>(0,a.jsxs)(R.TableRow,{children:[(0,a.jsx)(R.TableCell,{children:e.medicine?.name}),(0,a.jsx)(R.TableCell,{children:e.batch_number}),(0,a.jsx)(R.TableCell,{children:(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,l.format)(new Date(e.expiry_date),"dd MMM yyyy",{locale:n.id}),e.is_expiring_soon&&(0,a.jsx)(N.AlertTriangle,{className:"h-4 w-4 text-yellow-500"})]})}),(0,a.jsxs)(R.TableCell,{className:"text-right",children:[e.quantity," ",e.unit]}),(0,a.jsx)(R.TableCell,{className:"text-right",children:ez(e.unit_price)}),(0,a.jsx)(R.TableCell,{className:"text-right",children:ez(e.total_price)})]},e.id))})]})]}),(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Total"}),(0,a.jsx)("p",{className:"text-2xl font-bold",children:ez(eb.total_amount)})]})})]})]})}),(0,a.jsx)(M.AlertDialog,{open:em,onOpenChange:ep,children:(0,a.jsxs)(M.AlertDialogContent,{children:[(0,a.jsxs)(M.AlertDialogHeader,{children:[(0,a.jsx)(M.AlertDialogTitle,{children:"Hapus Penerimaan Barang?"}),(0,a.jsxs)(M.AlertDialogDescription,{children:["Penerimaan ",eb?.receipt_number," akan dihapus permanen. Tindakan ini tidak dapat dibatalkan."]})]}),(0,a.jsxs)(M.AlertDialogFooter,{children:[(0,a.jsx)(M.AlertDialogCancel,{children:"Batal"}),(0,a.jsxs)(M.AlertDialogAction,{onClick:eH,className:"bg-red-600 hover:bg-red-700",disabled:ey,children:[ey&&(0,a.jsx)(y.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Hapus"]})]})]})}),(0,a.jsx)(M.AlertDialog,{open:ex,onOpenChange:eh,children:(0,a.jsxs)(M.AlertDialogContent,{children:[(0,a.jsxs)(M.AlertDialogHeader,{children:[(0,a.jsx)(M.AlertDialogTitle,{children:"Selesaikan Penerimaan Barang?"}),(0,a.jsxs)(M.AlertDialogDescription,{children:["Penerimaan ",eb?.receipt_number," akan diselesaikan. Stok obat akan bertambah sesuai item yang diterima dan batch baru akan dibuat.",(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),(0,a.jsx)("strong",{children:"Tindakan ini tidak dapat dibatalkan."})]})]}),(0,a.jsxs)(M.AlertDialogFooter,{children:[(0,a.jsx)(M.AlertDialogCancel,{children:"Batal"}),(0,a.jsxs)(M.AlertDialogAction,{onClick:eF,className:"bg-green-600 hover:bg-green-700",disabled:ey,children:[ey&&(0,a.jsx)(y.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Selesaikan"]})]})]})})]})}e.s(["default",()=>$])}]);
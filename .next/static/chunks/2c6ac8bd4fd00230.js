(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,15288,e=>{"use strict";var a=e.i(43476),t=e.i(71645),r=e.i(75157);let l=t.forwardRef(({className:e,...t},l)=>(0,a.jsx)("div",{ref:l,className:(0,r.cn)("rounded-xl border bg-card text-card-foreground shadow",e),...t}));l.displayName="Card";let n=t.forwardRef(({className:e,...t},l)=>(0,a.jsx)("div",{ref:l,className:(0,r.cn)("flex flex-col space-y-1.5 p-6",e),...t}));n.displayName="CardHeader";let i=t.forwardRef(({className:e,...t},l)=>(0,a.jsx)("div",{ref:l,className:(0,r.cn)("font-semibold leading-none tracking-tight",e),...t}));i.displayName="CardTitle";let s=t.forwardRef(({className:e,...t},l)=>(0,a.jsx)("div",{ref:l,className:(0,r.cn)("text-sm text-muted-foreground",e),...t}));s.displayName="CardDescription";let d=t.forwardRef(({className:e,...t},l)=>(0,a.jsx)("div",{ref:l,className:(0,r.cn)("p-6 pt-0",e),...t}));d.displayName="CardContent",t.forwardRef(({className:e,...t},l)=>(0,a.jsx)("div",{ref:l,className:(0,r.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter",e.s(["Card",()=>l,"CardContent",()=>d,"CardDescription",()=>s,"CardHeader",()=>n,"CardTitle",()=>i])},87486,e=>{"use strict";var a=e.i(43476),t=e.i(25913),r=e.i(75157);let l=(0,t.cva)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-emerald-100 text-emerald-700 dark:bg-emerald-950 dark:text-emerald-400",warning:"border-transparent bg-amber-100 text-amber-700 dark:bg-amber-950 dark:text-amber-400",error:"border-transparent bg-red-100 text-red-700 dark:bg-red-950 dark:text-red-400",info:"border-transparent bg-blue-100 text-blue-700 dark:bg-blue-950 dark:text-blue-400",super_admin:"border-transparent bg-purple-100 text-purple-700 dark:bg-purple-950 dark:text-purple-400",admin_klinik:"border-transparent bg-blue-100 text-blue-700 dark:bg-blue-950 dark:text-blue-400",dokter:"border-transparent bg-green-100 text-green-700 dark:bg-green-950 dark:text-green-400",perawat:"border-transparent bg-teal-100 text-teal-700 dark:bg-teal-950 dark:text-teal-400",kasir:"border-transparent bg-orange-100 text-orange-700 dark:bg-orange-950 dark:text-orange-400",apoteker:"border-transparent bg-emerald-100 text-emerald-700 dark:bg-emerald-950 dark:text-emerald-400",pasien:"border-transparent bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-400"}},defaultVariants:{variant:"default"}});function n({className:e,variant:t,...n}){return(0,a.jsx)("div",{className:(0,r.cn)(l({variant:t}),e),...n})}e.s(["Badge",()=>n])},16715,e=>{"use strict";let a=(0,e.i(75254).default)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);e.s(["RefreshCw",()=>a],16715)},90893,e=>{"use strict";var a=e.i(63816);e.s(["default",0,{getDepartments:async(e={})=>(await a.default.get("/api/departments",{params:{search:e.search||void 0,status:"all"===e.status?void 0:e.status,page:e.page||1,per_page:e.per_page||10}})).data,getActiveDepartments:async()=>(await a.default.get("/api/departments/active")).data,getDepartmentById:async e=>(await a.default.get(`/api/departments/${e}`)).data,createDepartment:async e=>(await a.default.post("/api/departments",e)).data,updateDepartment:async(e,t)=>(await a.default.put(`/api/departments/${e}`,t)).data,deleteDepartment:async e=>(await a.default.delete(`/api/departments/${e}`)).data,toggleDepartmentStatus:async e=>(await a.default.patch(`/api/departments/${e}/toggle-status`)).data,getDepartmentStats:async()=>(await a.default.get("/api/departments/stats")).data,getColorOptions:()=>[{value:"blue",label:"Biru",class:"bg-blue-500"},{value:"green",label:"Hijau",class:"bg-green-500"},{value:"red",label:"Merah",class:"bg-red-500"},{value:"yellow",label:"Kuning",class:"bg-yellow-500"},{value:"purple",label:"Ungu",class:"bg-purple-500"},{value:"pink",label:"Pink",class:"bg-pink-500"},{value:"indigo",label:"Indigo",class:"bg-indigo-500"},{value:"cyan",label:"Cyan",class:"bg-cyan-500"},{value:"orange",label:"Oranye",class:"bg-orange-500"},{value:"teal",label:"Teal",class:"bg-teal-500"}],getIconOptions:()=>[{value:"stethoscope",label:"Stetoskop"},{value:"tooth",label:"Gigi"},{value:"baby",label:"Bayi"},{value:"heart",label:"Jantung"},{value:"eye",label:"Mata"},{value:"ear",label:"Telinga"},{value:"hand",label:"Tangan"},{value:"flask",label:"Lab"},{value:"scan",label:"Radiologi"},{value:"pill",label:"Obat"},{value:"syringe",label:"Suntik"},{value:"bandage",label:"Perban"},{value:"hospital",label:"Rumah Sakit"},{value:"activity",label:"Aktivitas"}],getColorClass(e){let a={blue:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300",green:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",red:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300",yellow:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300",purple:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-300",pink:"bg-pink-100 text-pink-800 dark:bg-pink-900 dark:text-pink-300",indigo:"bg-indigo-100 text-indigo-800 dark:bg-indigo-900 dark:text-indigo-300",cyan:"bg-cyan-100 text-cyan-800 dark:bg-cyan-900 dark:text-cyan-300",orange:"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-300",teal:"bg-teal-100 text-teal-800 dark:bg-teal-900 dark:text-teal-300"};return a[e]||a.blue}}])},56909,e=>{"use strict";let a=(0,e.i(75254).default)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);e.s(["Save",()=>a],56909)},3497,e=>{"use strict";var a=e.i(63816);e.s(["default",0,{async getQueues(e={}){let t=new URLSearchParams;return e.date&&t.append("date",e.date),e.department_id&&t.append("department_id",e.department_id.toString()),e.status&&t.append("status",e.status),e.page&&t.append("page",e.page.toString()),e.per_page&&t.append("per_page",e.per_page.toString()),(await a.default.get(`/api/queues?${t.toString()}`)).data},async getTodayQueues(e){let t=e?`?department_id=${e}`:"";return(await a.default.get(`/api/queues/today${t}`)).data},async getQueueStats(e,t){let r=new URLSearchParams;return e&&r.append("date",e),t&&r.append("department_id",t.toString()),(await a.default.get(`/api/queues/stats?${r.toString()}`)).data},async getQueueDisplay(e){let t=e?`?department_id=${e}`:"";return(await a.default.get(`/api/queues/display${t}`)).data},getCurrentQueue:async e=>(await a.default.get(`/api/queues/current/${e}`)).data,getQueueById:async e=>(await a.default.get(`/api/queues/${e}`)).data,takeQueue:async e=>(await a.default.post("/api/queues/take",e)).data,callQueue:async(e,t)=>(await a.default.patch(`/api/queues/${e}/call`,t||{})).data,startQueue:async e=>(await a.default.patch(`/api/queues/${e}/start`)).data,completeQueue:async(e,t)=>(await a.default.patch(`/api/queues/${e}/complete`,{notes:t})).data,skipQueue:async(e,t)=>(await a.default.patch(`/api/queues/${e}/skip`,{notes:t})).data,cancelQueue:async(e,t)=>(await a.default.patch(`/api/queues/${e}/cancel`,{notes:t})).data,assignPatient:async(e,t)=>(await a.default.patch(`/api/queues/${e}/assign-patient`,{patient_id:t})).data,resetQueue:async(e,t)=>(await a.default.post("/api/queues/reset",{date:e,department_id:t})).data,getQueueSettings:async()=>(await a.default.get("/api/queue-settings")).data,updateQueueSetting:async(e,t)=>(await a.default.put(`/api/queue-settings/${e}`,t)).data,getStatusColorClass:e=>({waiting:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300",called:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300",in_service:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-300",completed:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",skipped:"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-300",cancelled:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300"})[e]||"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300",getStatusSolidColorClass:e=>({waiting:"bg-yellow-500",called:"bg-blue-500",in_service:"bg-purple-500",completed:"bg-green-500",skipped:"bg-orange-500",cancelled:"bg-red-500"})[e]||"bg-gray-500",getStatusOptions:()=>[{value:"waiting",label:"Menunggu"},{value:"called",label:"Dipanggil"},{value:"in_service",label:"Dilayani"},{value:"completed",label:"Selesai"},{value:"skipped",label:"Dilewati"},{value:"cancelled",label:"Dibatalkan"}],formatWaitTime(e){if(null==e)return"-";if(e<60)return`${e} menit`;let a=Math.floor(e/60),t=e%60;return t>0?`${a} jam ${t} menit`:`${a} jam`},formatQueueCode:e=>e,getTodayDateString:()=>new Date().toISOString().split("T")[0]}])},21489,e=>{"use strict";var a=e.i(43476),t=e.i(71645),r=e.i(46932),l=e.i(16715),n=e.i(7486),i=e.i(56909),s=e.i(31278),d=e.i(19455),u=e.i(15288),p=e.i(93479),g=e.i(10204),o=e.i(99375),c=e.i(87486),b=e.i(3497),m=e.i(90893),x=e.i(46696);function f(){let[e,f]=(0,t.useState)([]),[y,h]=(0,t.useState)([]),[k,v]=(0,t.useState)(!0),[w,j]=(0,t.useState)(null),C=(0,t.useCallback)(async()=>{v(!0);try{let[e,a]=await Promise.all([b.default.getQueueSettings(),m.default.getActiveDepartments()]);f(e.data),h(a.data)}catch(e){console.error("Error fetching data:",e)}finally{v(!1)}},[]);(0,t.useEffect)(()=>{C()},[C]);let N=a=>{let t=e.find(e=>e.department_id===a);if(t)return t;let r=y.find(e=>e.id===a);return{id:null,department_id:a,prefix:r?.code||"A",daily_quota:100,start_number:1,is_active:!0,department:r,created_at:null,updated_at:null}},_=(e,a,t)=>{f(r=>r.find(a=>a.department_id===e)?r.map(r=>r.department_id===e?{...r,[a]:t}:r):[...r,{...N(e),[a]:t}])},S=async e=>{let a=N(e);j(e);try{await b.default.updateQueueSetting(e,{prefix:a.prefix,daily_quota:a.daily_quota,start_number:a.start_number,is_active:a.is_active}),x.toast.success("Pengaturan berhasil disimpan",{description:`Pengaturan antrian untuk ${a.department?.name||"poli"} telah diperbarui`}),C()}catch(e){console.error("Error saving:",e),x.toast.error("Gagal menyimpan pengaturan",{description:e.response?.data?.message||"Terjadi kesalahan saat menyimpan"})}finally{j(null)}};return k?(0,a.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,a.jsx)(s.Loader2,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)(r.motion.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold tracking-tight",children:"Pengaturan Antrian"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Konfigurasi pengaturan antrian untuk setiap poli/departemen"})]}),(0,a.jsxs)(d.Button,{variant:"outline",onClick:C,children:[(0,a.jsx)(l.RefreshCw,{className:"h-4 w-4 mr-2"}),"Refresh"]})]}),(0,a.jsx)("div",{className:"grid gap-6 md:grid-cols-2",children:y.map(e=>{let t=N(e.id),l=w===e.id;return(0,a.jsx)(r.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:(0,a.jsxs)(u.Card,{children:[(0,a.jsx)(u.CardHeader,{className:"pb-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2 rounded-lg",style:{backgroundColor:`${e.color}20`},children:(0,a.jsx)(n.Building2,{className:"h-5 w-5",style:{color:e.color}})}),(0,a.jsxs)("div",{children:[(0,a.jsx)(u.CardTitle,{className:"text-lg",children:e.name}),(0,a.jsxs)(u.CardDescription,{children:["Kode: ",e.code]})]})]}),(0,a.jsx)(c.Badge,{variant:t.is_active?"success":"secondary",children:t.is_active?"Aktif":"Nonaktif"})]})}),(0,a.jsxs)(u.CardContent,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(g.Label,{htmlFor:`prefix-${e.id}`,children:"Prefix Antrian"}),(0,a.jsx)(p.Input,{id:`prefix-${e.id}`,value:t.prefix,onChange:a=>_(e.id,"prefix",a.target.value.toUpperCase()),placeholder:"A",maxLength:3,className:"w-24"}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Contoh hasil: ",t.prefix,"-001"]})]}),(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(g.Label,{htmlFor:`quota-${e.id}`,children:"Kuota Harian"}),(0,a.jsx)(p.Input,{id:`quota-${e.id}`,type:"number",value:t.daily_quota,onChange:a=>_(e.id,"daily_quota",parseInt(a.target.value)||0),placeholder:"100",min:1,className:"w-32"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Maksimal antrian per hari"})]}),(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(g.Label,{htmlFor:`start-${e.id}`,children:"Nomor Awal"}),(0,a.jsx)(p.Input,{id:`start-${e.id}`,type:"number",value:t.start_number,onChange:a=>_(e.id,"start_number",parseInt(a.target.value)||1),placeholder:"1",min:1,className:"w-32"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Nomor antrian pertama setiap hari"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(g.Label,{children:"Status Antrian"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Aktifkan/nonaktifkan antrian untuk poli ini"})]}),(0,a.jsx)(o.Switch,{checked:t.is_active,onCheckedChange:a=>_(e.id,"is_active",a)})]}),(0,a.jsxs)(d.Button,{className:"w-full",onClick:()=>S(e.id),disabled:l,children:[l?(0,a.jsx)(s.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}):(0,a.jsx)(i.Save,{className:"h-4 w-4 mr-2"}),"Simpan Pengaturan"]})]})]})},e.id)})}),0===y.length&&(0,a.jsx)(u.Card,{children:(0,a.jsxs)(u.CardContent,{className:"py-12 text-center text-muted-foreground",children:[(0,a.jsx)(n.Building2,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),(0,a.jsx)("p",{children:"Belum ada departemen/poli yang aktif"}),(0,a.jsx)("p",{className:"text-sm",children:"Tambahkan poli di menu Master Data â†’ Departemen"})]})})]})}e.s(["default",()=>f])}]);
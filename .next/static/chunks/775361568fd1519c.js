(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,79002,42137,55584,48160,83574,66655,e=>{"use strict";let a=(0,e.i(75254).default)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);e.s(["UserPlus",()=>a],79002);var s=e.i(43476),l=e.i(46932),i=e.i(86536),t=e.i(88699),n=e.i(27612),r=e.i(41071),d=e.i(81203),c=e.i(73375),o=e.i(63059),m=e.i(61911),x=e.i(43432),h=e.i(87316),u=e.i(78583),p=e.i(18566),g=e.i(84774),j=e.i(19455),b=e.i(87486),N=e.i(55146),v=e.i(29349);function f({patients:e,isLoading:a,currentPage:f,totalPages:k,onPageChange:y,onView:_,onEdit:w,onDelete:T,onToggleStatus:C}){let z=(0,p.useRouter)();return a?(0,s.jsx)("div",{className:"rounded-lg border bg-card",children:(0,s.jsxs)(g.Table,{children:[(0,s.jsx)(g.TableHeader,{children:(0,s.jsxs)(g.TableRow,{children:[(0,s.jsx)(g.TableHead,{className:"w-[250px]",children:"Pasien"}),(0,s.jsx)(g.TableHead,{children:"No. RM"}),(0,s.jsx)(g.TableHead,{children:"NIK / BPJS"}),(0,s.jsx)(g.TableHead,{children:"Jenis"}),(0,s.jsx)(g.TableHead,{children:"Kontak"}),(0,s.jsx)(g.TableHead,{children:"Status"}),(0,s.jsx)(g.TableHead,{className:"w-[80px]",children:"Aksi"})]})}),(0,s.jsx)(g.TableBody,{children:[void 0,void 0,void 0,void 0,void 0].map((e,a)=>(0,s.jsxs)(g.TableRow,{children:[(0,s.jsx)(g.TableCell,{children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"h-10 w-10 rounded-full bg-muted animate-pulse"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("div",{className:"h-4 w-32 bg-muted animate-pulse rounded"}),(0,s.jsx)("div",{className:"h-3 w-24 bg-muted animate-pulse rounded"})]})]})}),(0,s.jsx)(g.TableCell,{children:(0,s.jsx)("div",{className:"h-4 w-28 bg-muted animate-pulse rounded"})}),(0,s.jsx)(g.TableCell,{children:(0,s.jsx)("div",{className:"h-4 w-32 bg-muted animate-pulse rounded"})}),(0,s.jsx)(g.TableCell,{children:(0,s.jsx)("div",{className:"h-6 w-16 bg-muted animate-pulse rounded"})}),(0,s.jsx)(g.TableCell,{children:(0,s.jsx)("div",{className:"h-4 w-28 bg-muted animate-pulse rounded"})}),(0,s.jsx)(g.TableCell,{children:(0,s.jsx)("div",{className:"h-6 w-16 bg-muted animate-pulse rounded"})}),(0,s.jsx)(g.TableCell,{children:(0,s.jsx)("div",{className:"h-8 w-8 bg-muted animate-pulse rounded"})})]},a))})]})}):0===e.length?(0,s.jsxs)("div",{className:"rounded-lg border bg-card p-8 text-center",children:[(0,s.jsx)(m.Users,{className:"h-12 w-12 mx-auto text-muted-foreground/50"}),(0,s.jsx)("h3",{className:"mt-4 text-lg font-semibold",children:"Belum ada data pasien"}),(0,s.jsx)("p",{className:"mt-2 text-sm text-muted-foreground",children:'Klik tombol "Tambah Pasien" untuk mendaftarkan pasien baru.'})]}):(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("div",{className:"rounded-lg border bg-card",children:(0,s.jsxs)(g.Table,{children:[(0,s.jsx)(g.TableHeader,{children:(0,s.jsxs)(g.TableRow,{children:[(0,s.jsx)(g.TableHead,{className:"w-[250px]",children:"Pasien"}),(0,s.jsx)(g.TableHead,{children:"No. RM"}),(0,s.jsx)(g.TableHead,{children:"NIK / BPJS"}),(0,s.jsx)(g.TableHead,{children:"Jenis"}),(0,s.jsx)(g.TableHead,{children:"Kontak"}),(0,s.jsx)(g.TableHead,{children:"Status"}),(0,s.jsx)(g.TableHead,{className:"w-[80px]",children:"Aksi"})]})}),(0,s.jsx)(g.TableBody,{children:e.map((e,a)=>(0,s.jsxs)(l.motion.tr,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.05*a},className:"group hover:bg-muted/50",children:[(0,s.jsx)(g.TableCell,{children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:`h-10 w-10 rounded-full flex items-center justify-center text-white font-medium ${"male"===e.gender?"bg-blue-500":"bg-pink-500"}`,children:e.name.charAt(0).toUpperCase()}),(0,s.jsxs)("div",{className:"min-w-0",children:[(0,s.jsx)("p",{className:"font-medium truncate",children:e.name}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,s.jsx)(h.Calendar,{className:"h-3 w-3"}),(0,s.jsx)("span",{children:v.default.formatAge(e.birth_date)}),(0,s.jsx)("span",{className:"text-muted-foreground/50",children:"|"}),(0,s.jsx)("span",{children:e.gender_label})]})]})]})}),(0,s.jsx)(g.TableCell,{children:(0,s.jsx)("code",{className:"text-sm bg-muted px-2 py-1 rounded",children:e.medical_record_number})}),(0,s.jsx)(g.TableCell,{children:(0,s.jsxs)("div",{className:"space-y-1 text-sm",children:[e.nik&&(0,s.jsxs)("div",{className:"text-muted-foreground",children:["NIK: ",e.nik]}),e.bpjs_number&&(0,s.jsxs)("div",{className:"text-green-600 dark:text-green-400",children:["BPJS: ",e.bpjs_number]}),!e.nik&&!e.bpjs_number&&(0,s.jsx)("span",{className:"text-muted-foreground",children:"-"})]})}),(0,s.jsx)(g.TableCell,{children:(0,s.jsx)(b.Badge,{className:v.default.getPatientTypeColorClass(e.patient_type),children:e.patient_type_label})}),(0,s.jsx)(g.TableCell,{children:e.phone?(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,s.jsx)(x.Phone,{className:"h-3 w-3 text-muted-foreground"}),(0,s.jsx)("span",{children:v.default.formatPhone(e.phone)})]}):(0,s.jsx)("span",{className:"text-muted-foreground",children:"-"})}),(0,s.jsx)(g.TableCell,{children:(0,s.jsx)(b.Badge,{variant:e.is_active?"success":"error",children:e.is_active?"Aktif":"Nonaktif"})}),(0,s.jsx)(g.TableCell,{children:(0,s.jsxs)(N.DropdownMenu,{children:[(0,s.jsx)(N.DropdownMenuTrigger,{asChild:!0,children:(0,s.jsx)(j.Button,{variant:"ghost",size:"icon",className:"h-8 w-8",children:(0,s.jsx)(r.MoreHorizontal,{className:"h-4 w-4"})})}),(0,s.jsxs)(N.DropdownMenuContent,{align:"end",children:[(0,s.jsxs)(N.DropdownMenuItem,{onClick:()=>{z.push(`/patients/${e.id}`)},children:[(0,s.jsx)(u.FileText,{className:"mr-2 h-4 w-4"}),"Riwayat Pengobatan"]}),(0,s.jsxs)(N.DropdownMenuItem,{onClick:()=>_(e),children:[(0,s.jsx)(i.Eye,{className:"mr-2 h-4 w-4"}),"Lihat Detail"]}),(0,s.jsxs)(N.DropdownMenuItem,{onClick:()=>w(e),children:[(0,s.jsx)(t.Pencil,{className:"mr-2 h-4 w-4"}),"Edit"]}),(0,s.jsxs)(N.DropdownMenuItem,{onClick:()=>C(e),children:[(0,s.jsx)(d.Power,{className:"mr-2 h-4 w-4"}),e.is_active?"Nonaktifkan":"Aktifkan"]}),(0,s.jsx)(N.DropdownMenuSeparator,{}),(0,s.jsxs)(N.DropdownMenuItem,{onClick:()=>T(e),className:"text-destructive focus:text-destructive",children:[(0,s.jsx)(n.Trash2,{className:"mr-2 h-4 w-4"}),"Hapus"]})]})]})})]},e.id))})]})}),k>1&&(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Halaman ",f," dari ",k]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)(j.Button,{variant:"outline",size:"sm",onClick:()=>y(f-1),disabled:1===f,children:[(0,s.jsx)(c.ChevronLeft,{className:"h-4 w-4 mr-1"}),"Sebelumnya"]}),(0,s.jsxs)(j.Button,{variant:"outline",size:"sm",onClick:()=>y(f+1),disabled:f===k,children:["Selanjutnya",(0,s.jsx)(o.ChevronRight,{className:"h-4 w-4 ml-1"})]})]})]})]})}e.s(["PatientTable",()=>f],42137);var k=e.i(71645),y=e.i(53145),_=e.i(94814),w=e.i(88653),T=e.i(84614),C=e.i(61659),z=e.i(63488),P=e.i(46897),S=e.i(90597),D=e.i(98919),L=e.i(31278),I=e.i(63209),A=e.i(76639),F=e.i(93479),B=e.i(10204),K=e.i(67489),H=e.i(77572),M=e.i(50270);let R=M.z.object({nik:M.z.string().length(16,"NIK harus 16 digit").regex(/^\d+$/,"NIK hanya boleh berisi angka").optional().or(M.z.literal("")),bpjs_number:M.z.string().max(13,"No. BPJS maksimal 13 karakter").optional().or(M.z.literal("")),name:M.z.string().min(1,"Nama wajib diisi").min(2,"Nama minimal 2 karakter").max(255,"Nama maksimal 255 karakter"),birth_place:M.z.string().max(255,"Tempat lahir maksimal 255 karakter").optional().or(M.z.literal("")),birth_date:M.z.string().min(1,"Tanggal lahir wajib diisi"),gender:M.z.enum(["male","female"],{required_error:"Jenis kelamin wajib dipilih",invalid_type_error:"Jenis kelamin tidak valid"}),blood_type:M.z.enum(["A","B","AB","O"]).optional().nullable(),religion:M.z.enum(["islam","kristen","katolik","hindu","buddha","konghucu","lainnya"]).optional().nullable(),marital_status:M.z.enum(["single","married","divorced","widowed"]).optional().nullable(),occupation:M.z.string().max(255,"Pekerjaan maksimal 255 karakter").optional().or(M.z.literal("")),education:M.z.string().max(255,"Pendidikan maksimal 255 karakter").optional().or(M.z.literal("")),phone:M.z.string().max(20,"No. telepon maksimal 20 karakter").optional().or(M.z.literal("")),email:M.z.string().email("Format email tidak valid").max(255,"Email maksimal 255 karakter").optional().or(M.z.literal("")),address:M.z.string().optional().or(M.z.literal("")),rt:M.z.string().max(5,"RT maksimal 5 karakter").optional().or(M.z.literal("")),rw:M.z.string().max(5,"RW maksimal 5 karakter").optional().or(M.z.literal("")),village:M.z.string().max(255,"Kelurahan maksimal 255 karakter").optional().or(M.z.literal("")),district:M.z.string().max(255,"Kecamatan maksimal 255 karakter").optional().or(M.z.literal("")),city:M.z.string().max(255,"Kota/Kabupaten maksimal 255 karakter").optional().or(M.z.literal("")),province:M.z.string().max(255,"Provinsi maksimal 255 karakter").optional().or(M.z.literal("")),postal_code:M.z.string().max(10,"Kode pos maksimal 10 karakter").optional().or(M.z.literal("")),emergency_contact_name:M.z.string().max(255,"Nama kontak darurat maksimal 255 karakter").optional().or(M.z.literal("")),emergency_contact_relation:M.z.string().max(255,"Hubungan maksimal 255 karakter").optional().or(M.z.literal("")),emergency_contact_phone:M.z.string().max(20,"No. telepon kontak darurat maksimal 20 karakter").optional().or(M.z.literal("")),allergies:M.z.string().optional().or(M.z.literal("")),medical_notes:M.z.string().optional().or(M.z.literal("")),patient_type:M.z.enum(["umum","bpjs","asuransi"],{required_error:"Jenis pasien wajib dipilih",invalid_type_error:"Jenis pasien tidak valid"}),insurance_name:M.z.string().max(255,"Nama asuransi maksimal 255 karakter").optional().or(M.z.literal("")),insurance_number:M.z.string().max(255,"No. polis maksimal 255 karakter").optional().or(M.z.literal("")),photo:M.z.string().optional().or(M.z.literal(""))});function J({open:e,onOpenChange:a,patient:i,onSuccess:t}){let n=!!i,[r,d]=(0,k.useState)(!1),[c,o]=(0,k.useState)("basic"),{register:m,handleSubmit:u,setValue:p,watch:g,reset:b,control:N,formState:{errors:f}}=(0,y.useForm)({resolver:(0,_.zodResolver)(R),defaultValues:{name:"",nik:"",bpjs_number:"",birth_place:"",birth_date:"",gender:"male",blood_type:null,religion:null,marital_status:null,occupation:"",education:"",phone:"",email:"",address:"",rt:"",rw:"",village:"",district:"",city:"",province:"",postal_code:"",emergency_contact_name:"",emergency_contact_relation:"",emergency_contact_phone:"",allergies:"",medical_notes:"",patient_type:"umum",insurance_name:"",insurance_number:""}}),M=g("patient_type"),J=g("gender");(0,k.useEffect)(()=>{e&&(o("basic"),i?b({name:i.name,nik:i.nik||"",bpjs_number:i.bpjs_number||"",birth_place:i.birth_place||"",birth_date:i.birth_date,gender:i.gender,blood_type:i.blood_type,religion:i.religion,marital_status:i.marital_status,occupation:i.occupation||"",education:i.education||"",phone:i.phone||"",email:i.email||"",address:i.address||"",rt:i.rt||"",rw:i.rw||"",village:i.village||"",district:i.district||"",city:i.city||"",province:i.province||"",postal_code:i.postal_code||"",emergency_contact_name:i.emergency_contact_name||"",emergency_contact_relation:i.emergency_contact_relation||"",emergency_contact_phone:i.emergency_contact_phone||"",allergies:i.allergies||"",medical_notes:i.medical_notes||"",patient_type:i.patient_type,insurance_name:i.insurance_name||"",insurance_number:i.insurance_number||""}):b({name:"",nik:"",bpjs_number:"",birth_place:"",birth_date:"",gender:"male",blood_type:null,religion:null,marital_status:null,occupation:"",education:"",phone:"",email:"",address:"",rt:"",rw:"",village:"",district:"",city:"",province:"",postal_code:"",emergency_contact_name:"",emergency_contact_relation:"",emergency_contact_phone:"",allergies:"",medical_notes:"",patient_type:"umum",insurance_name:"",insurance_number:""}))},[e,i,b]);let O=async e=>{d(!0);try{let s=Object.fromEntries(Object.entries(e).map(([e,a])=>[e,""===a?null:a]));n&&i?await v.default.updatePatient(i.id,s):await v.default.createPatient(s),t(),a(!1)}catch(e){console.error("Error saving patient:",e)}finally{d(!1)}},U=v.default.getGenderOptions(),V=v.default.getPatientTypeOptions(),E=v.default.getReligionOptions(),$=v.default.getMaritalStatusOptions(),q=v.default.getBloodTypeOptions();return(0,s.jsx)(A.Dialog,{open:e,onOpenChange:a,children:(0,s.jsxs)(A.DialogContent,{className:"sm:max-w-[800px] max-h-[90vh] overflow-y-auto",children:[(0,s.jsxs)(A.DialogHeader,{children:[(0,s.jsx)(A.DialogTitle,{className:"text-xl",children:n?"Edit Data Pasien":"Registrasi Pasien Baru"}),(0,s.jsx)(A.DialogDescription,{children:n?"Perbarui informasi pasien.":"Isi data pasien baru untuk pendaftaran."})]}),(0,s.jsxs)("form",{onSubmit:u(O),className:"space-y-4",children:[(0,s.jsx)(l.motion.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"flex items-center justify-center gap-4 py-2",children:(0,s.jsx)("div",{className:`h-16 w-16 rounded-full flex items-center justify-center text-white text-2xl font-bold ${"male"===J?"bg-blue-500":"bg-pink-500"}`,children:g("name")?.charAt(0)?.toUpperCase()||"?"})}),(0,s.jsxs)(H.Tabs,{value:c,onValueChange:o,children:[(0,s.jsxs)(H.TabsList,{className:"grid w-full grid-cols-4",children:[(0,s.jsx)(H.TabsTrigger,{value:"basic",children:"Data Diri"}),(0,s.jsx)(H.TabsTrigger,{value:"address",children:"Alamat"}),(0,s.jsx)(H.TabsTrigger,{value:"emergency",children:"Darurat"}),(0,s.jsx)(H.TabsTrigger,{value:"medical",children:"Medis"})]}),(0,s.jsxs)(H.TabsContent,{value:"basic",className:"space-y-4 mt-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(B.Label,{htmlFor:"name",children:["Nama Lengkap ",(0,s.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(T.User,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,s.jsx)(F.Input,{id:"name",placeholder:"Nama lengkap sesuai KTP",className:"pl-10",...m("name")})]}),f.name&&(0,s.jsxs)("p",{className:"text-sm text-destructive flex items-center gap-1",children:[(0,s.jsx)(I.AlertCircle,{className:"h-3 w-3"}),f.name.message]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(B.Label,{children:["Jenis Kelamin ",(0,s.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,s.jsx)(y.Controller,{name:"gender",control:N,render:({field:e})=>(0,s.jsxs)(K.Select,{value:e.value,onValueChange:e.onChange,children:[(0,s.jsx)(K.SelectTrigger,{children:(0,s.jsx)(K.SelectValue,{placeholder:"Pilih jenis kelamin"})}),(0,s.jsx)(K.SelectContent,{children:U.map(e=>(0,s.jsx)(K.SelectItem,{value:e.value,children:e.label},e.value))})]})})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(B.Label,{htmlFor:"nik",children:"NIK (No. KTP)"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(C.CreditCard,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,s.jsx)(F.Input,{id:"nik",placeholder:"16 digit NIK",maxLength:16,className:"pl-10",...m("nik")})]}),f.nik&&(0,s.jsxs)("p",{className:"text-sm text-destructive flex items-center gap-1",children:[(0,s.jsx)(I.AlertCircle,{className:"h-3 w-3"}),f.nik.message]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(B.Label,{htmlFor:"bpjs_number",children:"No. BPJS"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(D.Shield,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,s.jsx)(F.Input,{id:"bpjs_number",placeholder:"No. kartu BPJS",maxLength:13,className:"pl-10",...m("bpjs_number")})]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(B.Label,{htmlFor:"birth_place",children:"Tempat Lahir"}),(0,s.jsx)(F.Input,{id:"birth_place",placeholder:"Kota tempat lahir",...m("birth_place")})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(B.Label,{htmlFor:"birth_date",children:["Tanggal Lahir ",(0,s.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(h.Calendar,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,s.jsx)(F.Input,{id:"birth_date",type:"date",className:"pl-10",...m("birth_date")})]}),f.birth_date&&(0,s.jsxs)("p",{className:"text-sm text-destructive flex items-center gap-1",children:[(0,s.jsx)(I.AlertCircle,{className:"h-3 w-3"}),f.birth_date.message]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(B.Label,{htmlFor:"phone",children:"No. Telepon"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(x.Phone,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,s.jsx)(F.Input,{id:"phone",placeholder:"08xxxxxxxxxx",className:"pl-10",...m("phone")})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(B.Label,{htmlFor:"email",children:"Email"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(z.Mail,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,s.jsx)(F.Input,{id:"email",type:"email",placeholder:"email@example.com",className:"pl-10",...m("email")})]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(B.Label,{children:"Gol. Darah"}),(0,s.jsx)(y.Controller,{name:"blood_type",control:N,render:({field:e})=>(0,s.jsxs)(K.Select,{value:e.value||"",onValueChange:a=>e.onChange(a||null),children:[(0,s.jsx)(K.SelectTrigger,{children:(0,s.jsx)(K.SelectValue,{placeholder:"-"})}),(0,s.jsx)(K.SelectContent,{children:q.map(e=>(0,s.jsx)(K.SelectItem,{value:e.value,children:e.label},e.value))})]})})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(B.Label,{children:"Agama"}),(0,s.jsx)(y.Controller,{name:"religion",control:N,render:({field:e})=>(0,s.jsxs)(K.Select,{value:e.value||"",onValueChange:a=>e.onChange(a||null),children:[(0,s.jsx)(K.SelectTrigger,{children:(0,s.jsx)(K.SelectValue,{placeholder:"-"})}),(0,s.jsx)(K.SelectContent,{children:E.map(e=>(0,s.jsx)(K.SelectItem,{value:e.value,children:e.label},e.value))})]})})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(B.Label,{children:"Status Pernikahan"}),(0,s.jsx)(y.Controller,{name:"marital_status",control:N,render:({field:e})=>(0,s.jsxs)(K.Select,{value:e.value||"",onValueChange:a=>e.onChange(a||null),children:[(0,s.jsx)(K.SelectTrigger,{children:(0,s.jsx)(K.SelectValue,{placeholder:"-"})}),(0,s.jsx)(K.SelectContent,{children:$.map(e=>(0,s.jsx)(K.SelectItem,{value:e.value,children:e.label},e.value))})]})})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(B.Label,{children:["Jenis Pasien ",(0,s.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,s.jsx)(y.Controller,{name:"patient_type",control:N,render:({field:e})=>(0,s.jsxs)(K.Select,{value:e.value,onValueChange:e.onChange,children:[(0,s.jsx)(K.SelectTrigger,{children:(0,s.jsx)(K.SelectValue,{placeholder:"Pilih jenis"})}),(0,s.jsx)(K.SelectContent,{children:V.map(e=>(0,s.jsx)(K.SelectItem,{value:e.value,children:e.label},e.value))})]})})]})]}),(0,s.jsx)(w.AnimatePresence,{children:"asuransi"===M&&(0,s.jsxs)(l.motion.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(B.Label,{htmlFor:"insurance_name",children:"Nama Asuransi"}),(0,s.jsx)(F.Input,{id:"insurance_name",placeholder:"Prudential, Allianz, dll",...m("insurance_name")})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(B.Label,{htmlFor:"insurance_number",children:"No. Polis"}),(0,s.jsx)(F.Input,{id:"insurance_number",placeholder:"Nomor polis asuransi",...m("insurance_number")})]})]})}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(B.Label,{htmlFor:"occupation",children:"Pekerjaan"}),(0,s.jsx)(F.Input,{id:"occupation",placeholder:"Pekerjaan saat ini",...m("occupation")})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(B.Label,{htmlFor:"education",children:"Pendidikan Terakhir"}),(0,s.jsx)(F.Input,{id:"education",placeholder:"SD/SMP/SMA/D3/S1/S2/dll",...m("education")})]})]})]}),(0,s.jsxs)(H.TabsContent,{value:"address",className:"space-y-4 mt-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(B.Label,{htmlFor:"address",children:"Alamat Lengkap"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(P.MapPin,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),(0,s.jsx)("textarea",{id:"address",placeholder:"Jalan, nomor rumah, gang, dll",className:"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 pl-10 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 resize-none",...m("address")})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(B.Label,{htmlFor:"rt",children:"RT"}),(0,s.jsx)(F.Input,{id:"rt",placeholder:"001",maxLength:5,...m("rt")})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(B.Label,{htmlFor:"rw",children:"RW"}),(0,s.jsx)(F.Input,{id:"rw",placeholder:"002",maxLength:5,...m("rw")})]}),(0,s.jsxs)("div",{className:"space-y-2 col-span-2",children:[(0,s.jsx)(B.Label,{htmlFor:"village",children:"Kelurahan/Desa"}),(0,s.jsx)(F.Input,{id:"village",placeholder:"Nama kelurahan",...m("village")})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(B.Label,{htmlFor:"district",children:"Kecamatan"}),(0,s.jsx)(F.Input,{id:"district",placeholder:"Nama kecamatan",...m("district")})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(B.Label,{htmlFor:"city",children:"Kota/Kabupaten"}),(0,s.jsx)(F.Input,{id:"city",placeholder:"Nama kota/kabupaten",...m("city")})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(B.Label,{htmlFor:"province",children:"Provinsi"}),(0,s.jsx)(F.Input,{id:"province",placeholder:"Nama provinsi",...m("province")})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(B.Label,{htmlFor:"postal_code",children:"Kode Pos"}),(0,s.jsx)(F.Input,{id:"postal_code",placeholder:"12345",maxLength:10,...m("postal_code")})]})]})]}),(0,s.jsxs)(H.TabsContent,{value:"emergency",className:"space-y-4 mt-4",children:[(0,s.jsx)("div",{className:"p-4 rounded-lg bg-orange-50 dark:bg-orange-950 border border-orange-200 dark:border-orange-800",children:(0,s.jsx)("p",{className:"text-sm text-orange-800 dark:text-orange-200",children:"Informasi kontak darurat akan digunakan jika terjadi keadaan darurat pada pasien."})}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(B.Label,{htmlFor:"emergency_contact_name",children:"Nama Kontak Darurat"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(T.User,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,s.jsx)(F.Input,{id:"emergency_contact_name",placeholder:"Nama lengkap",className:"pl-10",...m("emergency_contact_name")})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(B.Label,{htmlFor:"emergency_contact_relation",children:"Hubungan"}),(0,s.jsx)(F.Input,{id:"emergency_contact_relation",placeholder:"Istri/Suami/Anak/Orang tua/dll",...m("emergency_contact_relation")})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(B.Label,{htmlFor:"emergency_contact_phone",children:"No. Telepon"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(x.Phone,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,s.jsx)(F.Input,{id:"emergency_contact_phone",placeholder:"08xxxxxxxxxx",className:"pl-10",...m("emergency_contact_phone")})]})]})]})]}),(0,s.jsxs)(H.TabsContent,{value:"medical",className:"space-y-4 mt-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(B.Label,{htmlFor:"allergies",children:"Alergi"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(S.Heart,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),(0,s.jsx)("textarea",{id:"allergies",placeholder:"Daftar alergi obat, makanan, dll (pisahkan dengan koma)",className:"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 pl-10 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 resize-none",...m("allergies")})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(B.Label,{htmlFor:"medical_notes",children:"Catatan Medis"}),(0,s.jsx)("textarea",{id:"medical_notes",placeholder:"Riwayat penyakit, kondisi khusus, catatan penting lainnya",className:"flex min-h-[120px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 resize-none",...m("medical_notes")})]})]})]}),(0,s.jsxs)(A.DialogFooter,{className:"gap-2 sm:gap-0 pt-4",children:[(0,s.jsx)(j.Button,{type:"button",variant:"outline",onClick:()=>a(!1),disabled:r,children:"Batal"}),(0,s.jsx)(j.Button,{type:"submit",disabled:r,className:"min-w-[120px]",children:r?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(L.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Menyimpan..."]}):n?"Simpan Perubahan":"Daftarkan Pasien"})]})]})]})})}M.z.object({q:M.z.string().min(2,"Minimal 2 karakter untuk pencarian")}),e.s(["PatientModal",()=>J],55584);var O=e.i(69638),U=e.i(73884),V=e.i(88511),E=e.i(72436),$=e.i(75157);function q({open:e,onOpenChange:a,patient:i,onEdit:t,onToggleStatus:n}){return i?(0,s.jsx)(A.Dialog,{open:e,onOpenChange:a,children:(0,s.jsxs)(A.DialogContent,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[(0,s.jsx)(A.DialogHeader,{children:(0,s.jsx)(A.DialogTitle,{className:"text-xl",children:"Detail Pasien"})}),(0,s.jsxs)("div",{className:"py-4 space-y-6",children:[(0,s.jsxs)(l.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex flex-col items-center text-center",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:`h-20 w-20 rounded-full flex items-center justify-center text-white text-3xl font-bold ${"male"===i.gender?"bg-blue-500":"bg-pink-500"}`,children:i.name.charAt(0).toUpperCase()}),(0,s.jsx)("div",{className:`absolute -bottom-1 -right-1 w-6 h-6 rounded-full border-2 border-background flex items-center justify-center ${i.is_active?"bg-emerald-500":"bg-gray-400"}`,children:i.is_active?(0,s.jsx)(O.CheckCircle,{className:"h-4 w-4 text-white"}):(0,s.jsx)(U.XCircle,{className:"h-4 w-4 text-white"})})]}),(0,s.jsx)("h3",{className:"mt-4 text-lg font-semibold",children:i.name}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:i.medical_record_number}),(0,s.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,s.jsx)(b.Badge,{className:v.default.getPatientTypeColorClass(i.patient_type),children:i.patient_type_label}),(0,s.jsx)(b.Badge,{variant:i.is_active?"success":"error",children:i.is_active?"Aktif":"Nonaktif"})]})]}),(0,s.jsx)(E.Separator,{}),(0,s.jsxs)(l.motion.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[(0,s.jsx)("div",{className:"p-2 rounded-lg bg-blue-100 dark:bg-blue-950",children:(0,s.jsx)(h.Calendar,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Tanggal Lahir"}),(0,s.jsxs)("p",{className:"text-sm font-medium",children:[(0,$.formatDate)(i.birth_date)," (",v.default.formatAge(i.birth_date),")"]})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[(0,s.jsx)("div",{className:"p-2 rounded-lg bg-pink-100 dark:bg-pink-950",children:(0,s.jsx)(T.User,{className:"h-4 w-4 text-pink-600 dark:text-pink-400"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Jenis Kelamin"}),(0,s.jsx)("p",{className:"text-sm font-medium",children:i.gender_label})]})]})]}),(i.nik||i.bpjs_number)&&(0,s.jsxs)("div",{className:"p-3 rounded-lg bg-muted/50 space-y-2",children:[i.nik&&(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(C.CreditCard,{className:"h-4 w-4 text-muted-foreground"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"NIK"}),(0,s.jsx)("p",{className:"text-sm font-mono",children:i.nik})]})]}),i.bpjs_number&&(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(D.Shield,{className:"h-4 w-4 text-green-600 dark:text-green-400"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"No. BPJS"}),(0,s.jsx)("p",{className:"text-sm font-mono",children:i.bpjs_number})]})]})]}),(i.phone||i.email)&&(0,s.jsxs)("div",{className:"p-3 rounded-lg bg-muted/50 space-y-2",children:[i.phone&&(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(x.Phone,{className:"h-4 w-4 text-muted-foreground"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Telepon"}),(0,s.jsx)("p",{className:"text-sm",children:v.default.formatPhone(i.phone)})]})]}),i.email&&(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(z.Mail,{className:"h-4 w-4 text-muted-foreground"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Email"}),(0,s.jsx)("p",{className:"text-sm",children:i.email})]})]})]}),i.full_address&&(0,s.jsxs)("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-muted/50",children:[(0,s.jsx)(P.MapPin,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Alamat"}),(0,s.jsx)("p",{className:"text-sm",children:i.full_address})]})]}),"asuransi"===i.patient_type&&i.insurance_name&&(0,s.jsxs)("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-purple-50 dark:bg-purple-950",children:[(0,s.jsx)(D.Shield,{className:"h-4 w-4 text-purple-600 dark:text-purple-400 mt-0.5"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Asuransi"}),(0,s.jsx)("p",{className:"text-sm font-medium",children:i.insurance_name}),i.insurance_number&&(0,s.jsxs)("p",{className:"text-xs text-muted-foreground",children:["No. Polis: ",i.insurance_number]})]})]}),i.emergency_contact_name&&(0,s.jsxs)("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-orange-50 dark:bg-orange-950",children:[(0,s.jsx)(m.Users,{className:"h-4 w-4 text-orange-600 dark:text-orange-400 mt-0.5"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Kontak Darurat"}),(0,s.jsx)("p",{className:"text-sm font-medium",children:i.emergency_contact_name}),(0,s.jsxs)("p",{className:"text-xs text-muted-foreground",children:[i.emergency_contact_relation,i.emergency_contact_phone&&` - ${v.default.formatPhone(i.emergency_contact_phone)}`]})]})]}),i.allergies&&(0,s.jsxs)("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-red-50 dark:bg-red-950",children:[(0,s.jsx)(S.Heart,{className:"h-4 w-4 text-red-600 dark:text-red-400 mt-0.5"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Alergi"}),(0,s.jsx)("p",{className:"text-sm",children:i.allergies})]})]}),i.medical_notes&&(0,s.jsxs)("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-muted/50",children:[(0,s.jsx)(u.FileText,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Catatan Medis"}),(0,s.jsx)("p",{className:"text-sm",children:i.medical_notes})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[i.blood_type&&(0,s.jsxs)("div",{className:"p-2 rounded bg-muted/50",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Gol. Darah:"})," ",(0,s.jsx)("span",{className:"font-medium",children:i.blood_type})]}),i.religion_label&&(0,s.jsxs)("div",{className:"p-2 rounded bg-muted/50",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Agama:"})," ",(0,s.jsx)("span",{className:"font-medium",children:i.religion_label})]}),i.marital_status_label&&(0,s.jsxs)("div",{className:"p-2 rounded bg-muted/50",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Status:"})," ",(0,s.jsx)("span",{className:"font-medium",children:i.marital_status_label})]}),i.occupation&&(0,s.jsxs)("div",{className:"p-2 rounded bg-muted/50",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Pekerjaan:"})," ",(0,s.jsx)("span",{className:"font-medium",children:i.occupation})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[(0,s.jsx)("div",{className:"p-2 rounded-lg bg-gray-100 dark:bg-gray-800",children:(0,s.jsx)(h.Calendar,{className:"h-4 w-4 text-gray-600 dark:text-gray-400"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Terdaftar Pada"}),(0,s.jsx)("p",{className:"text-sm font-medium",children:(0,$.formatDate)(i.created_at)})]})]})]}),(0,s.jsx)(E.Separator,{}),(0,s.jsxs)(l.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},className:"flex gap-2",children:[(0,s.jsxs)(j.Button,{variant:"outline",className:"flex-1",onClick:()=>{a(!1),t()},children:[(0,s.jsx)(V.Edit,{className:"mr-2 h-4 w-4"}),"Edit"]}),(0,s.jsxs)(j.Button,{variant:i.is_active?"destructive":"default",className:"flex-1",onClick:()=>{a(!1),n()},children:[(0,s.jsx)(d.Power,{className:"mr-2 h-4 w-4"}),i.is_active?"Nonaktifkan":"Aktifkan"]})]})]})]})}):null}e.s(["PatientDetailModal",()=>q],48160);var G=e.i(78894);function W({open:e,onOpenChange:a,patient:l,onSuccess:i}){let[t,n]=(0,k.useState)(!1),[r,d]=(0,k.useState)(null),c=async()=>{if(l){n(!0),d(null);try{await v.default.deletePatient(l.id),i(),a(!1)}catch(e){d(e.response?.data?.message||"Gagal menghapus pasien. Silakan coba lagi.")}finally{n(!1)}}};return l?(0,s.jsx)(A.Dialog,{open:e,onOpenChange:a,children:(0,s.jsxs)(A.DialogContent,{className:"sm:max-w-[425px]",children:[(0,s.jsx)(A.DialogHeader,{children:(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("div",{className:"p-3 rounded-full bg-red-100 dark:bg-red-950",children:(0,s.jsx)(G.AlertTriangle,{className:"h-6 w-6 text-red-600 dark:text-red-400"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)(A.DialogTitle,{children:"Hapus Pasien"}),(0,s.jsx)(A.DialogDescription,{children:"Tindakan ini tidak dapat dibatalkan."})]})]})}),(0,s.jsxs)("div",{className:"py-4",children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Apakah Anda yakin ingin menghapus pasien berikut?"}),(0,s.jsxs)("div",{className:"mt-3 p-3 rounded-lg bg-muted",children:[(0,s.jsx)("p",{className:"font-medium",children:l.name}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:l.medical_record_number})]}),r&&(0,s.jsx)("div",{className:"mt-3 p-3 rounded-lg bg-red-50 dark:bg-red-950 text-red-600 dark:text-red-400 text-sm",children:r})]}),(0,s.jsxs)(A.DialogFooter,{className:"gap-2 sm:gap-0",children:[(0,s.jsx)(j.Button,{type:"button",variant:"outline",onClick:()=>a(!1),disabled:t,children:"Batal"}),(0,s.jsx)(j.Button,{type:"button",variant:"destructive",onClick:c,disabled:t,children:t?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(L.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Menghapus..."]}):"Hapus Pasien"})]})]})}):null}e.s(["DeleteConfirmModal",()=>W],83574),e.s([],66655)}]);
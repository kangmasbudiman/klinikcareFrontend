(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,16370,e=>{"use strict";var t=e.i(43476),a=e.i(71645),i=e.i(18566),r=e.i(46932),s=e.i(75157),n=e.i(22016),o=e.i(88653),l=e.i(73375),c=e.i(64659),d=e.i(75254);let u=(0,d.default)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);var m=e.i(19455),h=e.i(59684),p=e.i(46798),g=e.i(99676),x=e.i(40632),y=e.i(482),f=e.i(72064);let b=(0,d.default)("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);var v=e.i(61911),j=e.i(39616),w=e.i(20286),k=e.i(91741),N=e.i(87316);let C=(0,d.default)("ListOrdered",[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);var S=e.i(12156),M=e.i(61659),R=e.i(78583),A=e.i(7486),P=e.i(98919);let T=(0,d.default)("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);var D=e.i(8402),q=e.i(87378),I=e.i(15788);let L=(0,d.default)("FolderTree",[["path",{d:"M20 10a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-2.5a1 1 0 0 1-.8-.4l-.9-1.2A1 1 0 0 0 15 3h-2a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"hod4my"}],["path",{d:"M20 21a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1h-2.9a1 1 0 0 1-.88-.55l-.42-.85a1 1 0 0 0-.92-.6H13a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"w4yl2u"}],["path",{d:"M3 5a2 2 0 0 0 2 2h3",key:"f2jnh7"}],["path",{d:"M3 3v13a2 2 0 0 0 2 2h3",key:"k8epm1"}]]);var _=e.i(88844),B=e.i(1928),E=e.i(95729),O=e.i(66261),K=e.i(25652),z=e.i(35408),U=e.i(17923);let V={title:"Dashboard",href:"/dashboard",icon:b,description:"Ringkasan dan statistik"},F={title:"Master Data",items:[{title:"Pengaturan Klinik",href:"/master/clinic",icon:A.Building2,description:"Informasi dan pengaturan klinik"},{title:"Departemen/Poli",href:"/master/departments",icon:A.Building2,description:"Kelola departemen dan poli"},{title:"Layanan",href:"/master/services",icon:k.ClipboardList,description:"Kelola layanan dan tarif"},{title:"Kode ICD",href:"/master/icd-codes",icon:R.FileText,description:"Kelola kode diagnosis ICD"}]},J={title:"Manajemen User",items:[{title:"Daftar User",href:"/users",icon:v.Users,description:"Kelola pengguna sistem"},{title:"Hak Akses",href:"/settings/roles",icon:P.Shield,description:"Kelola role dan permission"}]},$={title:"Pasien",items:[{title:"Daftar Pasien",href:"/patients",icon:v.Users,description:"Data pasien"},{title:"Rekam Medis",href:"/medical-records",icon:k.ClipboardList,description:"Riwayat rekam medis"}]},H={title:"Operasional",items:[{title:"Jadwal Dokter",href:"/schedules",icon:N.Calendar,description:"Kelola jadwal praktek"},{title:"Antrian",href:"/queue",icon:C,description:"Sistem antrian pasien"},{title:"Pengaturan Antrian",href:"/queue/settings",icon:j.Settings,description:"Konfigurasi antrian per poli"},{title:"Pemeriksaan",href:"/examination",icon:w.Stethoscope,description:"Pemeriksaan pasien"},{title:"Kasir",href:"/cashier",icon:q.Banknote,description:"Pembayaran pasien"},{title:"Display Antrian",href:"/queue/display",icon:T,description:"Tampilan antrian untuk monitor"},{title:"Anjungan Pasien",href:"/kiosk",icon:D.Ticket,description:"Mesin ambil antrian pasien"}]},X={title:"Farmasi",items:[{title:"Supplier",href:"/pharmacy/suppliers",icon:I.Truck,description:"Kelola data supplier/distributor"},{title:"Kategori Obat",href:"/pharmacy/categories",icon:L,description:"Kelola kategori obat"},{title:"Master Obat",href:"/pharmacy/medicines",icon:S.Pill,description:"Kelola data obat"},{title:"Purchase Order",href:"/pharmacy/purchase-orders",icon:B.ShoppingCart,description:"Kelola pesanan ke supplier"},{title:"Penerimaan Barang",href:"/pharmacy/goods-receipt",icon:E.PackageCheck,description:"Penerimaan barang dari supplier"},{title:"Mutasi Stok",href:"/pharmacy/stock-movements",icon:O.ArrowRightLeft,description:"Catatan keluar masuk barang"},{title:"Dispensing Resep",href:"/pharmacy/prescriptions",icon:_.Package,description:"Proses resep obat dari dokter"}]},G={title:"Laporan Farmasi",items:[{title:"Laporan Penerimaan",href:"/pharmacy/reports/receipts",icon:U.BarChart3,description:"Analisis penerimaan & laba rugi"},{title:"Laporan Stok Masuk",href:"/pharmacy/reports/stock-in",icon:K.TrendingUp,description:"Laporan obat masuk"},{title:"Laporan Stok Keluar",href:"/pharmacy/reports/stock-out",icon:z.TrendingDown,description:"Laporan obat keluar"}]},Z={title:"Pembayaran",items:[{title:"Kasir",href:"/cashier",icon:M.CreditCard,description:"Transaksi pembayaran"},{title:"Riwayat Transaksi",href:"/payments/history",icon:R.FileText,description:"Riwayat pembayaran"}]},W={title:"Laporan",items:[{title:"Laporan",href:"/reports",icon:R.FileText,description:"Berbagai laporan"}]},Q={title:"Pengaturan",href:"/settings",icon:j.Settings,description:"Pengaturan akun"},Y={super_admin:[{title:"Menu Utama",items:[V]},F,J,$,H,X,G,Z,W,{title:"Lainnya",items:[Q]}],admin_klinik:[{title:"Menu Utama",items:[V]},F,J,$,H,X,G,Z,W,{title:"Lainnya",items:[Q]}],dokter:[{title:"Menu Utama",items:[V]},{title:"Praktek",items:[{title:"Jadwal Saya",href:"/schedules",icon:N.Calendar,description:"Jadwal praktek saya"},{title:"Antrian Pasien",href:"/queue",icon:C,description:"Pasien dalam antrian"},{title:"Pemeriksaan",href:"/examination",icon:w.Stethoscope,description:"Pemeriksaan pasien"}]},$,{title:"Resep",items:[{title:"Buat Resep",href:"/pharmacy/prescriptions/create",icon:w.Stethoscope,description:"Buat resep obat"},{title:"Riwayat Resep",href:"/pharmacy/prescriptions",icon:k.ClipboardList,description:"Riwayat resep"}]},{title:"Lainnya",items:[Q]}],perawat:[{title:"Menu Utama",items:[V]},{title:"Pendaftaran",items:[{title:"Daftar Pasien Baru",href:"/patients/register",icon:v.Users,description:"Daftarkan pasien baru"},{title:"Daftar Pasien",href:"/patients",icon:v.Users,description:"Data pasien"}]},{title:"Antrian",items:[{title:"Kelola Antrian",href:"/queue",icon:C,description:"Kelola antrian pasien"}]},{title:"Lainnya",items:[Q]}],kasir:[{title:"Menu Utama",items:[V]},{title:"Pembayaran",items:[{title:"Kasir",href:"/cashier",icon:q.Banknote,description:"Pembayaran pasien"},{title:"Riwayat Transaksi",href:"/payments/history",icon:R.FileText,description:"Riwayat pembayaran"}]},{title:"Lainnya",items:[Q]}],pasien:[{title:"Menu Utama",items:[V]},{title:"Layanan",items:[{title:"Booking",href:"/booking",icon:N.Calendar,description:"Booking jadwal periksa"},{title:"Riwayat Kunjungan",href:"/visits",icon:k.ClipboardList,description:"Riwayat kunjungan"},{title:"Rekam Medis",href:"/my-records",icon:R.FileText,description:"Rekam medis saya"}]},{title:"Lainnya",items:[Q]}],apoteker:[{title:"Menu Utama",items:[V]},X,G,{title:"Pasien",items:[{title:"Daftar Pasien",href:"/patients",icon:v.Users,description:"Lihat data pasien"}]},W,{title:"Lainnya",items:[Q]}]};e.i(93948);var ee=e.i(43873);function et({isCollapsed:e,onToggle:n}){let d=(0,i.usePathname)(),{user:b,logout:v}=(0,y.useAuth)(),{settings:j}=(0,f.useClinicSettings)(),[w,k]=(0,a.useState)(["Menu Utama","Master Data","Manajemen User","Operasional","Praktek","Pembayaran"]),N=j?.logo_url,C=j?.name||"KlinikCare",S=b&&Y[b.role]||[],M=e=>e.some(e=>d.startsWith(e.href));return(0,t.jsx)(p.TooltipProvider,{delayDuration:0,children:(0,t.jsxs)(r.motion.aside,{initial:!1,animate:{width:e?80:280},transition:{duration:.3,ease:"easeInOut"},className:(0,s.cn)("fixed left-0 top-0 z-40 h-screen","flex flex-col","bg-card border-r border-border","shadow-sm"),children:[(0,t.jsxs)("div",{className:"flex h-16 items-center justify-between px-4 border-b border-border",children:[(0,t.jsx)(o.AnimatePresence,{mode:"wait",children:e?(0,t.jsx)(r.motion.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"flex items-center justify-center w-full",children:N?(0,t.jsx)("div",{className:"w-10 h-10 rounded-xl overflow-hidden",children:(0,t.jsx)("img",{src:N,alt:C,className:"w-full h-full object-contain"})}):(0,t.jsx)(x.LogoMini,{className:"w-10 h-10"})},"mini-logo"):(0,t.jsx)(r.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:(0,t.jsx)(x.Logo,{size:"sm",showText:!0,animated:!1,animatedText:!0,useClinicLogo:!0})},"full-logo")}),!e&&(0,t.jsx)(m.Button,{variant:"ghost",size:"icon",onClick:n,className:"h-8 w-8 hover:bg-muted",children:(0,t.jsx)(l.ChevronLeft,{className:"h-4 w-4"})})]}),e&&(0,t.jsx)("div",{className:"flex justify-center py-2 border-b border-border",children:(0,t.jsx)(m.Button,{variant:"ghost",size:"icon",onClick:n,className:"h-8 w-8 hover:bg-muted",children:(0,t.jsx)(l.ChevronLeft,{className:"h-4 w-4 rotate-180"})})}),(0,t.jsx)(h.ScrollArea,{className:"flex-1 px-3 py-4",children:(0,t.jsx)("nav",{className:"space-y-2",children:S.map(a=>(0,t.jsxs)("div",{className:"mb-4",children:[!e&&(0,t.jsxs)("button",{onClick:()=>{var e;return e=a.title,void k(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},className:(0,s.cn)("flex items-center justify-between w-full px-3 py-2 mb-1","text-xs font-semibold uppercase tracking-wider","text-muted-foreground hover:text-foreground","rounded-md hover:bg-muted/50 transition-colors"),children:[(0,t.jsx)("span",{children:a.title}),(0,t.jsx)(c.ChevronDown,{className:(0,s.cn)("h-3 w-3 transition-transform duration-200",w.includes(a.title)||M(a.items)?"rotate-180":"")})]}),(0,t.jsx)(o.AnimatePresence,{children:(e||w.includes(a.title)||M(a.items))&&(0,t.jsx)(r.motion.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"space-y-1 overflow-hidden",children:a.items.map(a=>(0,t.jsx)(ea,{item:a,isActive:d===a.href,isCollapsed:e},a.href))})})]},a.title))})}),(0,t.jsx)("div",{className:"border-t border-border p-4 bg-muted/30",children:(0,t.jsxs)("div",{className:(0,s.cn)("flex items-center gap-3",e&&"flex-col"),children:[(0,t.jsxs)(g.Avatar,{className:"h-10 w-10 ring-2 ring-primary/20 shadow-sm",children:[(0,t.jsx)(g.AvatarImage,{src:b?.avatar,alt:b?.name}),(0,t.jsx)(g.AvatarFallback,{className:"bg-primary text-primary-foreground font-semibold",children:b?.name?(0,s.getInitials)(b.name):"U"})]}),(0,t.jsx)(o.AnimatePresence,{mode:"wait",children:!e&&(0,t.jsxs)(r.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex-1 min-w-0",children:[(0,t.jsx)("p",{className:"text-sm font-medium truncate",children:b?.name}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:b?.role?ee.ROLE_LABELS[b.role]:""})]})}),e?(0,t.jsxs)(p.Tooltip,{children:[(0,t.jsx)(p.TooltipTrigger,{asChild:!0,children:(0,t.jsx)(m.Button,{variant:"ghost",size:"icon",onClick:v,className:"h-8 w-8 text-muted-foreground hover:text-destructive hover:bg-destructive/10",children:(0,t.jsx)(u,{className:"h-4 w-4"})})}),(0,t.jsx)(p.TooltipContent,{side:"right",children:"Keluar"})]}):(0,t.jsx)(m.Button,{variant:"ghost",size:"icon",onClick:v,className:"h-8 w-8 text-muted-foreground hover:text-destructive hover:bg-destructive/10",children:(0,t.jsx)(u,{className:"h-4 w-4"})})]})})]})})}function ea({item:e,isActive:a,isCollapsed:i}){let l=e.icon,c=(0,t.jsxs)(n.default,{href:e.href,className:(0,s.cn)("flex items-center gap-3 rounded-lg px-3 py-2.5 text-sm font-medium","transition-all duration-200 relative",i&&"justify-center px-2",a?"bg-primary text-primary-foreground shadow-md":"text-muted-foreground hover:text-foreground hover:bg-muted"),children:[a&&!i&&(0,t.jsx)(r.motion.div,{layoutId:"activeIndicator",className:"absolute left-0 top-1/2 -translate-y-1/2 w-1 h-6 bg-primary-foreground rounded-r-full",initial:!1,transition:{type:"spring",stiffness:500,damping:30}}),(0,t.jsx)(l,{className:(0,s.cn)("h-5 w-5 shrink-0",a?"text-primary-foreground":"")}),(0,t.jsx)(o.AnimatePresence,{mode:"wait",children:!i&&(0,t.jsx)(r.motion.span,{initial:{opacity:0,width:0},animate:{opacity:1,width:"auto"},exit:{opacity:0,width:0},className:"truncate",children:e.title})})]});return i?(0,t.jsxs)(p.Tooltip,{children:[(0,t.jsx)(p.TooltipTrigger,{asChild:!0,children:c}),(0,t.jsxs)(p.TooltipContent,{side:"right",className:"font-medium",children:[(0,t.jsx)("p",{children:e.title}),e.description&&(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:e.description})]})]}):c}let ei=(0,d.default)("Bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]);var er=e.i(55436);let es=(0,d.default)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),en=(0,d.default)("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),eo=(0,d.default)("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);var el=e.i(84614),ec=e.i(37727),ed=e.i(78894),eu=e.i(31278),em=e.i(82373),eh=e.i(35116);let ep=(0,d.default)("BellRing",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}]]),eg=(0,d.default)("BellOff",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M17 17H4a1 1 0 0 1-.74-1.673C4.59 13.956 6 12.499 6 8a6 6 0 0 1 .258-1.742",key:"178tsu"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.668 3.01A6 6 0 0 1 18 8c0 2.687.77 4.653 1.707 6.05",key:"1hqiys"}]]);var ex=e.i(63178),ey=e.i(93479),ef=e.i(55146),eb=e.i(67692),ev=e.i(99375),ej=e.i(10204),ew=e.i(37822),ek=e.i(45983);let eN="read_notifications",eC=()=>{try{let e=localStorage.getItem(eN);if(e)return new Set(JSON.parse(e))}catch(e){console.error("Error reading notification state:",e)}return new Set},eS=e=>{try{localStorage.setItem(eN,JSON.stringify([...e]))}catch(e){console.error("Error saving notification state:",e)}},eM={async getNotifications(){let e=[],t=eC();try{let a=await ek.purchaseOrderService.getPendingApproval();Array.isArray(a)&&a.forEach(a=>{let i;e.push({id:i=`po-${a.id}`,type:"po_pending_approval",title:"PO Menunggu Persetujuan",message:`${a.po_number} dari ${a.supplier?.name||"Supplier"} - ${new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(a.total_amount)}`,data:{id:a.id,po_number:a.po_number,supplier_name:a.supplier?.name,total_amount:a.total_amount,link:"/pharmacy/purchase-orders"},read:t.has(i),created_at:a.created_at})})}catch(e){console.error("Error fetching pending POs:",e)}return e.sort((e,t)=>new Date(t.created_at).getTime()-new Date(e.created_at).getTime()),e},async getUnreadCount(){try{return(await this.getNotifications()).filter(e=>!e.read).length}catch(e){return console.error("Error getting unread count:",e),0}},markAsRead(e){let t=eC();t.add(e),eS(t)},markAllAsRead(e){let t=eC();e.forEach(e=>t.add(e)),eS(t)},isRead:e=>eC().has(e),clearReadStatus(e){let t=eC();t.delete(e),eS(t)},clearAllReadStatus(){localStorage.removeItem(eN)},formatTime:e=>{let t,a;return t=new Date(e),(a=Math.floor((new Date().getTime()-t.getTime())/1e3))<60?"Baru saja":a<3600?`${Math.floor(a/60)} menit lalu`:a<86400?`${Math.floor(a/3600)} jam lalu`:a<604800?`${Math.floor(a/86400)} hari lalu`:t.toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"})}},eR={chime:[{frequency:659.25,duration:.15,type:"sine",volume:.8,delay:0},{frequency:783.99,duration:.15,type:"sine",volume:.8,delay:.15},{frequency:987.77,duration:.25,type:"sine",volume:.9,delay:.3}],bell:[{frequency:830.61,duration:.5,type:"sine",volume:.9,delay:0},{frequency:830.61,duration:.5,type:"sine",volume:.7,delay:.6},{frequency:830.61,duration:.5,type:"sine",volume:.5,delay:1.2}],ding:[{frequency:1318.51,duration:.1,type:"sine",volume:1,delay:0},{frequency:1567.98,duration:.4,type:"sine",volume:.8,delay:.1}],alert:[{frequency:880,duration:.15,type:"square",volume:.7,delay:0},{frequency:880,duration:.15,type:"square",volume:.7,delay:.2},{frequency:1100,duration:.15,type:"square",volume:.7,delay:.4},{frequency:1100,duration:.15,type:"square",volume:.7,delay:.6},{frequency:1320,duration:.25,type:"square",volume:.8,delay:.8}],soft:[{frequency:523.25,duration:.25,type:"sine",volume:.6,delay:0},{frequency:659.25,duration:.25,type:"sine",volume:.6,delay:.25},{frequency:783.99,duration:.35,type:"sine",volume:.6,delay:.5}],urgent:[{frequency:1e3,duration:.12,type:"sawtooth",volume:.8,delay:0},{frequency:1200,duration:.12,type:"sawtooth",volume:.8,delay:.15},{frequency:1e3,duration:.12,type:"sawtooth",volume:.8,delay:.3},{frequency:1200,duration:.12,type:"sawtooth",volume:.8,delay:.45},{frequency:1400,duration:.25,type:"sawtooth",volume:.9,delay:.6}]},eA={notification:eR.chime,success:eR.soft,warning:eR.alert,error:eR.urgent},eP=[{value:"chime",label:"Chime (Default)"},{value:"bell",label:"Bell"},{value:"ding",label:"Ding"},{value:"alert",label:"Alert"},{value:"soft",label:"Soft"},{value:"urgent",label:"Urgent"}],eT=new class{audioContext=null;enabled=!0;volume=.8;ringtone="chime";repeatInterval=null;isRepeating=!1;repeatDelay=5e3;constructor(){this.loadSettings()}getAudioContext(){if(!this.audioContext)try{this.audioContext=new(window.AudioContext||window.webkitAudioContext)}catch(e){return console.error("Web Audio API not supported:",e),null}return this.audioContext}loadSettings(){try{let e=localStorage.getItem("notification_sound_settings");if(e){let t=JSON.parse(e);this.enabled=t.enabled??!0,this.volume=t.volume??.8,this.ringtone=t.ringtone??"chime"}}catch(e){console.error("Error loading sound settings:",e)}}saveSettings(){try{localStorage.setItem("notification_sound_settings",JSON.stringify({enabled:this.enabled,volume:this.volume,ringtone:this.ringtone}))}catch(e){console.error("Error saving sound settings:",e)}}async play(e="notification"){if(!this.enabled)return;let t=this.getAudioContext();if(!t)return;if("suspended"===t.state)try{await t.resume()}catch(e){console.error("Error resuming audio context:",e);return}let a="notification"===e?eR[this.ringtone]:eA[e],i=t.currentTime;for(let e of a){let a=i+(e.delay||0),r=t.createOscillator(),s=t.createGain();r.type=e.type,r.frequency.setValueAtTime(e.frequency,a),s.gain.setValueAtTime(0,a),s.gain.linearRampToValueAtTime(e.volume*this.volume,a+.02),s.gain.setValueAtTime(e.volume*this.volume,a+.7*e.duration),s.gain.linearRampToValueAtTime(0,a+e.duration),r.connect(s),s.connect(t.destination),r.start(a),r.stop(a+e.duration+.1)}}async playRingtone(e){let t=this.getAudioContext();if(!t)return;if("suspended"===t.state)try{await t.resume()}catch(e){console.error("Error resuming audio context:",e);return}let a=eR[e],i=t.currentTime;for(let e of a){let a=i+(e.delay||0),r=t.createOscillator(),s=t.createGain();r.type=e.type,r.frequency.setValueAtTime(e.frequency,a),s.gain.setValueAtTime(0,a),s.gain.linearRampToValueAtTime(e.volume*this.volume,a+.02),s.gain.setValueAtTime(e.volume*this.volume,a+.7*e.duration),s.gain.linearRampToValueAtTime(0,a+e.duration),r.connect(s),s.connect(t.destination),r.start(a),r.stop(a+e.duration+.1)}}setEnabled(e){this.enabled=e,this.saveSettings()}isEnabled(){return this.enabled}setVolume(e){this.volume=Math.max(0,Math.min(1,e)),this.saveSettings()}getVolume(){return this.volume}setRingtone(e){this.ringtone=e,this.saveSettings()}getRingtone(){return this.ringtone}async test(){let e=this.enabled;this.enabled=!0,await this.playRingtone(this.ringtone),this.enabled=e}async preview(e){await this.playRingtone(e)}startRepeat(){this.enabled&&!this.isRepeating&&(this.isRepeating=!0,this.play("notification"),this.repeatInterval=setInterval(()=>{this.isRepeating&&this.enabled&&this.play("notification")},this.repeatDelay))}stopRepeat(){this.isRepeating=!1,this.repeatInterval&&(clearInterval(this.repeatInterval),this.repeatInterval=null)}isCurrentlyRepeating(){return this.isRepeating}setRepeatDelay(e){this.repeatDelay=Math.max(2e3,Math.min(3e4,e))}getRepeatDelay(){return this.repeatDelay}},eD=new class{permission="default";enabled=!0;constructor(){this.loadSettings(),this.checkPermission()}loadSettings(){try{let e=localStorage.getItem("browser_notification_settings");if(e){let t=JSON.parse(e);this.enabled=t.enabled??!0}}catch(e){console.error("Error loading notification settings:",e)}}saveSettings(){try{localStorage.setItem("browser_notification_settings",JSON.stringify({enabled:this.enabled}))}catch(e){console.error("Error saving notification settings:",e)}}checkPermission(){"Notification"in window&&(this.permission=Notification.permission)}async requestPermission(){if(!("Notification"in window))return console.warn("This browser does not support notifications"),"denied";try{return this.permission=await Notification.requestPermission(),this.permission}catch(e){return console.error("Error requesting notification permission:",e),"denied"}}isSupported(){return"Notification"in window}getPermission(){return this.permission}isPermissionGranted(){return"granted"===this.permission}setEnabled(e){this.enabled=e,this.saveSettings()}isEnabled(){return this.enabled}async show(e){if(!this.enabled||!this.isSupported()||"granted"!==this.permission&&(await this.requestPermission(),"granted"!==this.permission))return null;try{let t=new Notification(e.title,{body:e.body,icon:e.icon||"/icons/notification-icon.png",badge:e.badge||"/icons/badge-icon.png",tag:e.tag,data:e.data,requireInteraction:e.requireInteraction??!1,silent:e.silent??!1});return e.onClick&&(t.onclick=()=>{window.focus(),e.onClick?.(),t.close()}),e.requireInteraction||setTimeout(()=>t.close(),5e3),t}catch(e){return console.error("Error showing notification:",e),null}}async info(e,t,a){return this.show({title:e,body:t,onClick:a})}async success(e,t,a){return this.show({title:e,body:t,onClick:a,tag:"success"})}async warning(e,t,a){return this.show({title:e,body:t,onClick:a,tag:"warning",requireInteraction:!0})}async error(e,t,a){return this.show({title:e,body:t,onClick:a,tag:"error",requireInteraction:!0})}},eq={po_pending_approval:"bg-yellow-500",po_approved:"bg-green-500",po_rejected:"bg-red-500",low_stock:"bg-orange-500",expiring_medicine:"bg-red-500",new_patient:"bg-blue-500",general:"bg-gray-500"},eI=({type:e})=>{switch(e){case"po_pending_approval":case"po_approved":case"po_rejected":return(0,t.jsx)(B.ShoppingCart,{className:"h-4 w-4"});case"low_stock":case"expiring_medicine":return(0,t.jsx)(ed.AlertTriangle,{className:"h-4 w-4"});default:return(0,t.jsx)(R.FileText,{className:"h-4 w-4"})}};function eL({onMenuClick:e,sidebarCollapsed:n}){let{user:l,logout:c}=(0,y.useAuth)(),{theme:d,setTheme:h,resolvedTheme:p}=(0,ex.useTheme)(),x=(0,i.useRouter)(),[f,b]=(0,a.useState)(!1),[v,w]=(0,a.useState)(!1),[k,N]=(0,a.useState)(!1),[C,S]=(0,a.useState)(!1),M=l?.role==="super_admin"||l?.role==="admin_klinik",{notifications:R,unreadCount:A,loading:P,refresh:T,soundEnabled:D,setSoundEnabled:q,soundVolume:I,setSoundVolume:L,ringtone:_,setRingtone:B,previewRingtone:E,browserNotificationEnabled:O,setBrowserNotificationEnabled:K,browserNotificationPermission:z,requestBrowserNotificationPermission:U,handleNotificationClick:V,markAsRead:F,markAllAsRead:J,testSound:$,isRinging:H,stopRinging:X}=function(e={}){let{enabled:t=!0,refreshInterval:r=3e4,onNewNotification:s}=e,n=(0,i.useRouter)(),[o,l]=(0,a.useState)([]),[c,d]=(0,a.useState)(!1),[u,m]=(0,a.useState)(null),[h,p]=(0,a.useState)(!0),[g,x]=(0,a.useState)(.8),[y,f]=(0,a.useState)("chime"),[b,v]=(0,a.useState)(!0),[j,w]=(0,a.useState)("default"),k=(0,a.useRef)(new Set),N=(0,a.useRef)(!0),[C,S]=(0,a.useState)(!1);(0,a.useEffect)(()=>{p(eT.isEnabled()),x(eT.getVolume()),f(eT.getRingtone()),v(eD.isEnabled()),w(eD.getPermission())},[]);let M=(0,a.useCallback)(async()=>{if(t){d(!0),m(null);try{let e=await eM.getNotifications();if(!N.current){let t=e.filter(e=>!k.current.has(e.id));if(t.length>0){if(h&&!eT.isCurrentlyRepeating()&&(eT.startRepeat(),S(!0)),b)for(let e of t)eD.show({title:e.title,body:e.message,tag:e.id,data:e.data,onClick:()=>{eT.stopRepeat(),S(!1),e.data?.link&&n.push(e.data.link)}});t.forEach(e=>s?.(e))}}e.filter(e=>!e.read).length>0&&h&&!N.current&&!eT.isCurrentlyRepeating()&&(eT.startRepeat(),S(!0)),k.current=new Set(e.map(e=>e.id)),N.current=!1,l(e)}catch(e){console.error("Error fetching notifications:",e),m(e instanceof Error?e:Error("Failed to fetch notifications"))}finally{d(!1)}}},[t,h,b,n,s]);(0,a.useEffect)(()=>{if(M(),r>0){let e=setInterval(M,r);return()=>clearInterval(e)}},[M,r]);let R=(0,a.useCallback)(e=>{eT.setEnabled(e),p(e)},[]),A=(0,a.useCallback)(e=>{eT.setVolume(e),x(e)},[]),P=(0,a.useCallback)(e=>{eT.setRingtone(e),f(e)},[]),T=(0,a.useCallback)(e=>{eT.preview(e)},[]),D=(0,a.useCallback)(e=>{eD.setEnabled(e),v(e)},[]),q=(0,a.useCallback)(async()=>{let e=await eD.requestPermission();return w(e),e},[]),I=(0,a.useCallback)(e=>{eM.markAsRead(e),l(t=>t.map(t=>t.id===e?{...t,read:!0}:t)),0===o.filter(t=>t.id!==e&&!t.read).length&&(eT.stopRepeat(),S(!1))},[o]),L=(0,a.useCallback)(()=>{let e=o.map(e=>e.id);eM.markAllAsRead(e),l(e=>e.map(e=>({...e,read:!0}))),eT.stopRepeat(),S(!1)},[o]),_=(0,a.useCallback)(e=>{eM.markAsRead(e.id),l(t=>t.map(t=>t.id===e.id?{...t,read:!0}:t)),eT.stopRepeat(),S(!1),e.data?.link&&n.push(e.data.link)},[n]),B=(0,a.useCallback)(()=>{eT.stopRepeat(),S(!1)},[]),E=(0,a.useCallback)(()=>{eT.test()},[]);(0,a.useEffect)(()=>()=>{eT.stopRepeat()},[]);let O=o.filter(e=>!e.read).length;return{notifications:o,unreadCount:O,loading:c,error:u,refresh:M,soundEnabled:h,setSoundEnabled:R,soundVolume:g,setSoundVolume:A,ringtone:y,setRingtone:P,previewRingtone:T,browserNotificationEnabled:b,setBrowserNotificationEnabled:D,browserNotificationPermission:j,requestBrowserNotificationPermission:q,handleNotificationClick:_,markAsRead:I,markAllAsRead:L,testSound:E,isRinging:C,stopRinging:B}}({enabled:M,refreshInterval:3e4});return(0,a.useEffect)(()=>{w(!0)},[]),(0,a.useEffect)(()=>{k&&M&&T()},[k,M,T]),(0,t.jsxs)("header",{className:(0,s.cn)("fixed top-0 right-0 z-30 h-16 border-b border-border","bg-card/95 backdrop-blur-md supports-[backdrop-filter]:bg-card/80","flex items-center justify-between px-4 md:px-6","transition-all duration-300",n?"left-20":"left-[280px]"),children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)(m.Button,{variant:"ghost",size:"icon",onClick:e,className:"lg:hidden hover:bg-muted",children:(0,t.jsx)(es,{className:"h-5 w-5"})}),(0,t.jsx)("div",{className:"hidden md:flex items-center",children:(0,t.jsx)(o.AnimatePresence,{mode:"wait",children:f?(0,t.jsxs)(r.motion.div,{initial:{width:0,opacity:0},animate:{width:320,opacity:1},exit:{width:0,opacity:0},transition:{duration:.2},className:"relative",children:[(0,t.jsx)(er.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,t.jsx)(ey.Input,{placeholder:"Cari pasien, dokter, atau menu...",className:"pl-10 pr-10 bg-muted/50 border-0 focus-visible:ring-1 focus-visible:ring-primary",autoFocus:!0}),(0,t.jsx)(m.Button,{variant:"ghost",size:"icon",className:"absolute right-1 top-1/2 -translate-y-1/2 h-7 w-7",onClick:()=>b(!1),children:(0,t.jsx)(ec.X,{className:"h-4 w-4"})})]}):(0,t.jsx)(m.Button,{variant:"ghost",size:"icon",onClick:()=>b(!0),className:"hover:bg-muted",children:(0,t.jsx)(er.Search,{className:"h-5 w-5"})})})})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[v&&(0,t.jsxs)(m.Button,{variant:"ghost",size:"icon",onClick:()=>{h("dark"===p?"light":"dark")},className:"hover:bg-muted relative",children:[(0,t.jsx)(o.AnimatePresence,{mode:"wait",children:"dark"===p?(0,t.jsx)(r.motion.div,{initial:{rotate:-90,opacity:0},animate:{rotate:0,opacity:1},exit:{rotate:90,opacity:0},transition:{duration:.2},children:(0,t.jsx)(en,{className:"h-5 w-5"})},"moon"):(0,t.jsx)(r.motion.div,{initial:{rotate:90,opacity:0},animate:{rotate:0,opacity:1},exit:{rotate:-90,opacity:0},transition:{duration:.2},children:(0,t.jsx)(eo,{className:"h-5 w-5"})},"sun")}),(0,t.jsx)("span",{className:"sr-only",children:"Toggle theme"})]}),M&&(0,t.jsxs)(ew.Popover,{open:C,onOpenChange:S,children:[(0,t.jsx)(ew.PopoverTrigger,{asChild:!0,children:(0,t.jsx)(m.Button,{variant:"ghost",size:"icon",className:"relative hover:bg-muted",children:D?(0,t.jsx)(em.Volume2,{className:"h-5 w-5"}):(0,t.jsx)(eh.VolumeX,{className:"h-5 w-5 text-muted-foreground"})})}),(0,t.jsx)(ew.PopoverContent,{align:"end",className:"w-80",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h4",{className:"font-medium text-sm",children:"Pengaturan Notifikasi"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[D?(0,t.jsx)(em.Volume2,{className:"h-4 w-4"}):(0,t.jsx)(eh.VolumeX,{className:"h-4 w-4 text-muted-foreground"}),(0,t.jsx)(ej.Label,{htmlFor:"sound-enabled",className:"text-sm",children:"Suara Notifikasi"})]}),(0,t.jsx)(ev.Switch,{id:"sound-enabled",checked:D,onCheckedChange:q})]}),D&&(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(ej.Label,{className:"text-xs text-muted-foreground",children:"Pilih Ringtone"}),(0,t.jsx)("div",{className:"grid grid-cols-2 gap-2",children:eP.map(e=>(0,t.jsx)(m.Button,{variant:_===e.value?"default":"outline",size:"sm",className:"w-full text-xs",onClick:()=>{B(e.value),E(e.value)},children:e.label},e.value))})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(ej.Label,{className:"text-xs text-muted-foreground",children:"Volume"}),(0,t.jsxs)("span",{className:"text-xs text-muted-foreground",children:[Math.round(100*I),"%"]})]}),(0,t.jsx)(eb.Slider,{value:[I],onValueChange:([e])=>L(e),max:1,step:.1,className:"w-full"})]}),(0,t.jsx)(m.Button,{variant:"outline",size:"sm",className:"w-full",onClick:$,children:"Test Suara"})]})]}),(0,t.jsx)(ef.DropdownMenuSeparator,{}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[O?(0,t.jsx)(ep,{className:"h-4 w-4"}):(0,t.jsx)(eg,{className:"h-4 w-4 text-muted-foreground"}),(0,t.jsx)(ej.Label,{htmlFor:"browser-notif",className:"text-sm",children:"Notifikasi Browser"})]}),(0,t.jsx)(ev.Switch,{id:"browser-notif",checked:O,onCheckedChange:K})]}),O&&"granted"!==z&&(0,t.jsxs)("div",{className:"p-2 bg-yellow-50 dark:bg-yellow-900/20 rounded-md",children:[(0,t.jsx)("p",{className:"text-xs text-yellow-800 dark:text-yellow-200 mb-2",children:"Izin notifikasi browser belum diberikan"}),(0,t.jsx)(m.Button,{variant:"outline",size:"sm",className:"w-full",onClick:U,children:"Minta Izin"})]}),O&&"granted"===z&&(0,t.jsx)("p",{className:"text-xs text-green-600 dark:text-green-400",children:"Notifikasi browser aktif"}),"denied"===z&&(0,t.jsx)("p",{className:"text-xs text-red-600 dark:text-red-400",children:"Notifikasi browser diblokir. Aktifkan di pengaturan browser."})]})]})})]}),(0,t.jsxs)(ef.DropdownMenu,{open:k,onOpenChange:e=>{N(e),e&&H&&X()},children:[(0,t.jsx)(ef.DropdownMenuTrigger,{asChild:!0,children:(0,t.jsxs)(m.Button,{variant:"ghost",size:"icon",className:(0,s.cn)("relative hover:bg-muted",H&&"animate-pulse"),children:[H?(0,t.jsx)(r.motion.div,{animate:{rotate:[0,-15,15,-15,15,0]},transition:{duration:.5,repeat:1/0,repeatDelay:1},children:(0,t.jsx)(ep,{className:"h-5 w-5 text-destructive"})}):(0,t.jsx)(ei,{className:"h-5 w-5"}),A>0&&(0,t.jsx)(r.motion.span,{initial:{scale:0},animate:{scale:1},className:(0,s.cn)("absolute -top-0.5 -right-0.5 h-5 w-5 rounded-full text-[10px] font-medium flex items-center justify-center",H?"bg-destructive text-destructive-foreground animate-ping":"bg-destructive text-destructive-foreground"),children:A>99?"99+":A}),H&&(0,t.jsx)(r.motion.span,{initial:{scale:0},animate:{scale:[1,1.5,1]},transition:{duration:1,repeat:1/0},className:"absolute inset-0 rounded-md bg-destructive/20"})]})}),(0,t.jsxs)(ef.DropdownMenuContent,{align:"end",className:"w-96",children:[(0,t.jsxs)(ef.DropdownMenuLabel,{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"font-semibold",children:"Notifikasi"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[H&&(0,t.jsxs)(m.Button,{variant:"destructive",size:"sm",className:"h-6 text-xs",onClick:e=>{e.preventDefault(),X()},children:[(0,t.jsx)(eh.VolumeX,{className:"h-3 w-3 mr-1"}),"Stop"]}),A>0&&(0,t.jsx)(m.Button,{variant:"ghost",size:"sm",className:"h-6 text-xs text-primary hover:text-primary/80",onClick:e=>{e.preventDefault(),J()},children:"Tandai Dibaca"})]})]}),(0,t.jsx)(ef.DropdownMenuSeparator,{}),P?(0,t.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,t.jsx)(eu.Loader2,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):0===R.length?(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center py-8 text-muted-foreground",children:[(0,t.jsx)(ei,{className:"h-8 w-8 mb-2 opacity-50"}),(0,t.jsx)("p",{className:"text-sm",children:"Tidak ada notifikasi"})]}):(0,t.jsx)("div",{className:"max-h-[400px] overflow-y-auto",children:R.map(e=>(0,t.jsxs)(ef.DropdownMenuItem,{className:(0,s.cn)("flex items-start gap-3 p-3 cursor-pointer",!e.read&&"bg-primary/5"),onClick:()=>{V(e),X(),N(!1)},children:[(0,t.jsx)("div",{className:(0,s.cn)("flex items-center justify-center h-8 w-8 rounded-full shrink-0",eq[e.type],"text-white"),children:(0,t.jsx)(eI,{type:e.type})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[!e.read&&(0,t.jsx)("span",{className:"h-2 w-2 rounded-full bg-primary shrink-0"}),(0,t.jsx)("p",{className:(0,s.cn)("text-sm truncate",!e.read&&"font-medium"),children:e.title})]}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-0.5 line-clamp-2",children:e.message}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:eM.formatTime(e.created_at)})]})]},e.id))}),R.length>0&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(ef.DropdownMenuSeparator,{}),(0,t.jsx)(ef.DropdownMenuItem,{className:"justify-center text-primary font-medium",onClick:()=>{x.push("/pharmacy/purchase-orders?status=pending_approval"),N(!1)},children:"Lihat semua PO pending"})]})]})]}),(0,t.jsxs)(ef.DropdownMenu,{children:[(0,t.jsx)(ef.DropdownMenuTrigger,{asChild:!0,children:(0,t.jsx)(m.Button,{variant:"ghost",className:"relative h-10 w-10 rounded-full hover:bg-muted",children:(0,t.jsxs)(g.Avatar,{className:"h-9 w-9 ring-2 ring-border",children:[(0,t.jsx)(g.AvatarImage,{src:l?.avatar,alt:l?.name}),(0,t.jsx)(g.AvatarFallback,{className:"bg-primary text-primary-foreground font-semibold text-sm",children:l?.name?(0,s.getInitials)(l.name):"U"})]})})}),(0,t.jsxs)(ef.DropdownMenuContent,{align:"end",className:"w-56",children:[(0,t.jsx)(ef.DropdownMenuLabel,{children:(0,t.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,t.jsx)("p",{className:"text-sm font-semibold",children:l?.name}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:l?.email}),(0,t.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 mt-1 rounded-full text-xs font-medium bg-primary/10 text-primary w-fit",children:l?.role?ee.ROLE_LABELS[l.role]:""})]})}),(0,t.jsx)(ef.DropdownMenuSeparator,{}),(0,t.jsxs)(ef.DropdownMenuItem,{className:"cursor-pointer",children:[(0,t.jsx)(el.User,{className:"mr-2 h-4 w-4"}),"Profil Saya"]}),(0,t.jsxs)(ef.DropdownMenuItem,{className:"cursor-pointer",children:[(0,t.jsx)(j.Settings,{className:"mr-2 h-4 w-4"}),"Pengaturan"]}),(0,t.jsx)(ef.DropdownMenuSeparator,{}),(0,t.jsxs)(ef.DropdownMenuItem,{onClick:c,className:"text-destructive cursor-pointer focus:text-destructive focus:bg-destructive/10",children:[(0,t.jsx)(u,{className:"mr-2 h-4 w-4"}),"Keluar"]})]})]})]})]})}let e_={initial:{opacity:0,y:10},enter:{opacity:1,y:0,transition:{duration:.3,ease:"easeOut"}},exit:{opacity:0,y:-10,transition:{duration:.2,ease:"easeIn"}}};function eB({children:e}){return(0,t.jsx)(r.motion.div,{initial:"initial",animate:"enter",exit:"exit",variants:e_,children:e})}var eE=e.i(46696);let eO=({...e})=>(0,t.jsx)(eE.Toaster,{theme:"light",className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-white group-[.toaster]:text-gray-950 group-[.toaster]:border-gray-200 group-[.toaster]:shadow-lg group-[.toaster]:rounded-xl",description:"group-[.toast]:text-gray-500",actionButton:"group-[.toast]:bg-gray-900 group-[.toast]:text-gray-50",cancelButton:"group-[.toast]:bg-gray-100 group-[.toast]:text-gray-500",success:"group-[.toaster]:bg-emerald-50 group-[.toaster]:text-emerald-900 group-[.toaster]:border-emerald-200",error:"group-[.toaster]:bg-red-50 group-[.toaster]:text-red-900 group-[.toaster]:border-red-200",warning:"group-[.toaster]:bg-amber-50 group-[.toaster]:text-amber-900 group-[.toaster]:border-amber-200",info:"group-[.toaster]:bg-blue-50 group-[.toaster]:text-blue-900 group-[.toaster]:border-blue-200"}},...e});function eK({children:e}){let[n,o]=(0,a.useState)(!1),[l,c]=(0,a.useState)(!1),{isAuthenticated:d,isLoading:u}=(0,y.useAuth)(),m=(0,i.useRouter)();return((0,a.useEffect)(()=>{c(!0)},[]),(0,a.useEffect)(()=>{u||d||m.push("/login")},[d,u,m]),!l||u)?(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-background",children:(0,t.jsx)(r.motion.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-8 h-8 border-2 border-primary border-t-transparent rounded-full"})}):d?(0,t.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,t.jsx)(et,{isCollapsed:n,onToggle:()=>o(!n)}),(0,t.jsx)(eL,{onMenuClick:()=>o(!n),sidebarCollapsed:n}),(0,t.jsx)("main",{className:(0,s.cn)("pt-16 min-h-screen transition-all duration-300",n?"pl-20":"pl-[280px]"),children:(0,t.jsx)("div",{className:"p-6",children:(0,t.jsx)(eB,{children:e})})}),(0,t.jsx)(eO,{position:"top-right",richColors:!0,closeButton:!0})]}):null}e.s(["default",()=>eK],16370)}]);
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,40296,e=>{"use strict";var a=e.i(43476),s=e.i(71645),t=e.i(46932),l=e.i(46696),i=e.i(75254);let n=(0,i.default)("FileCode2",[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4",key:"1pf5j1"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m5 12-3 3 3 3",key:"oke12k"}],["path",{d:"m9 18 3-3-3-3",key:"112psh"}]]);var r=e.i(20286),d=e.i(1627),c=e.i(81418),o=e.i(55436),m=e.i(7233),x=e.i(16715),h=e.i(97548),p=e.i(69074),u=e.i(15288),j=e.i(19455),g=e.i(93479),b=e.i(67489),N=e.i(86536),f=e.i(88511),y=e.i(27612),v=e.i(81203),k=e.i(41071),C=e.i(73375),w=e.i(63059),_=e.i(84774),S=e.i(55146),D=e.i(87486),I=e.i(10160);function T(){return(0,a.jsxs)(_.TableRow,{children:[(0,a.jsx)(_.TableCell,{children:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("div",{className:"h-4 w-20 bg-muted animate-pulse rounded"}),(0,a.jsx)("div",{className:"h-3 w-16 bg-muted animate-pulse rounded"})]})}),(0,a.jsx)(_.TableCell,{children:(0,a.jsx)("div",{className:"h-6 w-24 bg-muted animate-pulse rounded-full"})}),(0,a.jsx)(_.TableCell,{children:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("div",{className:"h-4 w-64 bg-muted animate-pulse rounded"}),(0,a.jsx)("div",{className:"h-3 w-48 bg-muted animate-pulse rounded"})]})}),(0,a.jsx)(_.TableCell,{children:(0,a.jsx)("div",{className:"h-4 w-16 bg-muted animate-pulse rounded"})}),(0,a.jsx)(_.TableCell,{children:(0,a.jsx)("div",{className:"h-6 w-16 bg-muted animate-pulse rounded-full"})}),(0,a.jsx)(_.TableCell,{children:(0,a.jsx)("div",{className:"h-6 w-16 bg-muted animate-pulse rounded-full"})}),(0,a.jsx)(_.TableCell,{children:(0,a.jsx)("div",{className:"h-8 w-8 bg-muted animate-pulse rounded"})})]})}function B(){return(0,a.jsx)(_.TableRow,{children:(0,a.jsx)(_.TableCell,{colSpan:7,className:"h-48",children:(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center text-center",children:[(0,a.jsx)("div",{className:"p-4 rounded-full bg-muted/50 mb-4",children:(0,a.jsx)(n,{className:"h-8 w-8 text-muted-foreground"})}),(0,a.jsx)("h3",{className:"font-semibold text-lg",children:"Tidak ada kode ICD"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"Belum ada kode ICD yang sesuai dengan filter"})]})})})}function z({icdCodes:e,isLoading:s=!1,currentPage:l,totalPages:i,onPageChange:n,onView:r,onEdit:d,onDelete:o,onToggleStatus:m}){return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("div",{className:"rounded-xl border bg-card overflow-hidden",children:(0,a.jsxs)(_.Table,{children:[(0,a.jsx)(_.TableHeader,{children:(0,a.jsxs)(_.TableRow,{className:"bg-muted/50 hover:bg-muted/50",children:[(0,a.jsx)(_.TableHead,{className:"font-semibold w-[120px]",children:"Kode"}),(0,a.jsx)(_.TableHead,{className:"font-semibold w-[130px]",children:"Tipe"}),(0,a.jsx)(_.TableHead,{className:"font-semibold",children:"Nama"}),(0,a.jsx)(_.TableHead,{className:"font-semibold w-[100px]",children:"Chapter"}),(0,a.jsx)(_.TableHead,{className:"font-semibold w-[100px]",children:"BPJS"}),(0,a.jsx)(_.TableHead,{className:"font-semibold w-[100px]",children:"Status"}),(0,a.jsx)(_.TableHead,{className:"font-semibold w-[80px]",children:"Aksi"})]})}),(0,a.jsx)(_.TableBody,{children:s?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(T,{}),(0,a.jsx)(T,{}),(0,a.jsx)(T,{}),(0,a.jsx)(T,{}),(0,a.jsx)(T,{})]}):0===e.length?(0,a.jsx)(B,{}):e.map((e,s)=>(0,a.jsxs)(t.motion.tr,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.05*s},className:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",children:[(0,a.jsx)(_.TableCell,{children:(0,a.jsx)("code",{className:"px-2 py-1 bg-muted rounded text-sm font-mono font-semibold",children:e.code})}),(0,a.jsx)(_.TableCell,{children:(0,a.jsx)(D.Badge,{variant:"secondary",className:I.default.getTypeColorClass(e.type),children:I.default.formatTypeLabel(e.type)})}),(0,a.jsx)(_.TableCell,{children:(0,a.jsxs)("div",{className:"min-w-0",children:[(0,a.jsx)("p",{className:"font-medium truncate max-w-md",title:e.name_id,children:e.name_id}),e.name_en&&(0,a.jsx)("p",{className:"text-sm text-muted-foreground truncate max-w-md",title:e.name_en,children:e.name_en})]})}),(0,a.jsx)(_.TableCell,{children:e.chapter?(0,a.jsx)("span",{className:"text-sm font-medium",children:e.chapter}):(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:"-"})}),(0,a.jsx)(_.TableCell,{children:e.is_bpjs_claimable?(0,a.jsxs)(D.Badge,{variant:"secondary",className:I.default.getBpjsClass(!0),children:[(0,a.jsx)(c.ShieldCheck,{className:"h-3 w-3 mr-1"}),"Ya"]}):(0,a.jsx)(D.Badge,{variant:"secondary",className:I.default.getBpjsClass(!1),children:"Tidak"})}),(0,a.jsx)(_.TableCell,{children:(0,a.jsx)(D.Badge,{variant:e.is_active?"success":"error",children:e.is_active?"Aktif":"Nonaktif"})}),(0,a.jsx)(_.TableCell,{children:(0,a.jsxs)(S.DropdownMenu,{children:[(0,a.jsx)(S.DropdownMenuTrigger,{asChild:!0,children:(0,a.jsxs)(j.Button,{variant:"ghost",size:"icon",className:"h-8 w-8",children:[(0,a.jsx)(k.MoreHorizontal,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Buka menu"})]})}),(0,a.jsxs)(S.DropdownMenuContent,{align:"end",className:"w-48",children:[(0,a.jsxs)(S.DropdownMenuItem,{onClick:()=>r(e),children:[(0,a.jsx)(N.Eye,{className:"mr-2 h-4 w-4"}),"Lihat Detail"]}),(0,a.jsxs)(S.DropdownMenuItem,{onClick:()=>d(e),children:[(0,a.jsx)(f.Edit,{className:"mr-2 h-4 w-4"}),"Edit"]}),(0,a.jsxs)(S.DropdownMenuItem,{onClick:()=>m(e),children:[(0,a.jsx)(v.Power,{className:"mr-2 h-4 w-4"}),e.is_active?"Nonaktifkan":"Aktifkan"]}),(0,a.jsx)(S.DropdownMenuSeparator,{}),(0,a.jsxs)(S.DropdownMenuItem,{onClick:()=>o(e),className:"text-destructive focus:text-destructive",children:[(0,a.jsx)(y.Trash2,{className:"mr-2 h-4 w-4"}),"Hapus"]})]})]})})]},e.id))})]})}),i>1&&(0,a.jsxs)("div",{className:"flex items-center justify-between px-2",children:[(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Halaman ",l," dari ",i]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(j.Button,{variant:"outline",size:"sm",onClick:()=>n(l-1),disabled:l<=1,children:[(0,a.jsx)(C.ChevronLeft,{className:"h-4 w-4 mr-1"}),"Sebelumnya"]}),(0,a.jsxs)(j.Button,{variant:"outline",size:"sm",onClick:()=>n(l+1),disabled:l>=i,children:["Selanjutnya",(0,a.jsx)(w.ChevronRight,{className:"h-4 w-4 ml-1"})]})]})]})]})}var P=e.i(53145),F=e.i(94814),L=e.i(88653),M=e.i(88081),K=e.i(78583),A=e.i(31278),H=e.i(63209);let V=(0,i.default)("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);var E=e.i(48256);let O=(0,i.default)("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);var J=e.i(76639),R=e.i(10204),U=e.i(99375),$=e.i(50270);let q=$.z.object({code:$.z.string().min(1,"Kode ICD wajib diisi").max(20,"Kode maksimal 20 karakter").regex(/^[A-Z0-9.]+$/i,"Kode hanya boleh berisi huruf, angka, dan titik"),type:$.z.enum(["icd10","icd9cm"],{errorMap:()=>({message:"Tipe ICD wajib dipilih"})}),name_id:$.z.string().min(1,"Nama (Indonesia) wajib diisi").max(500,"Nama maksimal 500 karakter"),name_en:$.z.string().max(500,"Nama (English) maksimal 500 karakter").optional().nullable().or($.z.literal("")),chapter:$.z.string().max(10,"Chapter maksimal 10 karakter").optional().nullable().or($.z.literal("")),chapter_name:$.z.string().max(255,"Nama chapter maksimal 255 karakter").optional().nullable().or($.z.literal("")),block:$.z.string().max(20,"Block maksimal 20 karakter").optional().nullable().or($.z.literal("")),block_name:$.z.string().max(255,"Nama block maksimal 255 karakter").optional().nullable().or($.z.literal("")),parent_code:$.z.string().max(20,"Parent code maksimal 20 karakter").optional().nullable().or($.z.literal("")),dtd_code:$.z.string().max(20,"DTD code maksimal 20 karakter").optional().nullable().or($.z.literal("")),is_bpjs_claimable:$.z.boolean().optional().default(!0),is_active:$.z.boolean().optional().default(!0),notes:$.z.string().max(1e3,"Catatan maksimal 1000 karakter").optional().nullable().or($.z.literal(""))}),G=$.z.object({file:$.z.custom(e=>e instanceof File,"File wajib dipilih").refine(e=>["text/csv","application/json","application/vnd.ms-excel"].includes(e.type)||e.name.endsWith(".csv")||e.name.endsWith(".json"),"File harus berupa CSV atau JSON").refine(e=>e.size<=0xa00000,"Ukuran file maksimal 10MB"),type:$.z.enum(["icd10","icd9cm"],{errorMap:()=>({message:"Tipe ICD wajib dipilih"})})});function W({open:e,onOpenChange:l,icdCode:i,onSuccess:r}){let d=!!i,[o,m]=(0,s.useState)(!1),{register:x,handleSubmit:h,setValue:p,watch:u,reset:N,control:f,formState:{errors:y}}=(0,P.useForm)({resolver:(0,F.zodResolver)(q),defaultValues:{code:"",type:"icd10",name_id:"",name_en:"",chapter:"",chapter_name:"",block:"",block_name:"",parent_code:"",dtd_code:"",is_bpjs_claimable:!0,is_active:!0,notes:""}}),v=u("type"),k=u("is_active"),C=u("is_bpjs_claimable");(0,s.useEffect)(()=>{e&&(i?N({code:i.code,type:i.type,name_id:i.name_id,name_en:i.name_en||"",chapter:i.chapter||"",chapter_name:i.chapter_name||"",block:i.block||"",block_name:i.block_name||"",parent_code:i.parent_code||"",dtd_code:i.dtd_code||"",is_bpjs_claimable:i.is_bpjs_claimable,is_active:i.is_active,notes:i.notes||""}):N({code:"",type:"icd10",name_id:"",name_en:"",chapter:"",chapter_name:"",block:"",block_name:"",parent_code:"",dtd_code:"",is_bpjs_claimable:!0,is_active:!0,notes:""}))},[e,i,N]);let w=async e=>{m(!0);try{let a={...e,name_en:e.name_en||null,chapter:e.chapter||null,chapter_name:e.chapter_name||null,block:e.block||null,block_name:e.block_name||null,parent_code:e.parent_code||null,dtd_code:e.dtd_code||null,notes:e.notes||null};d&&i?await I.default.updateIcdCode(i.id,a):await I.default.createIcdCode(a),r(),l(!1)}catch(e){console.error("Error saving ICD code:",e)}finally{m(!1)}},_=I.default.getTypeOptions(),S=I.default.getChapterOptions();return(0,a.jsx)(J.Dialog,{open:e,onOpenChange:l,children:(0,a.jsxs)(J.DialogContent,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)(J.DialogHeader,{children:[(0,a.jsx)(J.DialogTitle,{className:"text-xl",children:d?"Edit Kode ICD":"Tambah Kode ICD Baru"}),(0,a.jsx)(J.DialogDescription,{children:d?"Perbarui informasi kode ICD di bawah ini.":"Isi informasi kode ICD baru di bawah ini."})]}),(0,a.jsxs)("form",{onSubmit:h(w),className:"space-y-5 py-4",children:[(0,a.jsxs)(t.motion.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"flex items-center justify-center gap-4 p-4 rounded-lg bg-muted/50",children:[(0,a.jsx)("div",{className:`p-3 rounded-xl ${I.default.getTypeColorClass(v)}`,children:(0,a.jsx)(n,{className:"h-6 w-6"})}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"font-semibold",children:"icd10"===v?"ICD-10 (Diagnosis)":"ICD-9-CM (Prosedur)"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"icd10"===v?"Kode diagnosis penyakit":"Kode tindakan/prosedur medis"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)(t.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},className:"space-y-2",children:[(0,a.jsxs)(R.Label,{className:"text-sm font-medium",children:["Tipe ICD ",(0,a.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,a.jsx)(P.Controller,{name:"type",control:f,render:({field:e})=>(0,a.jsxs)(b.Select,{value:e.value,onValueChange:e.onChange,children:[(0,a.jsx)(b.SelectTrigger,{children:(0,a.jsx)(b.SelectValue,{placeholder:"Pilih tipe"})}),(0,a.jsx)(b.SelectContent,{children:_.map(e=>(0,a.jsx)(b.SelectItem,{value:e.value,children:e.label},e.value))})]})}),(0,a.jsx)(L.AnimatePresence,{children:y.type&&(0,a.jsxs)(t.motion.p,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"text-sm text-destructive flex items-center gap-1",children:[(0,a.jsx)(H.AlertCircle,{className:"h-3 w-3"}),y.type.message]})})]}),(0,a.jsxs)(t.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.15},className:"space-y-2",children:[(0,a.jsxs)(R.Label,{htmlFor:"code",className:"text-sm font-medium",children:["Kode ICD ",(0,a.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(M.Hash,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,a.jsx)(g.Input,{id:"code",placeholder:"A09, J06.9, 23.01",className:"pl-10 uppercase font-mono",...x("code"),onChange:e=>p("code",e.target.value.toUpperCase())})]}),(0,a.jsx)(L.AnimatePresence,{children:y.code&&(0,a.jsxs)(t.motion.p,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"text-sm text-destructive flex items-center gap-1",children:[(0,a.jsx)(H.AlertCircle,{className:"h-3 w-3"}),y.code.message]})})]})]}),(0,a.jsxs)(t.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},className:"space-y-2",children:[(0,a.jsxs)(R.Label,{htmlFor:"name_id",className:"text-sm font-medium",children:["Nama (Indonesia) ",(0,a.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(V,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,a.jsx)(g.Input,{id:"name_id",placeholder:"Diare dan gastroenteritis",className:"pl-10",...x("name_id")})]}),(0,a.jsx)(L.AnimatePresence,{children:y.name_id&&(0,a.jsxs)(t.motion.p,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"text-sm text-destructive flex items-center gap-1",children:[(0,a.jsx)(H.AlertCircle,{className:"h-3 w-3"}),y.name_id.message]})})]}),(0,a.jsxs)(t.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.25},className:"space-y-2",children:[(0,a.jsx)(R.Label,{htmlFor:"name_en",className:"text-sm font-medium",children:"Nama (English)"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(E.Globe,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,a.jsx)(g.Input,{id:"name_en",placeholder:"Infectious gastroenteritis and colitis",className:"pl-10",...x("name_en")})]})]}),"icd10"===v&&(0,a.jsxs)(t.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},className:"space-y-4 p-4 rounded-lg border bg-muted/30",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(V,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsx)(R.Label,{className:"text-sm font-medium",children:"Informasi Chapter"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(R.Label,{htmlFor:"chapter",className:"text-xs",children:"Chapter"}),(0,a.jsx)(P.Controller,{name:"chapter",control:f,render:({field:e})=>(0,a.jsxs)(b.Select,{value:e.value||"none",onValueChange:a=>{e.onChange("none"===a?"":a);let s=S.find(e=>e.value===a);s&&p("chapter_name",s.label.split(" - ")[1]||"")},children:[(0,a.jsx)(b.SelectTrigger,{children:(0,a.jsx)(b.SelectValue,{placeholder:"Pilih chapter"})}),(0,a.jsxs)(b.SelectContent,{children:[(0,a.jsx)(b.SelectItem,{value:"none",children:"Tidak ada"}),S.map(e=>(0,a.jsx)(b.SelectItem,{value:e.value,children:e.label},e.value))]})]})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(R.Label,{htmlFor:"chapter_name",className:"text-xs",children:"Nama Chapter"}),(0,a.jsx)(g.Input,{id:"chapter_name",placeholder:"Nama chapter",...x("chapter_name")})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(R.Label,{htmlFor:"block",className:"text-xs",children:"Block"}),(0,a.jsx)(g.Input,{id:"block",placeholder:"A00-A09",...x("block")})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(R.Label,{htmlFor:"block_name",className:"text-xs",children:"Nama Block"}),(0,a.jsx)(g.Input,{id:"block_name",placeholder:"Intestinal infectious diseases",...x("block_name")})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)(t.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.35},className:"space-y-2",children:[(0,a.jsx)(R.Label,{htmlFor:"parent_code",className:"text-sm font-medium",children:"Parent Code"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(O,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,a.jsx)(g.Input,{id:"parent_code",placeholder:"A00",className:"pl-10 uppercase font-mono",...x("parent_code"),onChange:e=>p("parent_code",e.target.value.toUpperCase())})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Kode induk untuk hierarki"})]}),(0,a.jsxs)(t.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4},className:"space-y-2",children:[(0,a.jsx)(R.Label,{htmlFor:"dtd_code",className:"text-sm font-medium",children:"DTD Code"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(M.Hash,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,a.jsx)(g.Input,{id:"dtd_code",placeholder:"Kode DTD",className:"pl-10 font-mono",...x("dtd_code")})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Kode untuk SatuSehat (opsional)"})]})]}),(0,a.jsxs)(t.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.45},className:"space-y-2",children:[(0,a.jsx)(R.Label,{htmlFor:"notes",className:"text-sm font-medium",children:"Catatan"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(K.FileText,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),(0,a.jsx)("textarea",{id:"notes",placeholder:"Catatan tambahan...",className:"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 pl-10 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 resize-none",...x("notes")})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)(t.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.5},className:"flex items-center justify-between rounded-lg border p-4",children:[(0,a.jsxs)("div",{className:"space-y-0.5",children:[(0,a.jsx)(R.Label,{htmlFor:"is_active",className:"text-sm font-medium",children:"Status Aktif"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:k?"Kode dapat digunakan":"Kode tidak aktif"})]}),(0,a.jsx)(U.Switch,{id:"is_active",checked:k,onCheckedChange:e=>p("is_active",e)})]}),(0,a.jsxs)(t.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.55},className:"flex items-center justify-between rounded-lg border p-4",children:[(0,a.jsxs)("div",{className:"space-y-0.5",children:[(0,a.jsxs)(R.Label,{htmlFor:"is_bpjs_claimable",className:"text-sm font-medium flex items-center gap-1",children:[(0,a.jsx)(c.ShieldCheck,{className:"h-3.5 w-3.5"}),"Claimable BPJS"]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:C?"Dapat diklaim BPJS":"Tidak dapat diklaim"})]}),(0,a.jsx)(U.Switch,{id:"is_bpjs_claimable",checked:C,onCheckedChange:e=>p("is_bpjs_claimable",e)})]})]})]}),(0,a.jsxs)(J.DialogFooter,{className:"gap-2 sm:gap-0",children:[(0,a.jsx)(j.Button,{type:"button",variant:"outline",onClick:()=>l(!1),disabled:o,children:"Batal"}),(0,a.jsx)(j.Button,{type:"submit",onClick:h(w),disabled:o,className:"min-w-[100px]",children:o?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(A.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Menyimpan..."]}):d?"Simpan Perubahan":"Tambah Kode ICD"})]})]})})}var Z=e.i(87316),X=e.i(69638),Y=e.i(73884),Q=e.i(52008),ee=e.i(72436),ea=e.i(75157);function es({open:e,onOpenChange:s,icdCode:l,onEdit:i,onToggleStatus:r}){return l?(0,a.jsx)(J.Dialog,{open:e,onOpenChange:s,children:(0,a.jsxs)(J.DialogContent,{className:"sm:max-w-[500px] max-h-[90vh] overflow-y-auto",children:[(0,a.jsx)(J.DialogHeader,{children:(0,a.jsx)(J.DialogTitle,{className:"text-xl",children:"Detail Kode ICD"})}),(0,a.jsxs)("div",{className:"py-4 space-y-6",children:[(0,a.jsxs)(t.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex flex-col items-center text-center",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:`p-5 rounded-2xl ${I.default.getTypeColorClass(l.type)}`,children:(0,a.jsx)(n,{className:"h-12 w-12"})}),(0,a.jsx)("div",{className:`absolute -bottom-1 -right-1 w-6 h-6 rounded-full border-2 border-background flex items-center justify-center ${l.is_active?"bg-emerald-500":"bg-gray-400"}`,children:l.is_active?(0,a.jsx)(X.CheckCircle,{className:"h-4 w-4 text-white"}):(0,a.jsx)(Y.XCircle,{className:"h-4 w-4 text-white"})})]}),(0,a.jsx)("code",{className:"mt-4 px-3 py-1 bg-muted rounded font-mono text-lg font-bold",children:l.code}),(0,a.jsx)("p",{className:"mt-2 text-sm font-medium text-center max-w-sm",children:l.name_id}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mt-3 flex-wrap justify-center",children:[(0,a.jsx)(D.Badge,{variant:l.is_active?"success":"error",children:l.is_active?"Aktif":"Nonaktif"}),(0,a.jsx)(D.Badge,{variant:"secondary",className:I.default.getTypeColorClass(l.type),children:I.default.formatTypeLabel(l.type)}),l.is_bpjs_claimable&&(0,a.jsxs)(D.Badge,{variant:"secondary",className:I.default.getBpjsClass(!0),children:[(0,a.jsx)(c.ShieldCheck,{className:"h-3 w-3 mr-1"}),"BPJS"]})]})]}),(0,a.jsx)(ee.Separator,{}),(0,a.jsxs)(t.motion.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[(0,a.jsx)("div",{className:"p-2 rounded-lg bg-blue-100 dark:bg-blue-950",children:(0,a.jsx)(M.Hash,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Kode ICD"}),(0,a.jsx)("code",{className:"text-sm font-mono font-semibold",children:l.code})]})]}),(0,a.jsxs)("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-muted/50",children:[(0,a.jsx)("div",{className:"p-2 rounded-lg bg-green-100 dark:bg-green-950",children:(0,a.jsx)(V,{className:"h-4 w-4 text-green-600 dark:text-green-400"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Nama (Indonesia)"}),(0,a.jsx)("p",{className:"text-sm font-medium",children:l.name_id})]})]}),l.name_en&&(0,a.jsxs)("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-muted/50",children:[(0,a.jsx)("div",{className:"p-2 rounded-lg bg-indigo-100 dark:bg-indigo-950",children:(0,a.jsx)(E.Globe,{className:"h-4 w-4 text-indigo-600 dark:text-indigo-400"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Nama (English)"}),(0,a.jsx)("p",{className:"text-sm font-medium",children:l.name_en})]})]}),"icd10"===l.type&&l.chapter&&(0,a.jsxs)("div",{className:"p-3 rounded-lg bg-muted/50 space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"p-2 rounded-lg bg-purple-100 dark:bg-purple-950",children:(0,a.jsx)(Q.Layers,{className:"h-4 w-4 text-purple-600 dark:text-purple-400"})}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Informasi Chapter"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,a.jsxs)("div",{className:"p-2 rounded bg-background",children:[(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Chapter"}),(0,a.jsx)("p",{className:"text-sm font-semibold",children:l.chapter})]}),l.chapter_name&&(0,a.jsxs)("div",{className:"p-2 rounded bg-background",children:[(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Nama Chapter"}),(0,a.jsx)("p",{className:"text-sm font-medium truncate",title:l.chapter_name,children:l.chapter_name})]})]}),(l.block||l.block_name)&&(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[l.block&&(0,a.jsxs)("div",{className:"p-2 rounded bg-background",children:[(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Block"}),(0,a.jsx)("p",{className:"text-sm font-semibold",children:l.block})]}),l.block_name&&(0,a.jsxs)("div",{className:"p-2 rounded bg-background",children:[(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Nama Block"}),(0,a.jsx)("p",{className:"text-sm font-medium truncate",title:l.block_name,children:l.block_name})]})]})]}),l.parent_code&&(0,a.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[(0,a.jsx)("div",{className:"p-2 rounded-lg bg-cyan-100 dark:bg-cyan-950",children:(0,a.jsx)(O,{className:"h-4 w-4 text-cyan-600 dark:text-cyan-400"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Parent Code"}),(0,a.jsx)("code",{className:"text-sm font-mono font-medium",children:l.parent_code})]})]}),l.dtd_code&&(0,a.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[(0,a.jsx)("div",{className:"p-2 rounded-lg bg-teal-100 dark:bg-teal-950",children:(0,a.jsx)(M.Hash,{className:"h-4 w-4 text-teal-600 dark:text-teal-400"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"DTD Code (SatuSehat)"}),(0,a.jsx)("code",{className:"text-sm font-mono font-medium",children:l.dtd_code})]})]}),l.notes&&(0,a.jsxs)("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-muted/50",children:[(0,a.jsx)("div",{className:"p-2 rounded-lg bg-gray-100 dark:bg-gray-950",children:(0,a.jsx)(K.FileText,{className:"h-4 w-4 text-gray-600 dark:text-gray-400"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Catatan"}),(0,a.jsx)("p",{className:"text-sm font-medium",children:l.notes})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[(0,a.jsx)("div",{className:"p-2 rounded-lg bg-emerald-100 dark:bg-emerald-950",children:(0,a.jsx)(c.ShieldCheck,{className:"h-4 w-4 text-emerald-600 dark:text-emerald-400"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Status BPJS"}),(0,a.jsx)("p",{className:"text-sm font-medium",children:l.is_bpjs_claimable?"Dapat diklaim BPJS":"Tidak dapat diklaim BPJS"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[(0,a.jsx)("div",{className:"p-2 rounded-lg bg-orange-100 dark:bg-orange-950",children:(0,a.jsx)(Z.Calendar,{className:"h-4 w-4 text-orange-600 dark:text-orange-400"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Dibuat Pada"}),(0,a.jsx)("p",{className:"text-sm font-medium",children:(0,ea.formatDate)(l.created_at)})]})]})]}),(0,a.jsx)(ee.Separator,{}),(0,a.jsxs)(t.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},className:"flex gap-2",children:[(0,a.jsxs)(j.Button,{variant:"outline",className:"flex-1",onClick:()=>{s(!1),i()},children:[(0,a.jsx)(f.Edit,{className:"mr-2 h-4 w-4"}),"Edit"]}),(0,a.jsxs)(j.Button,{variant:l.is_active?"destructive":"default",className:"flex-1",onClick:()=>{s(!1),r()},children:[(0,a.jsx)(v.Power,{className:"mr-2 h-4 w-4"}),l.is_active?"Nonaktifkan":"Aktifkan"]})]})]})]})}):null}var et=e.i(78894);function el({open:e,onOpenChange:l,icdCode:i,onConfirm:r}){let[d,c]=(0,s.useState)(!1);if(!i)return null;let o=async()=>{c(!0);try{await r(),l(!1)}catch(e){console.error("Error deleting ICD code:",e)}finally{c(!1)}};return(0,a.jsx)(J.Dialog,{open:e,onOpenChange:l,children:(0,a.jsxs)(J.DialogContent,{className:"sm:max-w-[400px]",children:[(0,a.jsxs)(J.DialogHeader,{children:[(0,a.jsxs)(J.DialogTitle,{className:"text-xl text-destructive flex items-center gap-2",children:[(0,a.jsx)(et.AlertTriangle,{className:"h-5 w-5"}),"Hapus Kode ICD"]}),(0,a.jsx)(J.DialogDescription,{children:"Tindakan ini tidak dapat dibatalkan. Data kode ICD akan dihapus secara permanen."})]}),(0,a.jsxs)(t.motion.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"py-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 p-4 rounded-xl bg-destructive/10 border border-destructive/20",children:[(0,a.jsx)("div",{className:`p-3 rounded-xl ${I.default.getTypeColorClass(i.type)}`,children:(0,a.jsx)(n,{className:"h-8 w-8"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("code",{className:"font-mono font-bold",children:i.code}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground truncate mt-1",children:i.name_id}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,a.jsx)(D.Badge,{variant:i.is_active?"success":"error",children:i.is_active?"Aktif":"Nonaktif"}),(0,a.jsx)(D.Badge,{variant:"secondary",className:I.default.getTypeColorClass(i.type),children:I.default.formatTypeLabel(i.type)})]})]})]}),(0,a.jsx)("p",{className:"mt-4 text-sm text-muted-foreground text-center",children:"Apakah Anda yakin ingin menghapus kode ICD ini?"})]}),(0,a.jsxs)(J.DialogFooter,{className:"gap-2 sm:gap-0",children:[(0,a.jsx)(j.Button,{type:"button",variant:"outline",onClick:()=>l(!1),disabled:d,children:"Batal"}),(0,a.jsx)(j.Button,{type:"button",variant:"destructive",onClick:o,disabled:d,className:"min-w-[100px]",children:d?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(A.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Menghapus..."]}):"Ya, Hapus"})]})]})})}let ei=(0,i.default)("FileUp",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]]),en=(0,i.default)("FileJson",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]]);var er=e.i(94918);function ed({open:e,onOpenChange:l,onSuccess:i}){let[n,r]=(0,s.useState)(!1),[d,c]=(0,s.useState)(null),[o,m]=(0,s.useState)(null),x=(0,s.useRef)(null),{control:h,handleSubmit:u,setValue:g,reset:N,formState:{errors:f}}=(0,P.useForm)({resolver:(0,F.zodResolver)(G),defaultValues:{type:"icd10"}}),y=async e=>{r(!0),c(null);try{let a=await I.default.importIcdCodes(e.file,e.type);c({success:!0,imported:a.data.imported,skipped:a.data.skipped,errors:a.data.errors}),a.data.imported>0&&i()}catch(e){console.error("Error importing ICD codes:",e),c({success:!1,imported:0,skipped:0,errors:["Terjadi kesalahan saat mengimpor data"]})}finally{r(!1)}},v=()=>{N(),m(null),c(null),l(!1)},k=I.default.getTypeOptions();return(0,a.jsx)(J.Dialog,{open:e,onOpenChange:v,children:(0,a.jsxs)(J.DialogContent,{className:"sm:max-w-[500px]",children:[(0,a.jsxs)(J.DialogHeader,{children:[(0,a.jsxs)(J.DialogTitle,{className:"text-xl flex items-center gap-2",children:[(0,a.jsx)(ei,{className:"h-5 w-5"}),"Import Kode ICD"]}),(0,a.jsx)(J.DialogDescription,{children:"Upload file CSV atau JSON untuk mengimpor data kode ICD secara massal."})]}),d?(0,a.jsxs)(t.motion.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"py-6",children:[(0,a.jsx)("div",{className:"flex flex-col items-center text-center",children:d.success&&d.imported>0?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"p-4 rounded-full bg-green-100 dark:bg-green-950 mb-4",children:(0,a.jsx)(X.CheckCircle,{className:"h-10 w-10 text-green-600 dark:text-green-400"})}),(0,a.jsx)("h3",{className:"font-semibold text-lg",children:"Import Berhasil"}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground mt-2",children:[d.imported," kode berhasil diimpor",d.skipped>0&&`, ${d.skipped} dilewati`]})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"p-4 rounded-full bg-red-100 dark:bg-red-950 mb-4",children:(0,a.jsx)(Y.XCircle,{className:"h-10 w-10 text-red-600 dark:text-red-400"})}),(0,a.jsx)("h3",{className:"font-semibold text-lg",children:"Import Gagal"}),d.errors.length>0&&(0,a.jsxs)("div",{className:"mt-4 text-left w-full max-h-40 overflow-y-auto",children:[(0,a.jsx)("p",{className:"text-sm font-medium mb-2",children:"Errors:"}),(0,a.jsxs)("ul",{className:"text-sm text-muted-foreground space-y-1",children:[d.errors.slice(0,10).map((e,s)=>(0,a.jsxs)("li",{className:"flex items-start gap-1",children:[(0,a.jsx)(H.AlertCircle,{className:"h-3 w-3 text-red-500 mt-0.5 shrink-0"}),(0,a.jsx)("span",{children:e})]},s)),d.errors.length>10&&(0,a.jsxs)("li",{className:"text-muted-foreground",children:["... dan ",d.errors.length-10," error lainnya"]})]})]})]})}),(0,a.jsx)("div",{className:"mt-6 flex justify-center",children:(0,a.jsx)(j.Button,{onClick:v,children:"Tutup"})})]}):(0,a.jsxs)("form",{onSubmit:u(y),className:"space-y-5 py-4",children:[(0,a.jsxs)(t.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-2",children:[(0,a.jsxs)(R.Label,{className:"text-sm font-medium",children:["Tipe ICD ",(0,a.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,a.jsx)(P.Controller,{name:"type",control:h,render:({field:e})=>(0,a.jsxs)(b.Select,{value:e.value,onValueChange:e.onChange,children:[(0,a.jsx)(b.SelectTrigger,{children:(0,a.jsx)(b.SelectValue,{placeholder:"Pilih tipe"})}),(0,a.jsx)(b.SelectContent,{children:k.map(e=>(0,a.jsx)(b.SelectItem,{value:e.value,children:e.label},e.value))})]})}),(0,a.jsx)(L.AnimatePresence,{children:f.type&&(0,a.jsxs)(t.motion.p,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"text-sm text-destructive flex items-center gap-1",children:[(0,a.jsx)(H.AlertCircle,{className:"h-3 w-3"}),f.type.message]})})]}),(0,a.jsxs)(t.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},className:"space-y-2",children:[(0,a.jsxs)(R.Label,{className:"text-sm font-medium",children:["File ",(0,a.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,a.jsxs)("div",{onClick:()=>x.current?.click(),onDrop:e=>{e.preventDefault();let a=e.dataTransfer.files?.[0];a&&(m(a),g("file",a))},onDragOver:e=>{e.preventDefault()},className:"flex flex-col items-center justify-center p-8 border-2 border-dashed rounded-lg cursor-pointer hover:border-primary hover:bg-muted/50 transition-colors",children:[o?o.name.endsWith(".json")?(0,a.jsx)(en,{className:"h-10 w-10 text-blue-500"}):(0,a.jsx)(er.FileSpreadsheet,{className:"h-10 w-10 text-green-500"}):(0,a.jsx)(p.Upload,{className:"h-10 w-10 text-muted-foreground"}),o?(0,a.jsxs)("div",{className:"mt-3 text-center",children:[(0,a.jsx)("p",{className:"font-medium",children:o.name}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:[(o.size/1024).toFixed(2)," KB"]})]}):(0,a.jsxs)("div",{className:"mt-3 text-center",children:[(0,a.jsx)("p",{className:"font-medium",children:"Klik atau drop file di sini"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Format: CSV atau JSON (maks 10MB)"})]}),(0,a.jsx)("input",{ref:x,type:"file",accept:".csv,.json",onChange:e=>{let a=e.target.files?.[0];a&&(m(a),g("file",a))},className:"hidden"})]}),(0,a.jsx)(L.AnimatePresence,{children:f.file&&(0,a.jsxs)(t.motion.p,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"text-sm text-destructive flex items-center gap-1",children:[(0,a.jsx)(H.AlertCircle,{className:"h-3 w-3"}),f.file.message]})})]}),(0,a.jsxs)(t.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},className:"p-4 rounded-lg bg-muted/50 text-sm",children:[(0,a.jsx)("p",{className:"font-medium mb-2",children:"Format file yang didukung:"}),(0,a.jsxs)("ul",{className:"text-muted-foreground space-y-1",children:[(0,a.jsxs)("li",{children:[(0,a.jsx)("strong",{children:"CSV:"})," code, name_id, name_en, chapter, block (header required)"]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("strong",{children:"JSON:"})," Array of objects dengan field yang sama"]})]})]}),(0,a.jsxs)(J.DialogFooter,{className:"gap-2 sm:gap-0 pt-4",children:[(0,a.jsx)(j.Button,{type:"button",variant:"outline",onClick:v,disabled:n,children:"Batal"}),(0,a.jsx)(j.Button,{type:"submit",disabled:n||!o,className:"min-w-[100px]",children:n?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(A.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Mengimpor..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(p.Upload,{className:"mr-2 h-4 w-4"}),"Import"]})})]})]})]})})}let ec=[{key:"total",title:"Total Kode ICD",icon:n,gradient:"from-blue-500 to-blue-600",bgLight:"bg-blue-50 dark:bg-blue-950/50",iconColor:"text-blue-600 dark:text-blue-400"},{key:"icd10_count",title:"ICD-10 (Diagnosis)",icon:r.Stethoscope,gradient:"from-purple-500 to-purple-600",bgLight:"bg-purple-50 dark:bg-purple-950/50",iconColor:"text-purple-600 dark:text-purple-400"},{key:"icd9cm_count",title:"ICD-9-CM (Prosedur)",icon:d.Scissors,gradient:"from-cyan-500 to-cyan-600",bgLight:"bg-cyan-50 dark:bg-cyan-950/50",iconColor:"text-cyan-600 dark:text-cyan-400"},{key:"bpjs_claimable",title:"Claimable BPJS",icon:c.ShieldCheck,gradient:"from-emerald-500 to-emerald-600",bgLight:"bg-emerald-50 dark:bg-emerald-950/50",iconColor:"text-emerald-600 dark:text-emerald-400"}];function eo(){let[e,i]=(0,s.useState)([]),[n,r]=(0,s.useState)(null),[d,c]=(0,s.useState)(!0),[N,f]=(0,s.useState)(!1),[y,v]=(0,s.useState)(1),[k,C]=(0,s.useState)(1),[w,_]=(0,s.useState)({search:"",type:"all",status:"all",bpjs:"all",page:1,per_page:10}),[S,D]=(0,s.useState)(!1),[T,B]=(0,s.useState)(!1),[P,F]=(0,s.useState)(!1),[L,M]=(0,s.useState)(!1),[K,A]=(0,s.useState)(null),H=(0,s.useCallback)(async()=>{try{let e=await I.default.getIcdCodes(w);i(e.data),v(e.meta.current_page),C(e.meta.last_page)}catch(e){console.error("Error fetching ICD codes:",e),l.toast.error("Gagal memuat data kode ICD")}},[w]),V=(0,s.useCallback)(async()=>{try{let e=await I.default.getIcdCodeStats();r(e.data)}catch(e){console.error("Error fetching stats:",e)}},[]);(0,s.useEffect)(()=>{(async()=>{c(!0),await Promise.all([H(),V()]),c(!1)})()},[H,V]);let E=async()=>{f(!0),await Promise.all([H(),V()]),f(!1),l.toast.success("Data berhasil diperbarui")};(0,s.useEffect)(()=>{let e=setTimeout(()=>{_(e=>({...e,page:1}))},300);return()=>clearTimeout(e)},[w.search]);let O=(e,a)=>{_(s=>({...s,[e]:a,page:1}))},J=async e=>{try{await I.default.toggleIcdCodeStatus(e.id),l.toast.success(e.is_active?"Kode ICD berhasil dinonaktifkan":"Kode ICD berhasil diaktifkan"),await Promise.all([H(),V()])}catch(e){console.error("Error toggling status:",e),l.toast.error("Gagal mengubah status kode ICD")}},R=async()=>{l.toast.success(K?"Kode ICD berhasil diperbarui":"Kode ICD berhasil dibuat"),await Promise.all([H(),V()])},U=async()=>{if(K)try{await I.default.deleteIcdCode(K.id),l.toast.success("Kode ICD berhasil dihapus"),await Promise.all([H(),V()])}catch(e){throw console.error("Error deleting ICD code:",e),l.toast.error("Gagal menghapus kode ICD"),e}},$=async()=>{await Promise.all([H(),V()])},q={hidden:{opacity:0,y:20},show:{opacity:1,y:0}},G=I.default.getTypeOptions();return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)(t.motion.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl md:text-3xl font-bold",children:"Master Kode ICD"}),(0,a.jsx)("p",{className:"text-muted-foreground mt-1",children:"Kelola data kode ICD-10 dan ICD-9-CM untuk diagnosis dan prosedur"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(j.Button,{variant:"outline",size:"sm",onClick:E,disabled:N,children:[(0,a.jsx)(x.RefreshCw,{className:`h-4 w-4 mr-2 ${N?"animate-spin":""}`}),"Refresh"]}),(0,a.jsxs)(j.Button,{variant:"outline",size:"sm",onClick:()=>M(!0),children:[(0,a.jsx)(p.Upload,{className:"h-4 w-4 mr-2"}),"Import"]}),(0,a.jsxs)(j.Button,{size:"sm",onClick:()=>{A(null),D(!0)},children:[(0,a.jsx)(m.Plus,{className:"h-4 w-4 mr-2"}),"Tambah Kode ICD"]})]})]}),(0,a.jsx)(t.motion.div,{variants:{hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1}}},initial:"hidden",animate:"show",className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:ec.map(e=>{var s;return(0,a.jsx)(t.motion.div,{variants:q,children:(0,a.jsxs)(u.Card,{className:"relative overflow-hidden hover:shadow-lg transition-shadow",children:[(0,a.jsxs)(u.CardHeader,{className:"flex flex-row items-center justify-between pb-2",children:[(0,a.jsx)(u.CardTitle,{className:"text-sm font-medium text-muted-foreground",children:e.title}),(0,a.jsx)("div",{className:`p-2.5 rounded-xl ${e.bgLight}`,children:(0,a.jsx)(e.icon,{className:`h-5 w-5 ${e.iconColor}`})})]}),(0,a.jsx)(u.CardContent,{children:(0,a.jsx)("div",{className:"text-2xl md:text-3xl font-bold",children:d?(0,a.jsx)("div",{className:"h-8 w-16 bg-muted animate-pulse rounded"}):(s=e.key,!n?0:n[s]||0).toLocaleString("id-ID")})}),(0,a.jsx)("div",{className:`absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r ${e.gradient}`})]})},e.key)})}),(0,a.jsx)(t.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},children:(0,a.jsx)(u.Card,{children:(0,a.jsx)(u.CardContent,{className:"pt-6",children:(0,a.jsxs)("div",{className:"flex flex-col gap-4 md:flex-row md:items-center",children:[(0,a.jsxs)("div",{className:"relative flex-1",children:[(0,a.jsx)(o.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,a.jsx)(g.Input,{placeholder:"Cari kode atau nama ICD...",className:"pl-10",value:w.search,onChange:e=>O("search",e.target.value)})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(h.Filter,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsxs)(b.Select,{value:w.type,onValueChange:e=>O("type",e),children:[(0,a.jsx)(b.SelectTrigger,{className:"w-[180px]",children:(0,a.jsx)(b.SelectValue,{placeholder:"Tipe ICD"})}),(0,a.jsxs)(b.SelectContent,{children:[(0,a.jsx)(b.SelectItem,{value:"all",children:"Semua Tipe"}),G.map(e=>(0,a.jsx)(b.SelectItem,{value:e.value,children:e.label},e.value))]})]})]}),(0,a.jsxs)(b.Select,{value:w.bpjs,onValueChange:e=>O("bpjs",e),children:[(0,a.jsx)(b.SelectTrigger,{className:"w-[160px]",children:(0,a.jsx)(b.SelectValue,{placeholder:"Status BPJS"})}),(0,a.jsxs)(b.SelectContent,{children:[(0,a.jsx)(b.SelectItem,{value:"all",children:"Semua BPJS"}),(0,a.jsx)(b.SelectItem,{value:"claimable",children:"Claimable"}),(0,a.jsx)(b.SelectItem,{value:"non-claimable",children:"Non-Claimable"})]})]}),(0,a.jsxs)(b.Select,{value:w.status,onValueChange:e=>O("status",e),children:[(0,a.jsx)(b.SelectTrigger,{className:"w-[140px]",children:(0,a.jsx)(b.SelectValue,{placeholder:"Status"})}),(0,a.jsxs)(b.SelectContent,{children:[(0,a.jsx)(b.SelectItem,{value:"all",children:"Semua Status"}),(0,a.jsx)(b.SelectItem,{value:"active",children:"Aktif"}),(0,a.jsx)(b.SelectItem,{value:"inactive",children:"Nonaktif"})]})]})]})})})}),(0,a.jsx)(t.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},children:(0,a.jsx)(z,{icdCodes:e,isLoading:d,currentPage:y,totalPages:k,onPageChange:e=>{_(a=>({...a,page:e}))},onView:e=>{A(e),B(!0)},onEdit:e=>{A(e),D(!0)},onDelete:e=>{A(e),F(!0)},onToggleStatus:J})}),(0,a.jsx)(W,{open:S,onOpenChange:D,icdCode:K,onSuccess:R}),(0,a.jsx)(es,{open:T,onOpenChange:B,icdCode:K,onEdit:()=>{B(!1),D(!0)},onToggleStatus:()=>{K&&J(K)}}),(0,a.jsx)(el,{open:P,onOpenChange:F,icdCode:K,onConfirm:U}),(0,a.jsx)(ed,{open:L,onOpenChange:M,onSuccess:$})]})}e.s(["default",()=>eo],40296)}]);
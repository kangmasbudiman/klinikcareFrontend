{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/development/ZEDDev/Project%20AI/Klinik%20Apps%20NexJS/src/components/ui/slider.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as SliderPrimitive from \"@radix-ui/react-slider\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Slider = React.forwardRef<\n  React.ElementRef<typeof SliderPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SliderPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <SliderPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative flex w-full touch-none select-none items-center\",\n      className\n    )}\n    {...props}\n  >\n    <SliderPrimitive.Track className=\"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary\">\n      <SliderPrimitive.Range className=\"absolute h-full bg-primary\" />\n    </SliderPrimitive.Track>\n    <SliderPrimitive.Thumb className=\"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\" />\n  </SliderPrimitive.Root>\n))\nSlider.displayName = SliderPrimitive.Root.displayName\n\nexport { Slider }\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,uBAAS,2KAAgB,MAG7B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,6KAAoB;QACnB,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,4DACA;QAED,GAAG,KAAK;;0BAET,6LAAC,8KAAqB;gBAAC,WAAU;0BAC/B,cAAA,6LAAC,8KAAqB;oBAAC,WAAU;;;;;;;;;;;0BAEnC,6LAAC,8KAAqB;gBAAC,WAAU;;;;;;;;;;;;;AAGrC,OAAO,WAAW,GAAG,6KAAoB,CAAC,WAAW"}},
    {"offset": {"line": 62, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/development/ZEDDev/Project%20AI/Klinik%20Apps%20NexJS/src/components/ui/popover.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as PopoverPrimitive from \"@radix-ui/react-popover\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Popover = PopoverPrimitive.Root\n\nconst PopoverTrigger = PopoverPrimitive.Trigger\n\nconst PopoverContent = React.forwardRef<\n  React.ElementRef<typeof PopoverPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof PopoverPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <PopoverPrimitive.Portal>\n    <PopoverPrimitive.Content\n      ref={ref}\n      align={align}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        className\n      )}\n      {...props}\n    />\n  </PopoverPrimitive.Portal>\n))\nPopoverContent.displayName = PopoverPrimitive.Content.displayName\n\nexport { Popover, PopoverTrigger, PopoverContent }\n"],"names":[],"mappings":";;;;;;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,UAAU,8KAAqB;AAErC,MAAM,iBAAiB,iLAAwB;AAE/C,MAAM,+BAAiB,2KAAgB,MAGrC,CAAC,EAAE,SAAS,EAAE,QAAQ,QAAQ,EAAE,aAAa,CAAC,EAAE,GAAG,OAAO,EAAE,oBAC5D,6LAAC,gLAAuB;kBACtB,cAAA,6LAAC,iLAAwB;YACvB,KAAK;YACL,OAAO;YACP,YAAY;YACZ,WAAW,IAAA,4HAAE,EACX,8aACA;YAED,GAAG,KAAK;;;;;;;;;;;;AAIf,eAAe,WAAW,GAAG,iLAAwB,CAAC,WAAW"}},
    {"offset": {"line": 111, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/development/ZEDDev/Project%20AI/Klinik%20Apps%20NexJS/src/components/ui/label.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport * as LabelPrimitive from \"@radix-ui/react-label\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\nimport { cn } from \"@/lib/utils\";\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n);\n\nconst Label = React.forwardRef<\n  React.ComponentRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(labelVariants(), className)}\n    {...props}\n  />\n));\nLabel.displayName = LabelPrimitive.Root.displayName;\n\nexport { Label };\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAOA,MAAM,gBAAgB,IAAA,0KAAG,EACvB;AAGF,MAAM,sBAAQ,2KAAgB,MAI5B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,4KAAmB;QAClB,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,iBAAiB;QAC9B,GAAG,KAAK;;;;;;;AAGb,MAAM,WAAW,GAAG,4KAAmB,CAAC,WAAW"}},
    {"offset": {"line": 149, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/development/ZEDDev/Project%20AI/Klinik%20Apps%20NexJS/src/services/queue.service.ts"],"sourcesContent":["import axios from \"@/lib/axios\";\nimport type {\n  Queue,\n  QueueFilters,\n  QueueListResponse,\n  QueueResponse,\n  QueueTodayResponse,\n  QueueStatsResponse,\n  QueueDisplayResponse,\n  QueueCurrentResponse,\n  QueueSetting,\n  QueueSettingListResponse,\n  QueueSettingResponse,\n  TakeQueuePayload,\n  CallQueuePayload,\n  UpdateQueueSettingPayload,\n  QueueStatus,\n} from \"@/types/queue\";\n\nconst queueService = {\n  // Get list of queues with filters\n  async getQueues(filters: QueueFilters = {}): Promise<QueueListResponse> {\n    const params = new URLSearchParams();\n\n    if (filters.date) params.append(\"date\", filters.date);\n    if (filters.department_id)\n      params.append(\"department_id\", filters.department_id.toString());\n    if (filters.status) params.append(\"status\", filters.status);\n    if (filters.page) params.append(\"page\", filters.page.toString());\n    if (filters.per_page)\n      params.append(\"per_page\", filters.per_page.toString());\n\n    const response = await axios.get(`/api/queues?${params.toString()}`);\n    return response.data;\n  },\n\n  // Get today's queues grouped by status\n  async getTodayQueues(departmentId?: number): Promise<QueueTodayResponse> {\n    const params = departmentId ? `?department_id=${departmentId}` : \"\";\n    const response = await axios.get(`/api/queues/today${params}`);\n    return response.data;\n  },\n\n  // Get queue statistics\n  async getQueueStats(\n    date?: string,\n    departmentId?: number,\n  ): Promise<QueueStatsResponse> {\n    const params = new URLSearchParams();\n    if (date) params.append(\"date\", date);\n    if (departmentId) params.append(\"department_id\", departmentId.toString());\n\n    const response = await axios.get(`/api/queues/stats?${params.toString()}`);\n    return response.data;\n  },\n\n  // Get queue display data (for TV/Monitor)\n  async getQueueDisplay(departmentId?: number): Promise<QueueDisplayResponse> {\n    const params = departmentId ? `?department_id=${departmentId}` : \"\";\n    const response = await axios.get(`/api/queues/display${params}`);\n    return response.data;\n  },\n\n  // Get current queue for department\n  async getCurrentQueue(departmentId: number): Promise<QueueCurrentResponse> {\n    const response = await axios.get(`/api/queues/current/${departmentId}`);\n    return response.data;\n  },\n\n  // Get queue by ID\n  async getQueueById(id: number): Promise<QueueResponse> {\n    const response = await axios.get(`/api/queues/${id}`);\n    return response.data;\n  },\n\n  // Take new queue number\n  async takeQueue(payload: TakeQueuePayload): Promise<QueueResponse> {\n    const response = await axios.post(\"/api/queues/take\", payload);\n    return response.data;\n  },\n\n  // Call queue\n  async callQueue(\n    id: number,\n    payload?: CallQueuePayload,\n  ): Promise<QueueResponse> {\n    const response = await axios.patch(`/api/queues/${id}/call`, payload || {});\n    return response.data;\n  },\n\n  // Start serving queue\n  async startQueue(id: number): Promise<QueueResponse> {\n    const response = await axios.patch(`/api/queues/${id}/start`);\n    return response.data;\n  },\n\n  // Complete queue\n  async completeQueue(id: number, notes?: string): Promise<QueueResponse> {\n    const response = await axios.patch(`/api/queues/${id}/complete`, { notes });\n    return response.data;\n  },\n\n  // Skip queue\n  async skipQueue(id: number, notes?: string): Promise<QueueResponse> {\n    const response = await axios.patch(`/api/queues/${id}/skip`, { notes });\n    return response.data;\n  },\n\n  // Cancel queue\n  async cancelQueue(id: number, notes?: string): Promise<QueueResponse> {\n    const response = await axios.patch(`/api/queues/${id}/cancel`, { notes });\n    return response.data;\n  },\n\n  // Assign patient to queue\n  async assignPatient(\n    queueId: number,\n    patientId: number,\n  ): Promise<QueueResponse> {\n    const response = await axios.patch(\n      `/api/queues/${queueId}/assign-patient`,\n      { patient_id: patientId },\n    );\n    return response.data;\n  },\n\n  // Reset queue\n  async resetQueue(\n    date: string,\n    departmentId?: number,\n  ): Promise<{ success: boolean; message: string }> {\n    const response = await axios.post(\"/api/queues/reset\", {\n      date,\n      department_id: departmentId,\n    });\n    return response.data;\n  },\n\n  // Queue Settings\n  async getQueueSettings(): Promise<QueueSettingListResponse> {\n    const response = await axios.get(\"/api/queue-settings\");\n    return response.data;\n  },\n\n  async updateQueueSetting(\n    departmentId: number,\n    payload: UpdateQueueSettingPayload,\n  ): Promise<QueueSettingResponse> {\n    const response = await axios.put(\n      `/api/queue-settings/${departmentId}`,\n      payload,\n    );\n    return response.data;\n  },\n\n  // Helper: Get status color class\n  getStatusColorClass(status: QueueStatus): string {\n    const colors: Record<QueueStatus, string> = {\n      waiting:\n        \"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300\",\n      called: \"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300\",\n      in_service:\n        \"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-300\",\n      completed:\n        \"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300\",\n      skipped:\n        \"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-300\",\n      cancelled: \"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300\",\n    };\n    return (\n      colors[status] ||\n      \"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300\"\n    );\n  },\n\n  // Helper: Get status solid color class (for backgrounds)\n  getStatusSolidColorClass(status: QueueStatus): string {\n    const colors: Record<QueueStatus, string> = {\n      waiting: \"bg-yellow-500\",\n      called: \"bg-blue-500\",\n      in_service: \"bg-purple-500\",\n      completed: \"bg-green-500\",\n      skipped: \"bg-orange-500\",\n      cancelled: \"bg-red-500\",\n    };\n    return colors[status] || \"bg-gray-500\";\n  },\n\n  // Helper: Get status options\n  getStatusOptions(): { value: QueueStatus; label: string }[] {\n    return [\n      { value: \"waiting\", label: \"Menunggu\" },\n      { value: \"called\", label: \"Dipanggil\" },\n      { value: \"in_service\", label: \"Dilayani\" },\n      { value: \"completed\", label: \"Selesai\" },\n      { value: \"skipped\", label: \"Dilewati\" },\n      { value: \"cancelled\", label: \"Dibatalkan\" },\n    ];\n  },\n\n  // Helper: Format wait time\n  formatWaitTime(minutes: number | null): string {\n    if (minutes === null || minutes === undefined) return \"-\";\n    if (minutes < 60) return `${minutes} menit`;\n    const hours = Math.floor(minutes / 60);\n    const mins = minutes % 60;\n    return mins > 0 ? `${hours} jam ${mins} menit` : `${hours} jam`;\n  },\n\n  // Helper: Format queue code for display\n  formatQueueCode(code: string): string {\n    // Already formatted as A-001, just return\n    return code;\n  },\n\n  // Helper: Get today's date string\n  getTodayDateString(): string {\n    return new Date().toISOString().split(\"T\")[0];\n  },\n};\n\nexport default queueService;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 336, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/development/ZEDDev/Project%20AI/Klinik%20Apps%20NexJS/src/lib/queue-audio.ts"],"sourcesContent":["/**\n * Queue Audio Service\n * Handles text-to-speech announcements for queue calls\n */\n\nexport interface QueueAnnouncement {\n  queueCode: string;\n  counterNumber?: number | null;\n  departmentName?: string;\n}\n\nclass QueueAudioService {\n  private synth: SpeechSynthesis | null = null;\n  private voice: SpeechSynthesisVoice | null = null;\n  private isInitialized = false;\n  private volume = 1;\n  private rate = 0.9; // Slightly slower for clarity\n  private pitch = 1;\n\n  constructor() {\n    if (typeof window !== \"undefined\") {\n      this.synth = window.speechSynthesis;\n      this.initVoice();\n    }\n  }\n\n  /**\n   * Initialize and find Indonesian voice\n   */\n  private initVoice(): void {\n    if (!this.synth) return;\n\n    const loadVoices = () => {\n      const voices = this.synth!.getVoices();\n\n      // Try to find Indonesian voice first\n      this.voice = voices.find(\n        (v) => v.lang.startsWith(\"id\") || v.lang.includes(\"ID\")\n      ) || null;\n\n      // Fallback to any available voice\n      if (!this.voice && voices.length > 0) {\n        // Prefer female voice for announcements\n        this.voice = voices.find((v) => v.name.toLowerCase().includes(\"female\"))\n          || voices.find((v) => v.name.toLowerCase().includes(\"google\"))\n          || voices[0];\n      }\n\n      this.isInitialized = true;\n    };\n\n    // Voices may load asynchronously\n    if (this.synth.getVoices().length > 0) {\n      loadVoices();\n    } else {\n      this.synth.onvoiceschanged = loadVoices;\n    }\n  }\n\n  /**\n   * Parse queue code to readable format\n   * e.g., \"A-001\" -> \"A nol nol satu\"\n   */\n  private parseQueueCode(code: string): string {\n    const numberWords: Record<string, string> = {\n      \"0\": \"nol\",\n      \"1\": \"satu\",\n      \"2\": \"dua\",\n      \"3\": \"tiga\",\n      \"4\": \"empat\",\n      \"5\": \"lima\",\n      \"6\": \"enam\",\n      \"7\": \"tujuh\",\n      \"8\": \"delapan\",\n      \"9\": \"sembilan\",\n    };\n\n    // Split by dash or any non-alphanumeric\n    const parts = code.split(/[-\\s]/);\n    const result: string[] = [];\n\n    for (const part of parts) {\n      if (/^[A-Za-z]+$/.test(part)) {\n        // Letter part - spell it out\n        result.push(part.toUpperCase());\n      } else if (/^\\d+$/.test(part)) {\n        // Number part - convert to words\n        const digits = part.split(\"\").map((d) => numberWords[d] || d);\n        result.push(digits.join(\" \"));\n      } else {\n        result.push(part);\n      }\n    }\n\n    return result.join(\" \");\n  }\n\n  /**\n   * Parse counter number to readable format\n   */\n  private parseCounterNumber(counter: number): string {\n    const numberWords: Record<number, string> = {\n      1: \"satu\",\n      2: \"dua\",\n      3: \"tiga\",\n      4: \"empat\",\n      5: \"lima\",\n      6: \"enam\",\n      7: \"tujuh\",\n      8: \"delapan\",\n      9: \"sembilan\",\n      10: \"sepuluh\",\n      11: \"sebelas\",\n      12: \"dua belas\",\n      13: \"tiga belas\",\n      14: \"empat belas\",\n      15: \"lima belas\",\n    };\n\n    return numberWords[counter] || counter.toString();\n  }\n\n  /**\n   * Build announcement text\n   */\n  private buildAnnouncementText(announcement: QueueAnnouncement): string {\n    const queueText = this.parseQueueCode(announcement.queueCode);\n\n    let text = `Nomor antrian ${queueText}`;\n\n    if (announcement.counterNumber) {\n      const counterText = this.parseCounterNumber(announcement.counterNumber);\n      text += `, silakan menuju loket ${counterText}`;\n    }\n\n    if (announcement.departmentName) {\n      text += `, ${announcement.departmentName}`;\n    }\n\n    return text;\n  }\n\n  /**\n   * Speak the announcement\n   */\n  speak(announcement: QueueAnnouncement): Promise<void> {\n    return new Promise((resolve, reject) => {\n      if (!this.synth) {\n        reject(new Error(\"Speech synthesis not supported\"));\n        return;\n      }\n\n      // Cancel any ongoing speech\n      this.synth.cancel();\n\n      const text = this.buildAnnouncementText(announcement);\n      const utterance = new SpeechSynthesisUtterance(text);\n\n      if (this.voice) {\n        utterance.voice = this.voice;\n      }\n\n      utterance.volume = this.volume;\n      utterance.rate = this.rate;\n      utterance.pitch = this.pitch;\n      utterance.lang = \"id-ID\";\n\n      utterance.onend = () => resolve();\n      utterance.onerror = (event) => reject(event.error);\n\n      // Play a chime sound before announcement\n      this.playChime().then(() => {\n        // Small delay after chime\n        setTimeout(() => {\n          this.synth!.speak(utterance);\n        }, 300);\n      }).catch(() => {\n        // If chime fails, just speak\n        this.synth!.speak(utterance);\n      });\n    });\n  }\n\n  /**\n   * Play a notification chime before announcement\n   */\n  private playChime(): Promise<void> {\n    return new Promise((resolve) => {\n      if (typeof window === \"undefined\" || !window.AudioContext) {\n        resolve();\n        return;\n      }\n\n      try {\n        const audioContext = new (window.AudioContext || (window as any).webkitAudioContext)();\n\n        // Create a pleasant two-tone chime\n        const playTone = (frequency: number, startTime: number, duration: number) => {\n          const oscillator = audioContext.createOscillator();\n          const gainNode = audioContext.createGain();\n\n          oscillator.connect(gainNode);\n          gainNode.connect(audioContext.destination);\n\n          oscillator.frequency.value = frequency;\n          oscillator.type = \"sine\";\n\n          // Envelope for smooth sound\n          gainNode.gain.setValueAtTime(0, startTime);\n          gainNode.gain.linearRampToValueAtTime(0.3, startTime + 0.05);\n          gainNode.gain.linearRampToValueAtTime(0, startTime + duration);\n\n          oscillator.start(startTime);\n          oscillator.stop(startTime + duration);\n        };\n\n        const now = audioContext.currentTime;\n\n        // Two-tone chime (like hospital/airport announcements)\n        playTone(523.25, now, 0.2);        // C5\n        playTone(659.25, now + 0.15, 0.3); // E5\n\n        // Resolve after chime completes\n        setTimeout(resolve, 500);\n      } catch {\n        resolve();\n      }\n    });\n  }\n\n  /**\n   * Announce queue call with repeat option\n   */\n  async announce(announcement: QueueAnnouncement, repeat: number = 2): Promise<void> {\n    for (let i = 0; i < repeat; i++) {\n      await this.speak(announcement);\n      if (i < repeat - 1) {\n        // Pause between repeats\n        await new Promise((resolve) => setTimeout(resolve, 1000));\n      }\n    }\n  }\n\n  /**\n   * Set volume (0-1)\n   */\n  setVolume(volume: number): void {\n    this.volume = Math.max(0, Math.min(1, volume));\n  }\n\n  /**\n   * Set speech rate (0.1-2)\n   */\n  setRate(rate: number): void {\n    this.rate = Math.max(0.1, Math.min(2, rate));\n  }\n\n  /**\n   * Check if speech synthesis is supported\n   */\n  isSupported(): boolean {\n    return typeof window !== \"undefined\" && \"speechSynthesis\" in window;\n  }\n\n  /**\n   * Stop any ongoing speech\n   */\n  stop(): void {\n    if (this.synth) {\n      this.synth.cancel();\n    }\n  }\n\n  /**\n   * Get available voices\n   */\n  getVoices(): SpeechSynthesisVoice[] {\n    if (!this.synth) return [];\n    return this.synth.getVoices();\n  }\n\n  /**\n   * Set specific voice\n   */\n  setVoice(voice: SpeechSynthesisVoice): void {\n    this.voice = voice;\n  }\n}\n\n// Singleton instance\nconst queueAudio = new QueueAudioService();\n\nexport default queueAudio;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 571, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/development/ZEDDev/Project%20AI/Klinik%20Apps%20NexJS/src/app/%28dashboard%29/queue/display/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useCallback, useEffect, useState, useRef } from \"react\";\nimport { motion, AnimatePresence } from \"framer-motion\";\nimport { Volume2, VolumeX, Maximize, Clock, Settings } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Slider } from \"@/components/ui/slider\";\nimport {\n  Popover,\n  PopoverContent,\n  PopoverTrigger,\n} from \"@/components/ui/popover\";\nimport { Label } from \"@/components/ui/label\";\nimport type { QueueDisplayData } from \"@/types/queue\";\nimport queueService from \"@/services/queue.service\";\nimport queueAudio from \"@/lib/queue-audio\";\n\nexport default function QueueDisplayPage() {\n  const [displayData, setDisplayData] = useState<QueueDisplayData | null>(null);\n  const [currentTime, setCurrentTime] = useState(new Date());\n  const [isMuted, setIsMuted] = useState(false);\n  const [volume, setVolume] = useState(100);\n  const [lastCalledCode, setLastCalledCode] = useState<string | null>(null);\n  const [isAnnouncing, setIsAnnouncing] = useState(false);\n  const announcementQueueRef = useRef<\n    Array<{\n      queueCode: string;\n      counterNumber?: number | null;\n      departmentName?: string;\n    }>\n  >([]);\n  const isProcessingRef = useRef(false);\n\n  // Process announcement queue\n  const processAnnouncementQueue = useCallback(async () => {\n    if (\n      isProcessingRef.current ||\n      announcementQueueRef.current.length === 0 ||\n      isMuted\n    ) {\n      return;\n    }\n\n    isProcessingRef.current = true;\n    setIsAnnouncing(true);\n\n    while (announcementQueueRef.current.length > 0) {\n      const announcement = announcementQueueRef.current.shift();\n      if (announcement) {\n        try {\n          await queueAudio.announce(announcement, 2); // Repeat 2 times\n        } catch (error) {\n          console.error(\"Error announcing:\", error);\n        }\n        // Small pause between different announcements\n        await new Promise((resolve) => setTimeout(resolve, 500));\n      }\n    }\n\n    isProcessingRef.current = false;\n    setIsAnnouncing(false);\n  }, [isMuted]);\n\n  // Fetch display data\n  const fetchDisplayData = useCallback(async () => {\n    try {\n      const response = await queueService.getQueueDisplay();\n      const newData = response.data;\n\n      // Check if there's a new call\n      if (newData.current.length > 0) {\n        const latestCall = newData.current[0];\n        if (\n          latestCall.queue_code !== lastCalledCode &&\n          latestCall.status === \"called\"\n        ) {\n          setLastCalledCode(latestCall.queue_code);\n\n          // Add to announcement queue\n          if (!isMuted) {\n            announcementQueueRef.current.push({\n              queueCode: latestCall.queue_code,\n              counterNumber: latestCall.counter,\n              departmentName: latestCall.department,\n            });\n            processAnnouncementQueue();\n          }\n        }\n      }\n\n      setDisplayData(newData);\n    } catch (error) {\n      console.error(\"Error fetching display data:\", error);\n    }\n  }, [lastCalledCode, isMuted, processAnnouncementQueue]);\n\n  // Initial load and refresh\n  useEffect(() => {\n    fetchDisplayData();\n\n    // Refresh every 3 seconds\n    const interval = setInterval(fetchDisplayData, 3000);\n    return () => clearInterval(interval);\n  }, [fetchDisplayData]);\n\n  // Update time every second\n  useEffect(() => {\n    const timer = setInterval(() => {\n      setCurrentTime(new Date());\n    }, 1000);\n    return () => clearInterval(timer);\n  }, []);\n\n  // Update volume when changed\n  useEffect(() => {\n    queueAudio.setVolume(volume / 100);\n  }, [volume]);\n\n  // Stop audio when muted\n  useEffect(() => {\n    if (isMuted) {\n      queueAudio.stop();\n      announcementQueueRef.current = [];\n    }\n  }, [isMuted]);\n\n  // Toggle fullscreen\n  const toggleFullscreen = () => {\n    if (!document.fullscreenElement) {\n      document.documentElement.requestFullscreen();\n    } else {\n      document.exitFullscreen();\n    }\n  };\n\n  // Test announcement\n  const testAnnouncement = () => {\n    if (!isMuted) {\n      queueAudio.announce(\n        {\n          queueCode: \"A-001\",\n          counterNumber: 1,\n          departmentName: \"Poli Umum\",\n        },\n        1,\n      );\n    }\n  };\n\n  // Format time\n  const formatTime = (date: Date) => {\n    return date.toLocaleTimeString(\"id-ID\", {\n      hour: \"2-digit\",\n      minute: \"2-digit\",\n      second: \"2-digit\",\n    });\n  };\n\n  // Format date\n  const formatDate = (date: Date) => {\n    return date.toLocaleDateString(\"id-ID\", {\n      weekday: \"long\",\n      day: \"numeric\",\n      month: \"long\",\n      year: \"numeric\",\n    });\n  };\n\n  // Get color class based on department color\n  const getColorClass = (color: string) => {\n    const colors: Record<string, string> = {\n      blue: \"from-blue-500 to-blue-600\",\n      green: \"from-green-500 to-green-600\",\n      red: \"from-red-500 to-red-600\",\n      yellow: \"from-yellow-500 to-yellow-600\",\n      purple: \"from-purple-500 to-purple-600\",\n      pink: \"from-pink-500 to-pink-600\",\n      indigo: \"from-indigo-500 to-indigo-600\",\n      cyan: \"from-cyan-500 to-cyan-600\",\n      orange: \"from-orange-500 to-orange-600\",\n      teal: \"from-teal-500 to-teal-600\",\n    };\n    return colors[color] || \"from-gray-500 to-gray-600\";\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-slate-900 to-slate-800 text-white p-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between mb-8\">\n        <div>\n          <h1 className=\"text-3xl font-bold\">Antrian Pasien</h1>\n          <p className=\"text-slate-400\">{formatDate(currentTime)}</p>\n        </div>\n        <div className=\"flex items-center gap-4\">\n          {/* Announcing indicator */}\n          {isAnnouncing && (\n            <motion.div\n              initial={{ opacity: 0, scale: 0.8 }}\n              animate={{ opacity: 1, scale: 1 }}\n              className=\"flex items-center gap-2 px-3 py-1 rounded-full bg-green-500/20 text-green-400\"\n            >\n              <motion.div\n                animate={{ scale: [1, 1.2, 1] }}\n                transition={{ repeat: Infinity, duration: 1 }}\n                className=\"w-2 h-2 rounded-full bg-green-400\"\n              />\n              <span className=\"text-sm\">Memanggil...</span>\n            </motion.div>\n          )}\n\n          <div className=\"flex items-center gap-2 text-2xl font-mono\">\n            <Clock className=\"h-6 w-6 text-slate-400\" />\n            {formatTime(currentTime)}\n          </div>\n\n          {/* Audio Settings */}\n          <Popover>\n            <PopoverTrigger asChild>\n              <Button\n                variant=\"ghost\"\n                size=\"icon\"\n                className=\"text-white hover:bg-white/10\"\n              >\n                <Settings className=\"h-5 w-5\" />\n              </Button>\n            </PopoverTrigger>\n            <PopoverContent className=\"w-72\" align=\"end\">\n              <div className=\"space-y-4\">\n                <h4 className=\"font-medium\">Pengaturan Audio</h4>\n\n                <div className=\"space-y-2\">\n                  <div className=\"flex items-center justify-between\">\n                    <Label>Volume</Label>\n                    <span className=\"text-sm text-muted-foreground\">\n                      {volume}%\n                    </span>\n                  </div>\n                  <Slider\n                    value={[volume]}\n                    onValueChange={(values) => setVolume(values[0])}\n                    max={100}\n                    step={10}\n                    disabled={isMuted}\n                  />\n                </div>\n\n                <Button\n                  variant=\"outline\"\n                  size=\"sm\"\n                  onClick={testAnnouncement}\n                  disabled={isMuted}\n                  className=\"w-full\"\n                >\n                  <Volume2 className=\"h-4 w-4 mr-2\" />\n                  Test Suara\n                </Button>\n\n                <p className=\"text-xs text-muted-foreground\">\n                  Suara akan memanggil nomor antrian dan loket secara otomatis\n                </p>\n              </div>\n            </PopoverContent>\n          </Popover>\n\n          <Button\n            variant=\"ghost\"\n            size=\"icon\"\n            onClick={() => setIsMuted(!isMuted)}\n            className=\"text-white hover:bg-white/10\"\n          >\n            {isMuted ? (\n              <VolumeX className=\"h-5 w-5\" />\n            ) : (\n              <Volume2 className=\"h-5 w-5\" />\n            )}\n          </Button>\n          <Button\n            variant=\"ghost\"\n            size=\"icon\"\n            onClick={toggleFullscreen}\n            className=\"text-white hover:bg-white/10\"\n          >\n            <Maximize className=\"h-5 w-5\" />\n          </Button>\n        </div>\n      </div>\n\n      <div className=\"grid gap-8 lg:grid-cols-3\">\n        {/* Current Queue - Main Display */}\n        <div className=\"lg:col-span-2\">\n          <h2 className=\"text-xl font-semibold mb-4 text-slate-300\">\n            Sedang Dipanggil\n          </h2>\n\n          <AnimatePresence mode=\"wait\">\n            {displayData?.current && displayData.current.length > 0 ? (\n              <motion.div\n                key={displayData.current[0].queue_code}\n                initial={{ opacity: 0, scale: 0.9 }}\n                animate={{ opacity: 1, scale: 1 }}\n                exit={{ opacity: 0, scale: 0.9 }}\n                className=\"space-y-4\"\n              >\n                {displayData.current.map((item, index) => (\n                  <motion.div\n                    key={item.queue_code}\n                    initial={{ opacity: 0, y: 20 }}\n                    animate={{ opacity: 1, y: 0 }}\n                    transition={{ delay: index * 0.1 }}\n                    className={`p-8 rounded-3xl bg-gradient-to-r ${getColorClass(item.department_color)} shadow-2xl`}\n                  >\n                    <div className=\"flex items-center justify-between\">\n                      <div>\n                        <p className=\"text-lg opacity-80\">{item.department}</p>\n                        <motion.p\n                          className=\"text-8xl font-bold tracking-wider\"\n                          animate={\n                            item.status === \"called\"\n                              ? { scale: [1, 1.02, 1] }\n                              : {}\n                          }\n                          transition={{ repeat: Infinity, duration: 2 }}\n                        >\n                          {item.queue_code}\n                        </motion.p>\n                        {item.patient_name && (\n                          <p className=\"text-2xl mt-2 opacity-90\">\n                            {item.patient_name}\n                          </p>\n                        )}\n                      </div>\n                      <div className=\"text-right\">\n                        {item.counter && (\n                          <div>\n                            <p className=\"text-lg opacity-80\">Loket</p>\n                            <motion.p\n                              className=\"text-6xl font-bold\"\n                              animate={\n                                item.status === \"called\"\n                                  ? { scale: [1, 1.05, 1] }\n                                  : {}\n                              }\n                              transition={{\n                                repeat: Infinity,\n                                duration: 2,\n                                delay: 0.5,\n                              }}\n                            >\n                              {item.counter}\n                            </motion.p>\n                          </div>\n                        )}\n                        <p className=\"mt-2 text-lg opacity-80\">\n                          {item.status === \"called\"\n                            ? \"Silakan ke loket\"\n                            : \"Sedang dilayani\"}\n                        </p>\n                      </div>\n                    </div>\n                  </motion.div>\n                ))}\n              </motion.div>\n            ) : (\n              <motion.div\n                initial={{ opacity: 0 }}\n                animate={{ opacity: 1 }}\n                className=\"p-16 rounded-3xl bg-slate-800/50 text-center\"\n              >\n                <p className=\"text-4xl text-slate-500\">Menunggu panggilan...</p>\n              </motion.div>\n            )}\n          </AnimatePresence>\n        </div>\n\n        {/* Waiting Queue */}\n        <div>\n          <h2 className=\"text-xl font-semibold mb-4 text-slate-300\">\n            Antrian Berikutnya\n          </h2>\n\n          <div className=\"space-y-3\">\n            <AnimatePresence>\n              {displayData?.waiting && displayData.waiting.length > 0 ? (\n                displayData.waiting.map((item, index) => (\n                  <motion.div\n                    key={item.queue_code}\n                    initial={{ opacity: 0, x: 20 }}\n                    animate={{ opacity: 1, x: 0 }}\n                    exit={{ opacity: 0, x: -20 }}\n                    transition={{ delay: index * 0.05 }}\n                    className=\"p-4 rounded-xl bg-slate-800/80 flex items-center justify-between\"\n                  >\n                    <div className=\"flex items-center gap-4\">\n                      <div\n                        className={`w-3 h-3 rounded-full bg-gradient-to-r ${getColorClass(item.department_color)}`}\n                      />\n                      <span className=\"text-2xl font-bold\">\n                        {item.queue_code}\n                      </span>\n                    </div>\n                    <span className=\"text-slate-400\">{item.department}</span>\n                  </motion.div>\n                ))\n              ) : (\n                <motion.div\n                  initial={{ opacity: 0 }}\n                  animate={{ opacity: 1 }}\n                  className=\"p-8 rounded-xl bg-slate-800/50 text-center\"\n                >\n                  <p className=\"text-slate-500\">Tidak ada antrian</p>\n                </motion.div>\n              )}\n            </AnimatePresence>\n          </div>\n        </div>\n      </div>\n\n      {/* Footer */}\n      <div className=\"mt-8 text-center text-slate-500 text-sm\">\n        <p>Harap menunggu sampai nomor antrian Anda dipanggil</p>\n        {!queueAudio.isSupported() && (\n          <p className=\"mt-2 text-yellow-500\">\n            Browser tidak mendukung fitur suara. Gunakan browser modern untuk\n            pengalaman terbaik.\n          </p>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}
{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/development/ZEDDev/Project%20AI/Klinik%20Apps%20NexJS/src/providers/theme-provider.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport { ThemeProvider as NextThemesProvider } from \"next-themes\";\n\nexport function ThemeProvider({\n  children,\n  ...props\n}: React.ComponentProps<typeof NextThemesProvider>) {\n  return <NextThemesProvider {...props}>{children}</NextThemesProvider>;\n}\n"],"names":[],"mappings":";;;;;AAGA;AAHA;;;AAKO,SAAS,cAAc,EAC5B,QAAQ,EACR,GAAG,OAC6C;IAChD,qBAAO,8OAAC,iKAAkB;QAAE,GAAG,KAAK;kBAAG;;;;;;AACzC"}},
    {"offset": {"line": 33, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/development/ZEDDev/Project%20AI/Klinik%20Apps%20NexJS/src/providers/query-provider.tsx"],"sourcesContent":["\"use client\";\n\nimport { QueryClient, QueryClientProvider } from \"@tanstack/react-query\";\nimport { useState } from \"react\";\n\nexport function QueryProvider({ children }: { children: React.ReactNode }) {\n  const [queryClient] = useState(\n    () =>\n      new QueryClient({\n        defaultOptions: {\n          queries: {\n            staleTime: 60 * 1000, // 1 minute\n            refetchOnWindowFocus: false,\n          },\n        },\n      })\n  );\n\n  return (\n    <QueryClientProvider client={queryClient}>{children}</QueryClientProvider>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AACA;AAHA;;;;AAKO,SAAS,cAAc,EAAE,QAAQ,EAAiC;IACvE,MAAM,CAAC,YAAY,GAAG,IAAA,iNAAQ,EAC5B,IACE,IAAI,4LAAW,CAAC;YACd,gBAAgB;gBACd,SAAS;oBACP,WAAW,KAAK;oBAChB,sBAAsB;gBACxB;YACF;QACF;IAGJ,qBACE,8OAAC,6MAAmB;QAAC,QAAQ;kBAAc;;;;;;AAE/C"}},
    {"offset": {"line": 169, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/development/ZEDDev/Project%20AI/Klinik%20Apps%20NexJS/src/lib/axios.ts"],"sourcesContent":["import axios from 'axios';\n\nconst API_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:8000';\n\n// Create axios instance with default config\nconst api = axios.create({\n  baseURL: API_URL,\n  headers: {\n    'Content-Type': 'application/json',\n    'Accept': 'application/json',\n  },\n  withCredentials: true, // Required for Sanctum cookies\n});\n\n// Request interceptor - add token to requests\napi.interceptors.request.use(\n  (config) => {\n    // Get token from localStorage\n    const token = typeof window !== 'undefined' ? localStorage.getItem('auth_token') : null;\n\n    if (token) {\n      config.headers.Authorization = `Bearer ${token}`;\n    }\n\n    return config;\n  },\n  (error) => {\n    return Promise.reject(error);\n  }\n);\n\n// Response interceptor - handle errors globally\napi.interceptors.response.use(\n  (response) => response,\n  (error) => {\n    // Handle 401 Unauthorized - redirect to login\n    if (error.response?.status === 401) {\n      if (typeof window !== 'undefined') {\n        localStorage.removeItem('auth_token');\n        localStorage.removeItem('auth_user');\n\n        // Only redirect if not already on login page\n        if (!window.location.pathname.includes('/login')) {\n          window.location.href = '/login';\n        }\n      }\n    }\n\n    return Promise.reject(error);\n  }\n);\n\n// Function to get CSRF cookie from Sanctum (required before login)\nexport const getCsrfCookie = async () => {\n  await axios.get(`${API_URL}/sanctum/csrf-cookie`, {\n    withCredentials: true,\n  });\n};\n\nexport default api;\n"],"names":[],"mappings":";;;;;;AAAA;;AAEA,MAAM,UAAU,6DAAmC;AAEnD,4CAA4C;AAC5C,MAAM,MAAM,gJAAK,CAAC,MAAM,CAAC;IACvB,SAAS;IACT,SAAS;QACP,gBAAgB;QAChB,UAAU;IACZ;IACA,iBAAiB;AACnB;AAEA,8CAA8C;AAC9C,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CAC1B,CAAC;IACC,8BAA8B;IAC9B,MAAM,QAAQ,sCAAgC,0BAAqC;IAEnF;;IAIA,OAAO;AACT,GACA,CAAC;IACC,OAAO,QAAQ,MAAM,CAAC;AACxB;AAGF,gDAAgD;AAChD,IAAI,YAAY,CAAC,QAAQ,CAAC,GAAG,CAC3B,CAAC,WAAa,UACd,CAAC;IACC,8CAA8C;IAC9C,IAAI,MAAM,QAAQ,EAAE,WAAW,KAAK;QAClC;;IASF;IAEA,OAAO,QAAQ,MAAM,CAAC;AACxB;AAIK,MAAM,gBAAgB;IAC3B,MAAM,gJAAK,CAAC,GAAG,CAAC,GAAG,QAAQ,oBAAoB,CAAC,EAAE;QAChD,iBAAiB;IACnB;AACF;uCAEe"}},
    {"offset": {"line": 216, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/development/ZEDDev/Project%20AI/Klinik%20Apps%20NexJS/src/services/auth.service.ts"],"sourcesContent":["import api, { getCsrfCookie } from \"@/lib/axios\";\nimport { User, LoginCredentials } from \"@/types/auth\";\n\n// Response types from Laravel\nexport interface LoginResponse {\n  success: boolean;\n  message: string;\n  data: {\n    user: User;\n    token: string;\n  };\n}\n\nexport interface UserResponse {\n  success: boolean;\n  message: string;\n  data: User;\n}\n\nexport interface LogoutResponse {\n  success: boolean;\n  message: string;\n}\n\n// Auth service functions\nconst authService = {\n  /**\n   * Login user with email and password\n   */\n  async login(credentials: LoginCredentials): Promise<LoginResponse> {\n    // Get CSRF cookie first (optional for token-based auth, but needed for session-based)\n    try {\n      await getCsrfCookie();\n    } catch {\n      // Ignore CSRF error for token-based auth\n    }\n\n    // Then login\n    const response = await api.post<LoginResponse>(\n      \"/api/auth/login\",\n      credentials,\n    );\n\n    // Store token and user in localStorage\n    if (response.data.success && response.data.data.token) {\n      localStorage.setItem(\"auth_token\", response.data.data.token);\n      localStorage.setItem(\n        \"auth_user\",\n        JSON.stringify(response.data.data.user),\n      );\n    }\n\n    return response.data;\n  },\n\n  /**\n   * Logout current user\n   */\n  async logout(): Promise<LogoutResponse> {\n    try {\n      const response = await api.post<LogoutResponse>(\"/api/auth/logout\");\n      return response.data;\n    } finally {\n      // Always clear local storage on logout attempt\n      localStorage.removeItem(\"auth_token\");\n      localStorage.removeItem(\"auth_user\");\n    }\n  },\n\n  /**\n   * Get current authenticated user\n   */\n  async getCurrentUser(): Promise<UserResponse> {\n    const response = await api.get<UserResponse>(\"/api/auth/me\");\n    return response.data;\n  },\n\n  /**\n   * Check if user is authenticated (local check)\n   */\n  isAuthenticated(): boolean {\n    if (typeof window === \"undefined\") return false;\n    return !!localStorage.getItem(\"auth_token\");\n  },\n\n  /**\n   * Get stored user from localStorage\n   */\n  getStoredUser(): User | null {\n    if (typeof window === \"undefined\") return null;\n\n    const userStr = localStorage.getItem(\"auth_user\");\n    if (!userStr) return null;\n\n    try {\n      return JSON.parse(userStr) as User;\n    } catch {\n      return null;\n    }\n  },\n\n  /**\n   * Get stored token\n   */\n  getToken(): string | null {\n    if (typeof window === \"undefined\") return null;\n    return localStorage.getItem(\"auth_token\");\n  },\n};\n\nexport default authService;\n"],"names":[],"mappings":";;;;AAAA;;AAwBA,yBAAyB;AACzB,MAAM,cAAc;IAClB;;GAEC,GACD,MAAM,OAAM,WAA6B;QACvC,sFAAsF;QACtF,IAAI;YACF,MAAM,IAAA,oIAAa;QACrB,EAAE,OAAM;QACN,yCAAyC;QAC3C;QAEA,aAAa;QACb,MAAM,WAAW,MAAM,8HAAG,CAAC,IAAI,CAC7B,mBACA;QAGF,uCAAuC;QACvC,IAAI,SAAS,IAAI,CAAC,OAAO,IAAI,SAAS,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE;YACrD,aAAa,OAAO,CAAC,cAAc,SAAS,IAAI,CAAC,IAAI,CAAC,KAAK;YAC3D,aAAa,OAAO,CAClB,aACA,KAAK,SAAS,CAAC,SAAS,IAAI,CAAC,IAAI,CAAC,IAAI;QAE1C;QAEA,OAAO,SAAS,IAAI;IACtB;IAEA;;GAEC,GACD,MAAM;QACJ,IAAI;YACF,MAAM,WAAW,MAAM,8HAAG,CAAC,IAAI,CAAiB;YAChD,OAAO,SAAS,IAAI;QACtB,SAAU;YACR,+CAA+C;YAC/C,aAAa,UAAU,CAAC;YACxB,aAAa,UAAU,CAAC;QAC1B;IACF;IAEA;;GAEC,GACD,MAAM;QACJ,MAAM,WAAW,MAAM,8HAAG,CAAC,GAAG,CAAe;QAC7C,OAAO,SAAS,IAAI;IACtB;IAEA;;GAEC,GACD;QACE,wCAAmC,OAAO;;;IAE5C;IAEA;;GAEC,GACD;QACE,wCAAmC,OAAO;;;QAE1C,MAAM;IAQR;IAEA;;GAEC,GACD;QACE,wCAAmC,OAAO;;;IAE5C;AACF;uCAEe"}},
    {"offset": {"line": 288, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/development/ZEDDev/Project%20AI/Klinik%20Apps%20NexJS/src/providers/auth-provider.tsx"],"sourcesContent":["\"use client\";\n\nimport {\n  createContext,\n  useContext,\n  useState,\n  useEffect,\n  useCallback,\n} from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport type { User, AuthContextType, LoginCredentials } from \"@/types\";\nimport authService from \"@/services/auth.service\";\n\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\n\nexport function AuthProvider({ children }: { children: React.ReactNode }) {\n  const [user, setUser] = useState<User | null>(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const router = useRouter();\n\n  const checkAuth = useCallback(async () => {\n    setIsLoading(true);\n    try {\n      // Check if we have a stored token\n      const token = authService.getToken();\n\n      if (token) {\n        // Try to get current user from API to verify token is still valid\n        try {\n          const response = await authService.getCurrentUser();\n          if (response.success && response.data) {\n            setUser(response.data);\n            // Update stored user data\n            localStorage.setItem(\"auth_user\", JSON.stringify(response.data));\n          } else {\n            // Token invalid, clear storage\n            localStorage.removeItem(\"auth_token\");\n            localStorage.removeItem(\"auth_user\");\n            setUser(null);\n          }\n        } catch {\n          // API call failed, try to use stored user data\n          const storedUser = authService.getStoredUser();\n          if (storedUser) {\n            setUser(storedUser);\n          } else {\n            setUser(null);\n          }\n        }\n      } else {\n        setUser(null);\n      }\n    } catch (error) {\n      console.error(\"Auth check failed:\", error);\n      setUser(null);\n    } finally {\n      setIsLoading(false);\n    }\n  }, []);\n\n  useEffect(() => {\n    checkAuth();\n  }, [checkAuth]);\n\n  const login = async (credentials: LoginCredentials) => {\n    setIsLoading(true);\n    try {\n      const response = await authService.login(credentials);\n\n      if (response.success && response.data.user) {\n        setUser(response.data.user);\n        // Redirect to dashboard after successful login\n        router.push(\"/dashboard\");\n      } else {\n        throw new Error(response.message || \"Login gagal\");\n      }\n    } catch (error) {\n      // Handle axios error\n      if (error && typeof error === \"object\" && \"response\" in error) {\n        const axiosError = error as {\n          response?: { data?: { message?: string } };\n        };\n        throw new Error(\n          axiosError.response?.data?.message || \"Email atau password salah\",\n        );\n      }\n      throw error;\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const logout = async () => {\n    setIsLoading(true);\n    try {\n      await authService.logout();\n      setUser(null);\n      router.push(\"/login\");\n    } catch (error) {\n      console.error(\"Logout failed:\", error);\n      // Even if API fails, clear local state and redirect\n      setUser(null);\n      router.push(\"/login\");\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <AuthContext.Provider\n      value={{\n        user,\n        isAuthenticated: !!user,\n        isLoading,\n        login,\n        logout,\n        checkAuth,\n      }}\n    >\n      {children}\n    </AuthContext.Provider>\n  );\n}\n\nexport function useAuth() {\n  const context = useContext(AuthContext);\n  if (context === undefined) {\n    throw new Error(\"useAuth must be used within an AuthProvider\");\n  }\n  return context;\n}\n"],"names":[],"mappings":";;;;;;;AAEA;AAOA;AAEA;AAXA;;;;;AAaA,MAAM,4BAAc,IAAA,sNAAa,EAA8B;AAExD,SAAS,aAAa,EAAE,QAAQ,EAAiC;IACtE,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAc;IAC9C,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAC;IAC3C,MAAM,SAAS,IAAA,+IAAS;IAExB,MAAM,YAAY,IAAA,oNAAW,EAAC;QAC5B,aAAa;QACb,IAAI;YACF,kCAAkC;YAClC,MAAM,QAAQ,6IAAW,CAAC,QAAQ;YAElC,IAAI,OAAO;gBACT,kEAAkE;gBAClE,IAAI;oBACF,MAAM,WAAW,MAAM,6IAAW,CAAC,cAAc;oBACjD,IAAI,SAAS,OAAO,IAAI,SAAS,IAAI,EAAE;wBACrC,QAAQ,SAAS,IAAI;wBACrB,0BAA0B;wBAC1B,aAAa,OAAO,CAAC,aAAa,KAAK,SAAS,CAAC,SAAS,IAAI;oBAChE,OAAO;wBACL,+BAA+B;wBAC/B,aAAa,UAAU,CAAC;wBACxB,aAAa,UAAU,CAAC;wBACxB,QAAQ;oBACV;gBACF,EAAE,OAAM;oBACN,+CAA+C;oBAC/C,MAAM,aAAa,6IAAW,CAAC,aAAa;oBAC5C,IAAI,YAAY;wBACd,QAAQ;oBACV,OAAO;wBACL,QAAQ;oBACV;gBACF;YACF,OAAO;gBACL,QAAQ;YACV;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,sBAAsB;YACpC,QAAQ;QACV,SAAU;YACR,aAAa;QACf;IACF,GAAG,EAAE;IAEL,IAAA,kNAAS,EAAC;QACR;IACF,GAAG;QAAC;KAAU;IAEd,MAAM,QAAQ,OAAO;QACnB,aAAa;QACb,IAAI;YACF,MAAM,WAAW,MAAM,6IAAW,CAAC,KAAK,CAAC;YAEzC,IAAI,SAAS,OAAO,IAAI,SAAS,IAAI,CAAC,IAAI,EAAE;gBAC1C,QAAQ,SAAS,IAAI,CAAC,IAAI;gBAC1B,+CAA+C;gBAC/C,OAAO,IAAI,CAAC;YACd,OAAO;gBACL,MAAM,IAAI,MAAM,SAAS,OAAO,IAAI;YACtC;QACF,EAAE,OAAO,OAAO;YACd,qBAAqB;YACrB,IAAI,SAAS,OAAO,UAAU,YAAY,cAAc,OAAO;gBAC7D,MAAM,aAAa;gBAGnB,MAAM,IAAI,MACR,WAAW,QAAQ,EAAE,MAAM,WAAW;YAE1C;YACA,MAAM;QACR,SAAU;YACR,aAAa;QACf;IACF;IAEA,MAAM,SAAS;QACb,aAAa;QACb,IAAI;YACF,MAAM,6IAAW,CAAC,MAAM;YACxB,QAAQ;YACR,OAAO,IAAI,CAAC;QACd,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,kBAAkB;YAChC,oDAAoD;YACpD,QAAQ;YACR,OAAO,IAAI,CAAC;QACd,SAAU;YACR,aAAa;QACf;IACF;IAEA,qBACE,8OAAC,YAAY,QAAQ;QACnB,OAAO;YACL;YACA,iBAAiB,CAAC,CAAC;YACnB;YACA;YACA;YACA;QACF;kBAEC;;;;;;AAGP;AAEO,SAAS;IACd,MAAM,UAAU,IAAA,mNAAU,EAAC;IAC3B,IAAI,YAAY,WAAW;QACzB,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT"}},
    {"offset": {"line": 415, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/development/ZEDDev/Project%20AI/Klinik%20Apps%20NexJS/src/providers/index.tsx"],"sourcesContent":["\"use client\";\n\nimport { ThemeProvider } from \"./theme-provider\";\nimport { QueryProvider } from \"./query-provider\";\nimport { AuthProvider } from \"./auth-provider\";\nimport { Toaster } from \"sonner\";\n\nexport function Providers({ children }: { children: React.ReactNode }) {\n  return (\n    <ThemeProvider\n      attribute=\"class\"\n      defaultTheme=\"light\"\n      enableSystem\n      disableTransitionOnChange\n    >\n      <QueryProvider>\n        <AuthProvider>\n          {children}\n          <Toaster position=\"top-right\" richColors />\n        </AuthProvider>\n      </QueryProvider>\n    </ThemeProvider>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAOO,SAAS,UAAU,EAAE,QAAQ,EAAiC;IACnE,qBACE,8OAAC,uJAAa;QACZ,WAAU;QACV,cAAa;QACb,YAAY;QACZ,yBAAyB;kBAEzB,cAAA,8OAAC,uJAAa;sBACZ,cAAA,8OAAC,qJAAY;;oBACV;kCACD,8OAAC,mJAAO;wBAAC,UAAS;wBAAY,UAAU;;;;;;;;;;;;;;;;;;;;;;AAKlD"}}]
}
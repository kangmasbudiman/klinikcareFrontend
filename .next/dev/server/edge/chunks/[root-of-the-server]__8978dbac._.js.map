{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/middleware.ts"],"sourcesContent":["import { NextResponse } from \"next/server\";\nimport type { NextRequest } from \"next/server\";\n\n// Public routes that don't require authentication\nconst publicRoutes = [\n  \"/login\",\n  \"/forgot-password\",\n  \"/reset-password\",\n  \"/kiosk\",\n  \"/queue/display\",\n];\n\n// Routes that require specific roles\nconst roleRoutes: Record<string, string[]> = {\n  \"/users\": [\"super_admin\", \"admin_klinik\"],\n  \"/master\": [\"super_admin\", \"admin_klinik\"],\n  \"/reports\": [\"super_admin\", \"admin_klinik\"],\n  \"/pharmacy/stock\": [\"super_admin\", \"admin_klinik\"],\n};\n\nexport function middleware(request: NextRequest) {\n  const { pathname } = request.nextUrl;\n\n  // Allow public routes\n  if (publicRoutes.some((route) => pathname.startsWith(route))) {\n    return NextResponse.next();\n  }\n\n  // Check for auth cookie/token (in real app, validate JWT here)\n  // For now, we'll let client-side handle auth since we're using localStorage\n  // In production with Laravel, you'd validate the session/token here\n\n  // Allow static files and API routes\n  if (\n    pathname.startsWith(\"/_next\") ||\n    pathname.startsWith(\"/api\") ||\n    pathname.includes(\".\")\n  ) {\n    return NextResponse.next();\n  }\n\n  // Redirect root to dashboard or login\n  if (pathname === \"/\") {\n    return NextResponse.redirect(new URL(\"/login\", request.url));\n  }\n\n  return NextResponse.next();\n}\n\nexport const config = {\n  matcher: [\n    /*\n     * Match all request paths except for the ones starting with:\n     * - api (API routes)\n     * - _next/static (static files)\n     * - _next/image (image optimization files)\n     * - favicon.ico (favicon file)\n     */\n    \"/((?!api|_next/static|_next/image|favicon.ico).*)\",\n  ],\n};\n"],"names":[],"mappings":";;;;;;AAAA;AAAA;;AAGA,kDAAkD;AAClD,MAAM,eAAe;IACnB;IACA;IACA;IACA;IACA;CACD;AAED,qCAAqC;AACrC,MAAM,aAAuC;IAC3C,UAAU;QAAC;QAAe;KAAe;IACzC,WAAW;QAAC;QAAe;KAAe;IAC1C,YAAY;QAAC;QAAe;KAAe;IAC3C,mBAAmB;QAAC;QAAe;KAAe;AACpD;AAEO,SAAS,WAAW,OAAoB;IAC7C,MAAM,EAAE,QAAQ,EAAE,GAAG,QAAQ,OAAO;IAEpC,sBAAsB;IACtB,IAAI,aAAa,IAAI,CAAC,CAAC,QAAU,SAAS,UAAU,CAAC,SAAS;QAC5D,OAAO,gMAAY,CAAC,IAAI;IAC1B;IAEA,+DAA+D;IAC/D,4EAA4E;IAC5E,oEAAoE;IAEpE,oCAAoC;IACpC,IACE,SAAS,UAAU,CAAC,aACpB,SAAS,UAAU,CAAC,WACpB,SAAS,QAAQ,CAAC,MAClB;QACA,OAAO,gMAAY,CAAC,IAAI;IAC1B;IAEA,sCAAsC;IACtC,IAAI,aAAa,KAAK;QACpB,OAAO,gMAAY,CAAC,QAAQ,CAAC,IAAI,IAAI,UAAU,QAAQ,GAAG;IAC5D;IAEA,OAAO,gMAAY,CAAC,IAAI;AAC1B;AAEO,MAAM,SAAS;IACpB,SAAS;QACP;;;;;;KAMC,GACD;KACD;AACH"}}]
}